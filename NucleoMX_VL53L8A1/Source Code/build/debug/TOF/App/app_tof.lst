ARM GAS  C:\Temp\ccDYIi5r.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"app_tof.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "TOF/App/app_tof.c"
  20              		.section	.text.get_key,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	get_key:
  27              	.LFB147:
   1:TOF/App/app_tof.c **** /**
   2:TOF/App/app_tof.c ****   ******************************************************************************
   3:TOF/App/app_tof.c ****   * @file          : app_tof.c
   4:TOF/App/app_tof.c ****   * @author        : IMG SW Application Team
   5:TOF/App/app_tof.c ****   * @brief         : This file provides code for the configuration
   6:TOF/App/app_tof.c ****   *                  of the STMicroelectronics.X-CUBE-TOF1.3.4.2 instances.
   7:TOF/App/app_tof.c ****   ******************************************************************************
   8:TOF/App/app_tof.c ****   *
   9:TOF/App/app_tof.c ****   * @attention
  10:TOF/App/app_tof.c ****   *
  11:TOF/App/app_tof.c ****   * Copyright (c) 2023 STMicroelectronics.
  12:TOF/App/app_tof.c ****   * All rights reserved.
  13:TOF/App/app_tof.c ****   *
  14:TOF/App/app_tof.c ****   * This software is licensed under terms that can be found in the LICENSE file
  15:TOF/App/app_tof.c ****   * in the root directory of this software component.
  16:TOF/App/app_tof.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  17:TOF/App/app_tof.c ****   *
  18:TOF/App/app_tof.c ****   ******************************************************************************
  19:TOF/App/app_tof.c ****   */
  20:TOF/App/app_tof.c **** 
  21:TOF/App/app_tof.c **** #ifdef __cplusplus
  22:TOF/App/app_tof.c **** extern "C" {
  23:TOF/App/app_tof.c **** #endif
  24:TOF/App/app_tof.c **** 
  25:TOF/App/app_tof.c **** /* Includes ------------------------------------------------------------------*/
  26:TOF/App/app_tof.c **** #include "app_tof.h"
  27:TOF/App/app_tof.c **** #include "main.h"
  28:TOF/App/app_tof.c **** #include <stdio.h>
  29:TOF/App/app_tof.c **** 
  30:TOF/App/app_tof.c **** #include "53l8a1_ranging_sensor.h"
  31:TOF/App/app_tof.c **** #include "app_tof_pin_conf.h"
ARM GAS  C:\Temp\ccDYIi5r.s 			page 2


  32:TOF/App/app_tof.c **** #include "stm32f4xx_nucleo.h"
  33:TOF/App/app_tof.c **** 
  34:TOF/App/app_tof.c **** /* Private typedef -----------------------------------------------------------*/
  35:TOF/App/app_tof.c **** 
  36:TOF/App/app_tof.c **** /* Private define ------------------------------------------------------------*/
  37:TOF/App/app_tof.c **** #define TIMING_BUDGET (30U) /* 5 ms < TimingBudget < 100 ms */
  38:TOF/App/app_tof.c **** #define RANGING_FREQUENCY (10U) /* Ranging frequency Hz (shall be consistent with TimingBudget valu
  39:TOF/App/app_tof.c **** #define POLLING_PERIOD (1)
  40:TOF/App/app_tof.c **** 
  41:TOF/App/app_tof.c **** /* Private variables ---------------------------------------------------------*/
  42:TOF/App/app_tof.c **** static RANGING_SENSOR_Capabilities_t Cap;
  43:TOF/App/app_tof.c **** static RANGING_SENSOR_ProfileConfig_t Profile;
  44:TOF/App/app_tof.c **** static RANGING_SENSOR_Result_t Result;
  45:TOF/App/app_tof.c **** static int32_t status = 0;
  46:TOF/App/app_tof.c **** static volatile uint8_t PushButtonDetected = 0;
  47:TOF/App/app_tof.c **** volatile uint8_t ToF_EventDetected = 0;
  48:TOF/App/app_tof.c **** 
  49:TOF/App/app_tof.c **** /* Private function prototypes -----------------------------------------------*/
  50:TOF/App/app_tof.c **** static void MX_53L8A1_SimpleRanging_Init(void);
  51:TOF/App/app_tof.c **** static void MX_53L8A1_SimpleRanging_Process(void);
  52:TOF/App/app_tof.c **** static void print_result(RANGING_SENSOR_Result_t *Result);
  53:TOF/App/app_tof.c **** static void toggle_resolution(void);
  54:TOF/App/app_tof.c **** static void toggle_signal_and_ambient(void);
  55:TOF/App/app_tof.c **** static void clear_screen(void);
  56:TOF/App/app_tof.c **** static void display_commands_banner(void);
  57:TOF/App/app_tof.c **** static void handle_cmd(uint8_t cmd);
  58:TOF/App/app_tof.c **** static uint8_t get_key(void);
  59:TOF/App/app_tof.c **** static uint32_t com_has_data(void);
  60:TOF/App/app_tof.c **** 
  61:TOF/App/app_tof.c **** void MX_TOF_Init(void)
  62:TOF/App/app_tof.c **** {
  63:TOF/App/app_tof.c ****   /* USER CODE BEGIN SV */
  64:TOF/App/app_tof.c **** 
  65:TOF/App/app_tof.c ****   /* USER CODE END SV */
  66:TOF/App/app_tof.c **** 
  67:TOF/App/app_tof.c ****   /* USER CODE BEGIN TOF_Init_PreTreatment */
  68:TOF/App/app_tof.c **** 
  69:TOF/App/app_tof.c ****   /* USER CODE END TOF_Init_PreTreatment */
  70:TOF/App/app_tof.c **** 
  71:TOF/App/app_tof.c ****   /* Initialize the peripherals and the TOF components */
  72:TOF/App/app_tof.c **** 
  73:TOF/App/app_tof.c ****   MX_53L8A1_SimpleRanging_Init();
  74:TOF/App/app_tof.c **** 
  75:TOF/App/app_tof.c ****   /* USER CODE BEGIN TOF_Init_PostTreatment */
  76:TOF/App/app_tof.c **** 
  77:TOF/App/app_tof.c ****   /* USER CODE END TOF_Init_PostTreatment */
  78:TOF/App/app_tof.c **** }
  79:TOF/App/app_tof.c **** 
  80:TOF/App/app_tof.c **** /*
  81:TOF/App/app_tof.c ****  * LM background task
  82:TOF/App/app_tof.c ****  */
  83:TOF/App/app_tof.c **** void MX_TOF_Process(void)
  84:TOF/App/app_tof.c **** {
  85:TOF/App/app_tof.c ****   /* USER CODE BEGIN TOF_Process_PreTreatment */
  86:TOF/App/app_tof.c **** 
  87:TOF/App/app_tof.c ****   /* USER CODE END TOF_Process_PreTreatment */
  88:TOF/App/app_tof.c **** 
ARM GAS  C:\Temp\ccDYIi5r.s 			page 3


  89:TOF/App/app_tof.c ****   MX_53L8A1_SimpleRanging_Process();
  90:TOF/App/app_tof.c **** 
  91:TOF/App/app_tof.c ****   /* USER CODE BEGIN TOF_Process_PostTreatment */
  92:TOF/App/app_tof.c **** 
  93:TOF/App/app_tof.c ****   /* USER CODE END TOF_Process_PostTreatment */
  94:TOF/App/app_tof.c **** }
  95:TOF/App/app_tof.c **** 
  96:TOF/App/app_tof.c **** static void MX_53L8A1_SimpleRanging_Init(void)
  97:TOF/App/app_tof.c **** {
  98:TOF/App/app_tof.c ****   /* Initialize Virtual COM Port */
  99:TOF/App/app_tof.c ****   // BSP_COM_Init(COM1);
 100:TOF/App/app_tof.c **** 
 101:TOF/App/app_tof.c ****   /* Initialize button */
 102:TOF/App/app_tof.c ****   BSP_PB_Init(BUTTON_KEY, BUTTON_MODE_EXTI);
 103:TOF/App/app_tof.c **** 
 104:TOF/App/app_tof.c ****   /* Sensor reset */
 105:TOF/App/app_tof.c ****   HAL_GPIO_WritePin(VL53L8A1_PWR_EN_C_PORT, VL53L8A1_PWR_EN_C_PIN, GPIO_PIN_RESET);
 106:TOF/App/app_tof.c ****   HAL_Delay(2);
 107:TOF/App/app_tof.c ****   HAL_GPIO_WritePin(VL53L8A1_PWR_EN_C_PORT, VL53L8A1_PWR_EN_C_PIN, GPIO_PIN_SET);
 108:TOF/App/app_tof.c ****   HAL_Delay(2);
 109:TOF/App/app_tof.c ****   HAL_GPIO_WritePin(VL53L8A1_LPn_C_PORT, VL53L8A1_LPn_C_PIN, GPIO_PIN_RESET);
 110:TOF/App/app_tof.c ****   HAL_Delay(2);
 111:TOF/App/app_tof.c ****   HAL_GPIO_WritePin(VL53L8A1_LPn_C_PORT, VL53L8A1_LPn_C_PIN, GPIO_PIN_SET);
 112:TOF/App/app_tof.c ****   HAL_Delay(2);
 113:TOF/App/app_tof.c **** 
 114:TOF/App/app_tof.c ****   printf("\033[2H\033[2J");
 115:TOF/App/app_tof.c ****   printf("53L8A1 Simple Ranging demo application\n");
 116:TOF/App/app_tof.c ****   printf("Sensor initialization...\n");
 117:TOF/App/app_tof.c **** 
 118:TOF/App/app_tof.c ****   status = VL53L8A1_RANGING_SENSOR_Init(VL53L8A1_DEV_CENTER);
 119:TOF/App/app_tof.c **** 
 120:TOF/App/app_tof.c ****   if (status != BSP_ERROR_NONE)
 121:TOF/App/app_tof.c ****   {
 122:TOF/App/app_tof.c ****     printf("VL53L8A1_RANGING_SENSOR_Init failed\n");
 123:TOF/App/app_tof.c ****     while (1);
 124:TOF/App/app_tof.c ****   }
 125:TOF/App/app_tof.c **** }
 126:TOF/App/app_tof.c **** 
 127:TOF/App/app_tof.c **** static void MX_53L8A1_SimpleRanging_Process(void)
 128:TOF/App/app_tof.c **** {
 129:TOF/App/app_tof.c ****   uint32_t Id;
 130:TOF/App/app_tof.c **** 
 131:TOF/App/app_tof.c ****   /*these are the default values for xtalk calibration, update them if needed */
 132:TOF/App/app_tof.c ****   uint16_t reflectance = 16; /* expressed in percent (%) - range 0% - 99% */
 133:TOF/App/app_tof.c ****   uint16_t cal_distance = 600; /* expressed in millimiters (mm) / range 600 mm - 3000 mm*/
 134:TOF/App/app_tof.c **** 
 135:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_ReadID(VL53L8A1_DEV_CENTER, &Id);
 136:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_GetCapabilities(VL53L8A1_DEV_CENTER, &Cap);
 137:TOF/App/app_tof.c **** 
 138:TOF/App/app_tof.c ****   Profile.RangingProfile = RS_PROFILE_4x4_CONTINUOUS;
 139:TOF/App/app_tof.c ****   Profile.TimingBudget = TIMING_BUDGET;
 140:TOF/App/app_tof.c ****   Profile.Frequency = RANGING_FREQUENCY; /* Ranging frequency Hz (shall be consistent with TimingBu
 141:TOF/App/app_tof.c ****   Profile.EnableAmbient = 0; /* Enable: 1, Disable: 0 */
 142:TOF/App/app_tof.c ****   Profile.EnableSignal = 0; /* Enable: 1, Disable: 0 */
 143:TOF/App/app_tof.c **** 
 144:TOF/App/app_tof.c ****   /* set the profile if different from default one */
 145:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_ConfigProfile(VL53L8A1_DEV_CENTER, &Profile);
ARM GAS  C:\Temp\ccDYIi5r.s 			page 4


 146:TOF/App/app_tof.c **** 
 147:TOF/App/app_tof.c ****   printf("--- XTALK CALIBRATION ---\n");
 148:TOF/App/app_tof.c ****   printf("Put a target with %u %% reflectance at %u mm\n", reflectance, cal_distance);
 149:TOF/App/app_tof.c ****   printf("Press the user button to continue...\n");
 150:TOF/App/app_tof.c **** 
 151:TOF/App/app_tof.c ****   /* wait until the button is pressed */
 152:TOF/App/app_tof.c ****   while (PushButtonDetected != 1);
 153:TOF/App/app_tof.c ****   PushButtonDetected = 0;
 154:TOF/App/app_tof.c **** 
 155:TOF/App/app_tof.c ****   printf("--- BEGIN XTALK CALIBRATION ---\n");
 156:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_XTalkCalibration(VL53L8A1_DEV_CENTER, reflectance, cal_distance);
 157:TOF/App/app_tof.c ****   printf("--- END OF XTALK CALIBRATION ---\n");
 158:TOF/App/app_tof.c **** 
 159:TOF/App/app_tof.c ****   status = VL53L8A1_RANGING_SENSOR_Start(VL53L8A1_DEV_CENTER, RS_MODE_ASYNC_CONTINUOUS);
 160:TOF/App/app_tof.c **** 
 161:TOF/App/app_tof.c ****   if (status != BSP_ERROR_NONE)
 162:TOF/App/app_tof.c ****   {
 163:TOF/App/app_tof.c ****     printf("VL53L8A1_RANGING_SENSOR_Start failed\n");
 164:TOF/App/app_tof.c ****     while (1);
 165:TOF/App/app_tof.c ****   }
 166:TOF/App/app_tof.c **** 
 167:TOF/App/app_tof.c ****   while (1)
 168:TOF/App/app_tof.c ****   {
 169:TOF/App/app_tof.c ****     /* interrupt mode */
 170:TOF/App/app_tof.c ****     if (ToF_EventDetected != 0)
 171:TOF/App/app_tof.c ****     {
 172:TOF/App/app_tof.c ****       ToF_EventDetected = 0;
 173:TOF/App/app_tof.c **** 
 174:TOF/App/app_tof.c ****       status = VL53L8A1_RANGING_SENSOR_GetDistance(VL53L8A1_DEV_CENTER, &Result);
 175:TOF/App/app_tof.c **** 
 176:TOF/App/app_tof.c ****       if (status == BSP_ERROR_NONE)
 177:TOF/App/app_tof.c ****       {
 178:TOF/App/app_tof.c ****         print_result(&Result);
 179:TOF/App/app_tof.c ****       }
 180:TOF/App/app_tof.c ****     }
 181:TOF/App/app_tof.c ****     if (com_has_data())
 182:TOF/App/app_tof.c ****     {
 183:TOF/App/app_tof.c ****       handle_cmd(get_key());
 184:TOF/App/app_tof.c ****     }
 185:TOF/App/app_tof.c ****   }
 186:TOF/App/app_tof.c **** }
 187:TOF/App/app_tof.c **** 
 188:TOF/App/app_tof.c **** static void print_result(RANGING_SENSOR_Result_t *Result)
 189:TOF/App/app_tof.c **** {
 190:TOF/App/app_tof.c ****   int8_t i;
 191:TOF/App/app_tof.c ****   int8_t j;
 192:TOF/App/app_tof.c ****   int8_t k;
 193:TOF/App/app_tof.c ****   int8_t l;
 194:TOF/App/app_tof.c ****   uint8_t zones_per_line;
 195:TOF/App/app_tof.c **** 
 196:TOF/App/app_tof.c ****   zones_per_line = ((Profile.RangingProfile == RS_PROFILE_8x8_AUTONOMOUS) ||
 197:TOF/App/app_tof.c ****                     (Profile.RangingProfile == RS_PROFILE_8x8_CONTINUOUS)) ? 8 : 4;
 198:TOF/App/app_tof.c **** 
 199:TOF/App/app_tof.c ****   display_commands_banner();
 200:TOF/App/app_tof.c **** 
 201:TOF/App/app_tof.c ****   printf("Cell Format :\n\n");
 202:TOF/App/app_tof.c ****   for (l = 0; l < RANGING_SENSOR_NB_TARGET_PER_ZONE; l++)
ARM GAS  C:\Temp\ccDYIi5r.s 			page 5


 203:TOF/App/app_tof.c ****   {
 204:TOF/App/app_tof.c ****     printf(" \033[38;5;10m%20s\033[0m : %20s\n", "Distance [mm]", "Status");
 205:TOF/App/app_tof.c ****     if ((Profile.EnableAmbient != 0) || (Profile.EnableSignal != 0))
 206:TOF/App/app_tof.c ****     {
 207:TOF/App/app_tof.c ****       printf(" %20s : %20s\n", "Signal [kcps/spad]", "Ambient [kcps/spad]");
 208:TOF/App/app_tof.c ****     }
 209:TOF/App/app_tof.c ****   }
 210:TOF/App/app_tof.c **** 
 211:TOF/App/app_tof.c ****   printf("\n\n");
 212:TOF/App/app_tof.c **** 
 213:TOF/App/app_tof.c ****   for (j = 0; j < Result->NumberOfZones; j += zones_per_line)
 214:TOF/App/app_tof.c ****   {
 215:TOF/App/app_tof.c ****     for (i = 0; i < zones_per_line; i++) /* number of zones per line */
 216:TOF/App/app_tof.c ****     {
 217:TOF/App/app_tof.c ****       printf(" -----------------");
 218:TOF/App/app_tof.c ****     }
 219:TOF/App/app_tof.c ****     printf("\n");
 220:TOF/App/app_tof.c **** 
 221:TOF/App/app_tof.c ****     for (i = 0; i < zones_per_line; i++)
 222:TOF/App/app_tof.c ****     {
 223:TOF/App/app_tof.c ****       printf("|                 ");
 224:TOF/App/app_tof.c ****     }
 225:TOF/App/app_tof.c ****     printf("|\n");
 226:TOF/App/app_tof.c **** 
 227:TOF/App/app_tof.c ****     for (l = 0; l < RANGING_SENSOR_NB_TARGET_PER_ZONE; l++)
 228:TOF/App/app_tof.c ****     {
 229:TOF/App/app_tof.c ****       /* Print distance and status */
 230:TOF/App/app_tof.c ****       for (k = (zones_per_line - 1); k >= 0; k--)
 231:TOF/App/app_tof.c ****       {
 232:TOF/App/app_tof.c ****         if (Result->ZoneResult[j + k].NumberOfTargets > 0)
 233:TOF/App/app_tof.c ****           printf("| \033[38;5;10m%5ld\033[0m  :  %5ld ",
 234:TOF/App/app_tof.c ****                  (long)Result->ZoneResult[j + k].Distance[l],
 235:TOF/App/app_tof.c ****                  (long)Result->ZoneResult[j + k].Status[l]);
 236:TOF/App/app_tof.c ****         else
 237:TOF/App/app_tof.c ****           printf("| %5s  :  %5s ", "X", "X");
 238:TOF/App/app_tof.c ****       }
 239:TOF/App/app_tof.c ****       printf("|\n");
 240:TOF/App/app_tof.c **** 
 241:TOF/App/app_tof.c ****       if ((Profile.EnableAmbient != 0) || (Profile.EnableSignal != 0))
 242:TOF/App/app_tof.c ****       {
 243:TOF/App/app_tof.c ****         /* Print Signal and Ambient */
 244:TOF/App/app_tof.c ****         for (k = (zones_per_line - 1); k >= 0; k--)
 245:TOF/App/app_tof.c ****         {
 246:TOF/App/app_tof.c ****           if (Result->ZoneResult[j + k].NumberOfTargets > 0)
 247:TOF/App/app_tof.c ****           {
 248:TOF/App/app_tof.c ****             if (Profile.EnableSignal != 0)
 249:TOF/App/app_tof.c ****             {
 250:TOF/App/app_tof.c ****               printf("| %5ld  :  ", (long)Result->ZoneResult[j + k].Signal[l]);
 251:TOF/App/app_tof.c ****             }
 252:TOF/App/app_tof.c ****             else
 253:TOF/App/app_tof.c ****               printf("| %5s  :  ", "X");
 254:TOF/App/app_tof.c **** 
 255:TOF/App/app_tof.c ****             if (Profile.EnableAmbient != 0)
 256:TOF/App/app_tof.c ****             {
 257:TOF/App/app_tof.c ****               printf("%5ld ", (long)Result->ZoneResult[j + k].Ambient[l]);
 258:TOF/App/app_tof.c ****             }
 259:TOF/App/app_tof.c ****             else
ARM GAS  C:\Temp\ccDYIi5r.s 			page 6


 260:TOF/App/app_tof.c ****               printf("%5s ", "X");
 261:TOF/App/app_tof.c ****           }
 262:TOF/App/app_tof.c ****           else
 263:TOF/App/app_tof.c ****             printf("| %5s  :  %5s ", "X", "X");
 264:TOF/App/app_tof.c ****         }
 265:TOF/App/app_tof.c ****         printf("|\n");
 266:TOF/App/app_tof.c ****       }
 267:TOF/App/app_tof.c ****     }
 268:TOF/App/app_tof.c ****   }
 269:TOF/App/app_tof.c **** 
 270:TOF/App/app_tof.c ****   for (i = 0; i < zones_per_line; i++)
 271:TOF/App/app_tof.c ****   {
 272:TOF/App/app_tof.c ****     printf(" -----------------");
 273:TOF/App/app_tof.c ****   }
 274:TOF/App/app_tof.c ****   printf("\n");
 275:TOF/App/app_tof.c **** }
 276:TOF/App/app_tof.c **** 
 277:TOF/App/app_tof.c **** static void toggle_resolution(void)
 278:TOF/App/app_tof.c **** {
 279:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_Stop(VL53L8A1_DEV_CENTER);
 280:TOF/App/app_tof.c **** 
 281:TOF/App/app_tof.c ****   switch (Profile.RangingProfile)
 282:TOF/App/app_tof.c ****   {
 283:TOF/App/app_tof.c ****     case RS_PROFILE_4x4_AUTONOMOUS:
 284:TOF/App/app_tof.c ****       Profile.RangingProfile = RS_PROFILE_8x8_AUTONOMOUS;
 285:TOF/App/app_tof.c ****       break;
 286:TOF/App/app_tof.c **** 
 287:TOF/App/app_tof.c ****     case RS_PROFILE_4x4_CONTINUOUS:
 288:TOF/App/app_tof.c ****       Profile.RangingProfile = RS_PROFILE_8x8_CONTINUOUS;
 289:TOF/App/app_tof.c ****       break;
 290:TOF/App/app_tof.c **** 
 291:TOF/App/app_tof.c ****     case RS_PROFILE_8x8_AUTONOMOUS:
 292:TOF/App/app_tof.c ****       Profile.RangingProfile = RS_PROFILE_4x4_AUTONOMOUS;
 293:TOF/App/app_tof.c ****       break;
 294:TOF/App/app_tof.c **** 
 295:TOF/App/app_tof.c ****     case RS_PROFILE_8x8_CONTINUOUS:
 296:TOF/App/app_tof.c ****       Profile.RangingProfile = RS_PROFILE_4x4_CONTINUOUS;
 297:TOF/App/app_tof.c ****       break;
 298:TOF/App/app_tof.c **** 
 299:TOF/App/app_tof.c ****     default:
 300:TOF/App/app_tof.c ****       break;
 301:TOF/App/app_tof.c ****   }
 302:TOF/App/app_tof.c **** 
 303:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_ConfigProfile(VL53L8A1_DEV_CENTER, &Profile);
 304:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_Start(VL53L8A1_DEV_CENTER, RS_MODE_ASYNC_CONTINUOUS);
 305:TOF/App/app_tof.c **** }
 306:TOF/App/app_tof.c **** 
 307:TOF/App/app_tof.c **** static void toggle_signal_and_ambient(void)
 308:TOF/App/app_tof.c **** {
 309:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_Stop(VL53L8A1_DEV_CENTER);
 310:TOF/App/app_tof.c **** 
 311:TOF/App/app_tof.c ****   Profile.EnableAmbient = (Profile.EnableAmbient) ? 0U : 1U;
 312:TOF/App/app_tof.c ****   Profile.EnableSignal = (Profile.EnableSignal) ? 0U : 1U;
 313:TOF/App/app_tof.c **** 
 314:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_ConfigProfile(VL53L8A1_DEV_CENTER, &Profile);
 315:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_Start(VL53L8A1_DEV_CENTER, RS_MODE_ASYNC_CONTINUOUS);
 316:TOF/App/app_tof.c **** }
ARM GAS  C:\Temp\ccDYIi5r.s 			page 7


 317:TOF/App/app_tof.c **** 
 318:TOF/App/app_tof.c **** static void clear_screen(void)
 319:TOF/App/app_tof.c **** {
 320:TOF/App/app_tof.c ****   printf("%c[2J", 27); /* 27 is ESC command */
 321:TOF/App/app_tof.c **** }
 322:TOF/App/app_tof.c **** 
 323:TOF/App/app_tof.c **** static void display_commands_banner(void)
 324:TOF/App/app_tof.c **** {
 325:TOF/App/app_tof.c ****   /* clear screen */
 326:TOF/App/app_tof.c ****   printf("%c[2H", 27);
 327:TOF/App/app_tof.c **** 
 328:TOF/App/app_tof.c ****   printf("53L8A1 Simple Ranging demo application\n");
 329:TOF/App/app_tof.c ****   printf("--------------------------------------\n\n");
 330:TOF/App/app_tof.c **** 
 331:TOF/App/app_tof.c ****   printf("Use the following keys to control application\n");
 332:TOF/App/app_tof.c ****   printf(" 'r' : change resolution\n");
 333:TOF/App/app_tof.c ****   printf(" 's' : enable signal and ambient\n");
 334:TOF/App/app_tof.c ****   printf(" 'c' : clear screen\n");
 335:TOF/App/app_tof.c ****   printf("\n");
 336:TOF/App/app_tof.c **** }
 337:TOF/App/app_tof.c **** 
 338:TOF/App/app_tof.c **** static void handle_cmd(uint8_t cmd)
 339:TOF/App/app_tof.c **** {
 340:TOF/App/app_tof.c ****   switch (cmd)
 341:TOF/App/app_tof.c ****   {
 342:TOF/App/app_tof.c ****     case 'r':
 343:TOF/App/app_tof.c ****       toggle_resolution();
 344:TOF/App/app_tof.c ****       clear_screen();
 345:TOF/App/app_tof.c ****       break;
 346:TOF/App/app_tof.c **** 
 347:TOF/App/app_tof.c ****     case 's':
 348:TOF/App/app_tof.c ****       toggle_signal_and_ambient();
 349:TOF/App/app_tof.c ****       clear_screen();
 350:TOF/App/app_tof.c ****       break;
 351:TOF/App/app_tof.c **** 
 352:TOF/App/app_tof.c ****     case 'c':
 353:TOF/App/app_tof.c ****       clear_screen();
 354:TOF/App/app_tof.c ****       break;
 355:TOF/App/app_tof.c **** 
 356:TOF/App/app_tof.c ****     default:
 357:TOF/App/app_tof.c ****       break;
 358:TOF/App/app_tof.c ****   }
 359:TOF/App/app_tof.c **** }
 360:TOF/App/app_tof.c **** 
 361:TOF/App/app_tof.c **** static uint8_t get_key(void)
 362:TOF/App/app_tof.c **** {
  28              		.loc 1 362 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 363:TOF/App/app_tof.c ****   uint8_t cmd = 0;
  33              		.loc 1 363 3 view .LVU1
  34              	.LVL0:
 364:TOF/App/app_tof.c **** 
 365:TOF/App/app_tof.c ****   // HAL_UART_Receive(&hcom_uart[COM1], &cmd, 1, HAL_MAX_DELAY);
 366:TOF/App/app_tof.c **** 
ARM GAS  C:\Temp\ccDYIi5r.s 			page 8


 367:TOF/App/app_tof.c ****   return cmd;
  35              		.loc 1 367 3 view .LVU2
 368:TOF/App/app_tof.c **** }
  36              		.loc 1 368 1 is_stmt 0 view .LVU3
  37 0000 0020     		movs	r0, #0
  38 0002 7047     		bx	lr
  39              		.cfi_endproc
  40              	.LFE147:
  42              		.section	.text.com_has_data,"ax",%progbits
  43              		.align	1
  44              		.syntax unified
  45              		.thumb
  46              		.thumb_func
  48              	com_has_data:
  49              	.LFB148:
 369:TOF/App/app_tof.c **** 
 370:TOF/App/app_tof.c **** static uint32_t com_has_data(void)
 371:TOF/App/app_tof.c **** {
  50              		.loc 1 371 1 is_stmt 1 view -0
  51              		.cfi_startproc
  52              		@ args = 0, pretend = 0, frame = 0
  53              		@ frame_needed = 0, uses_anonymous_args = 0
  54              		@ link register save eliminated.
 372:TOF/App/app_tof.c ****   // return __HAL_UART_GET_FLAG(&hcom_uart[COM1], UART_FLAG_RXNE);;
 373:TOF/App/app_tof.c **** }
  55              		.loc 1 373 1 view .LVU5
  56 0000 7047     		bx	lr
  57              		.cfi_endproc
  58              	.LFE148:
  60              		.section	.rodata.clear_screen.str1.4,"aMS",%progbits,1
  61              		.align	2
  62              	.LC0:
  63 0000 25635B32 		.ascii	"%c[2J\000"
  63      4A00
  64              		.section	.text.clear_screen,"ax",%progbits
  65              		.align	1
  66              		.syntax unified
  67              		.thumb
  68              		.thumb_func
  70              	clear_screen:
  71              	.LFB144:
 319:TOF/App/app_tof.c ****   printf("%c[2J", 27); /* 27 is ESC command */
  72              		.loc 1 319 1 view -0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76 0000 08B5     		push	{r3, lr}
  77              		.cfi_def_cfa_offset 8
  78              		.cfi_offset 3, -8
  79              		.cfi_offset 14, -4
 320:TOF/App/app_tof.c **** }
  80              		.loc 1 320 3 view .LVU7
  81 0002 1B21     		movs	r1, #27
  82 0004 0148     		ldr	r0, .L5
  83 0006 FFF7FEFF 		bl	printf
  84              	.LVL1:
 321:TOF/App/app_tof.c **** 
ARM GAS  C:\Temp\ccDYIi5r.s 			page 9


  85              		.loc 1 321 1 is_stmt 0 view .LVU8
  86 000a 08BD     		pop	{r3, pc}
  87              	.L6:
  88              		.align	2
  89              	.L5:
  90 000c 00000000 		.word	.LC0
  91              		.cfi_endproc
  92              	.LFE144:
  94              		.section	.rodata.MX_53L8A1_SimpleRanging_Init.str1.4,"aMS",%progbits,1
  95              		.align	2
  96              	.LC1:
  97 0000 1B5B3248 		.ascii	"\033[2H\033[2J\000"
  97      1B5B324A 
  97      00
  98 0009 000000   		.align	2
  99              	.LC2:
 100 000c 35334C38 		.ascii	"53L8A1 Simple Ranging demo application\000"
 100      41312053 
 100      696D706C 
 100      65205261 
 100      6E67696E 
 101 0033 00       		.align	2
 102              	.LC3:
 103 0034 53656E73 		.ascii	"Sensor initialization...\000"
 103      6F722069 
 103      6E697469 
 103      616C697A 
 103      6174696F 
 104 004d 000000   		.align	2
 105              	.LC4:
 106 0050 564C3533 		.ascii	"VL53L8A1_RANGING_SENSOR_Init failed\000"
 106      4C384131 
 106      5F52414E 
 106      47494E47 
 106      5F53454E 
 107              		.section	.text.MX_53L8A1_SimpleRanging_Init,"ax",%progbits
 108              		.align	1
 109              		.syntax unified
 110              		.thumb
 111              		.thumb_func
 113              	MX_53L8A1_SimpleRanging_Init:
 114              	.LFB139:
  97:TOF/App/app_tof.c ****   /* Initialize Virtual COM Port */
 115              		.loc 1 97 1 is_stmt 1 view -0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 0
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119 0000 10B5     		push	{r4, lr}
 120              		.cfi_def_cfa_offset 8
 121              		.cfi_offset 4, -8
 122              		.cfi_offset 14, -4
 102:TOF/App/app_tof.c **** 
 123              		.loc 1 102 3 view .LVU10
 124 0002 0121     		movs	r1, #1
 125 0004 0020     		movs	r0, #0
 126 0006 FFF7FEFF 		bl	BSP_PB_Init
 127              	.LVL2:
ARM GAS  C:\Temp\ccDYIi5r.s 			page 10


 105:TOF/App/app_tof.c ****   HAL_Delay(2);
 128              		.loc 1 105 3 view .LVU11
 129 000a 1B4C     		ldr	r4, .L12
 130 000c 0022     		movs	r2, #0
 131 000e 8021     		movs	r1, #128
 132 0010 2046     		mov	r0, r4
 133 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 134              	.LVL3:
 106:TOF/App/app_tof.c ****   HAL_GPIO_WritePin(VL53L8A1_PWR_EN_C_PORT, VL53L8A1_PWR_EN_C_PIN, GPIO_PIN_SET);
 135              		.loc 1 106 3 view .LVU12
 136 0016 0220     		movs	r0, #2
 137 0018 FFF7FEFF 		bl	HAL_Delay
 138              	.LVL4:
 107:TOF/App/app_tof.c ****   HAL_Delay(2);
 139              		.loc 1 107 3 view .LVU13
 140 001c 0122     		movs	r2, #1
 141 001e 8021     		movs	r1, #128
 142 0020 2046     		mov	r0, r4
 143 0022 FFF7FEFF 		bl	HAL_GPIO_WritePin
 144              	.LVL5:
 108:TOF/App/app_tof.c ****   HAL_GPIO_WritePin(VL53L8A1_LPn_C_PORT, VL53L8A1_LPn_C_PIN, GPIO_PIN_RESET);
 145              		.loc 1 108 3 view .LVU14
 146 0026 0220     		movs	r0, #2
 147 0028 FFF7FEFF 		bl	HAL_Delay
 148              	.LVL6:
 109:TOF/App/app_tof.c ****   HAL_Delay(2);
 149              		.loc 1 109 3 view .LVU15
 150 002c 04F58064 		add	r4, r4, #1024
 151 0030 0022     		movs	r2, #0
 152 0032 0121     		movs	r1, #1
 153 0034 2046     		mov	r0, r4
 154 0036 FFF7FEFF 		bl	HAL_GPIO_WritePin
 155              	.LVL7:
 110:TOF/App/app_tof.c ****   HAL_GPIO_WritePin(VL53L8A1_LPn_C_PORT, VL53L8A1_LPn_C_PIN, GPIO_PIN_SET);
 156              		.loc 1 110 3 view .LVU16
 157 003a 0220     		movs	r0, #2
 158 003c FFF7FEFF 		bl	HAL_Delay
 159              	.LVL8:
 111:TOF/App/app_tof.c ****   HAL_Delay(2);
 160              		.loc 1 111 3 view .LVU17
 161 0040 0122     		movs	r2, #1
 162 0042 1146     		mov	r1, r2
 163 0044 2046     		mov	r0, r4
 164 0046 FFF7FEFF 		bl	HAL_GPIO_WritePin
 165              	.LVL9:
 112:TOF/App/app_tof.c **** 
 166              		.loc 1 112 3 view .LVU18
 167 004a 0220     		movs	r0, #2
 168 004c FFF7FEFF 		bl	HAL_Delay
 169              	.LVL10:
 114:TOF/App/app_tof.c ****   printf("53L8A1 Simple Ranging demo application\n");
 170              		.loc 1 114 3 view .LVU19
 171 0050 0A48     		ldr	r0, .L12+4
 172 0052 FFF7FEFF 		bl	printf
 173              	.LVL11:
 115:TOF/App/app_tof.c ****   printf("Sensor initialization...\n");
 174              		.loc 1 115 3 view .LVU20
ARM GAS  C:\Temp\ccDYIi5r.s 			page 11


 175 0056 0A48     		ldr	r0, .L12+8
 176 0058 FFF7FEFF 		bl	puts
 177              	.LVL12:
 116:TOF/App/app_tof.c **** 
 178              		.loc 1 116 3 view .LVU21
 179 005c 0948     		ldr	r0, .L12+12
 180 005e FFF7FEFF 		bl	puts
 181              	.LVL13:
 118:TOF/App/app_tof.c **** 
 182              		.loc 1 118 3 view .LVU22
 118:TOF/App/app_tof.c **** 
 183              		.loc 1 118 12 is_stmt 0 view .LVU23
 184 0062 0120     		movs	r0, #1
 185 0064 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_Init
 186              	.LVL14:
 118:TOF/App/app_tof.c **** 
 187              		.loc 1 118 10 view .LVU24
 188 0068 074B     		ldr	r3, .L12+16
 189 006a 1860     		str	r0, [r3]
 120:TOF/App/app_tof.c ****   {
 190              		.loc 1 120 3 is_stmt 1 view .LVU25
 120:TOF/App/app_tof.c ****   {
 191              		.loc 1 120 6 is_stmt 0 view .LVU26
 192 006c 00B9     		cbnz	r0, .L11
 125:TOF/App/app_tof.c **** 
 193              		.loc 1 125 1 view .LVU27
 194 006e 10BD     		pop	{r4, pc}
 195              	.L11:
 122:TOF/App/app_tof.c ****     while (1);
 196              		.loc 1 122 5 is_stmt 1 view .LVU28
 197 0070 0648     		ldr	r0, .L12+20
 198 0072 FFF7FEFF 		bl	puts
 199              	.LVL15:
 200              	.L9:
 123:TOF/App/app_tof.c ****   }
 201              		.loc 1 123 5 discriminator 1 view .LVU29
 123:TOF/App/app_tof.c ****   }
 202              		.loc 1 123 11 discriminator 1 view .LVU30
 203 0076 FEE7     		b	.L9
 204              	.L13:
 205              		.align	2
 206              	.L12:
 207 0078 00000240 		.word	1073872896
 208 007c 00000000 		.word	.LC1
 209 0080 0C000000 		.word	.LC2
 210 0084 34000000 		.word	.LC3
 211 0088 00000000 		.word	status
 212 008c 50000000 		.word	.LC4
 213              		.cfi_endproc
 214              	.LFE139:
 216              		.section	.rodata.display_commands_banner.str1.4,"aMS",%progbits,1
 217              		.align	2
 218              	.LC5:
 219 0000 25635B32 		.ascii	"%c[2H\000"
 219      4800
 220 0006 0000     		.align	2
 221              	.LC6:
ARM GAS  C:\Temp\ccDYIi5r.s 			page 12


 222 0008 2D2D2D2D 		.ascii	"--------------------------------------\012\000"
 222      2D2D2D2D 
 222      2D2D2D2D 
 222      2D2D2D2D 
 222      2D2D2D2D 
 223              		.align	2
 224              	.LC7:
 225 0030 55736520 		.ascii	"Use the following keys to control application\000"
 225      74686520 
 225      666F6C6C 
 225      6F77696E 
 225      67206B65 
 226 005e 0000     		.align	2
 227              	.LC8:
 228 0060 20277227 		.ascii	" 'r' : change resolution\000"
 228      203A2063 
 228      68616E67 
 228      65207265 
 228      736F6C75 
 229 0079 000000   		.align	2
 230              	.LC9:
 231 007c 20277327 		.ascii	" 's' : enable signal and ambient\000"
 231      203A2065 
 231      6E61626C 
 231      65207369 
 231      676E616C 
 232 009d 000000   		.align	2
 233              	.LC10:
 234 00a0 20276327 		.ascii	" 'c' : clear screen\000"
 234      203A2063 
 234      6C656172 
 234      20736372 
 234      65656E00 
 235              		.section	.text.display_commands_banner,"ax",%progbits
 236              		.align	1
 237              		.syntax unified
 238              		.thumb
 239              		.thumb_func
 241              	display_commands_banner:
 242              	.LFB145:
 324:TOF/App/app_tof.c ****   /* clear screen */
 243              		.loc 1 324 1 view -0
 244              		.cfi_startproc
 245              		@ args = 0, pretend = 0, frame = 0
 246              		@ frame_needed = 0, uses_anonymous_args = 0
 247 0000 08B5     		push	{r3, lr}
 248              		.cfi_def_cfa_offset 8
 249              		.cfi_offset 3, -8
 250              		.cfi_offset 14, -4
 326:TOF/App/app_tof.c **** 
 251              		.loc 1 326 3 view .LVU32
 252 0002 1B21     		movs	r1, #27
 253 0004 0C48     		ldr	r0, .L16
 254 0006 FFF7FEFF 		bl	printf
 255              	.LVL16:
 328:TOF/App/app_tof.c ****   printf("--------------------------------------\n\n");
 256              		.loc 1 328 3 view .LVU33
ARM GAS  C:\Temp\ccDYIi5r.s 			page 13


 257 000a 0C48     		ldr	r0, .L16+4
 258 000c FFF7FEFF 		bl	puts
 259              	.LVL17:
 329:TOF/App/app_tof.c **** 
 260              		.loc 1 329 3 view .LVU34
 261 0010 0B48     		ldr	r0, .L16+8
 262 0012 FFF7FEFF 		bl	puts
 263              	.LVL18:
 331:TOF/App/app_tof.c ****   printf(" 'r' : change resolution\n");
 264              		.loc 1 331 3 view .LVU35
 265 0016 0B48     		ldr	r0, .L16+12
 266 0018 FFF7FEFF 		bl	puts
 267              	.LVL19:
 332:TOF/App/app_tof.c ****   printf(" 's' : enable signal and ambient\n");
 268              		.loc 1 332 3 view .LVU36
 269 001c 0A48     		ldr	r0, .L16+16
 270 001e FFF7FEFF 		bl	puts
 271              	.LVL20:
 333:TOF/App/app_tof.c ****   printf(" 'c' : clear screen\n");
 272              		.loc 1 333 3 view .LVU37
 273 0022 0A48     		ldr	r0, .L16+20
 274 0024 FFF7FEFF 		bl	puts
 275              	.LVL21:
 334:TOF/App/app_tof.c ****   printf("\n");
 276              		.loc 1 334 3 view .LVU38
 277 0028 0948     		ldr	r0, .L16+24
 278 002a FFF7FEFF 		bl	puts
 279              	.LVL22:
 335:TOF/App/app_tof.c **** }
 280              		.loc 1 335 3 view .LVU39
 281 002e 0A20     		movs	r0, #10
 282 0030 FFF7FEFF 		bl	putchar
 283              	.LVL23:
 336:TOF/App/app_tof.c **** 
 284              		.loc 1 336 1 is_stmt 0 view .LVU40
 285 0034 08BD     		pop	{r3, pc}
 286              	.L17:
 287 0036 00BF     		.align	2
 288              	.L16:
 289 0038 00000000 		.word	.LC5
 290 003c 0C000000 		.word	.LC2
 291 0040 08000000 		.word	.LC6
 292 0044 30000000 		.word	.LC7
 293 0048 60000000 		.word	.LC8
 294 004c 7C000000 		.word	.LC9
 295 0050 A0000000 		.word	.LC10
 296              		.cfi_endproc
 297              	.LFE145:
 299              		.section	.rodata.print_result.str1.4,"aMS",%progbits,1
 300              		.align	2
 301              	.LC11:
 302 0000 43656C6C 		.ascii	"Cell Format :\012\000"
 302      20466F72 
 302      6D617420 
 302      3A0A00
 303 000f 00       		.align	2
 304              	.LC12:
ARM GAS  C:\Temp\ccDYIi5r.s 			page 14


 305 0010 53746174 		.ascii	"Status\000"
 305      757300
 306 0017 00       		.align	2
 307              	.LC13:
 308 0018 44697374 		.ascii	"Distance [mm]\000"
 308      616E6365 
 308      205B6D6D 
 308      5D00
 309 0026 0000     		.align	2
 310              	.LC14:
 311 0028 201B5B33 		.ascii	" \033[38;5;10m%20s\033[0m : %20s\012\000"
 311      383B353B 
 311      31306D25 
 311      3230731B 
 311      5B306D20 
 312              		.align	2
 313              	.LC15:
 314 0044 416D6269 		.ascii	"Ambient [kcps/spad]\000"
 314      656E7420 
 314      5B6B6370 
 314      732F7370 
 314      61645D00 
 315              		.align	2
 316              	.LC16:
 317 0058 5369676E 		.ascii	"Signal [kcps/spad]\000"
 317      616C205B 
 317      6B637073 
 317      2F737061 
 317      645D00
 318 006b 00       		.align	2
 319              	.LC17:
 320 006c 20253230 		.ascii	" %20s : %20s\012\000"
 320      73203A20 
 320      25323073 
 320      0A00
 321 007a 0000     		.align	2
 322              	.LC18:
 323 007c 0A00     		.ascii	"\012\000"
 324 007e 0000     		.align	2
 325              	.LC19:
 326 0080 202D2D2D 		.ascii	" -----------------\000"
 326      2D2D2D2D 
 326      2D2D2D2D 
 326      2D2D2D2D 
 326      2D2D00
 327 0093 00       		.align	2
 328              	.LC20:
 329 0094 7C202020 		.ascii	"|                 \000"
 329      20202020 
 329      20202020 
 329      20202020 
 329      202000
 330 00a7 00       		.align	2
 331              	.LC21:
 332 00a8 7C00     		.ascii	"|\000"
 333 00aa 0000     		.align	2
 334              	.LC22:
ARM GAS  C:\Temp\ccDYIi5r.s 			page 15


 335 00ac 7C201B5B 		.ascii	"| \033[38;5;10m%5ld\033[0m  :  %5ld \000"
 335      33383B35 
 335      3B31306D 
 335      25356C64 
 335      1B5B306D 
 336 00cb 00       		.align	2
 337              	.LC23:
 338 00cc 5800     		.ascii	"X\000"
 339 00ce 0000     		.align	2
 340              	.LC24:
 341 00d0 7C202535 		.ascii	"| %5s  :  %5s \000"
 341      7320203A 
 341      20202535 
 341      732000
 342 00df 00       		.align	2
 343              	.LC25:
 344 00e0 7C202535 		.ascii	"| %5ld  :  \000"
 344      6C642020 
 344      3A202000 
 345              		.align	2
 346              	.LC26:
 347 00ec 7C202535 		.ascii	"| %5s  :  \000"
 347      7320203A 
 347      202000
 348 00f7 00       		.align	2
 349              	.LC27:
 350 00f8 25356C64 		.ascii	"%5ld \000"
 350      2000
 351 00fe 0000     		.align	2
 352              	.LC28:
 353 0100 25357320 		.ascii	"%5s \000"
 353      00
 354              		.section	.text.print_result,"ax",%progbits
 355              		.align	1
 356              		.syntax unified
 357              		.thumb
 358              		.thumb_func
 360              	print_result:
 361              	.LVL24:
 362              	.LFB141:
 189:TOF/App/app_tof.c ****   int8_t i;
 363              		.loc 1 189 1 is_stmt 1 view -0
 364              		.cfi_startproc
 365              		@ args = 0, pretend = 0, frame = 0
 366              		@ frame_needed = 0, uses_anonymous_args = 0
 189:TOF/App/app_tof.c ****   int8_t i;
 367              		.loc 1 189 1 is_stmt 0 view .LVU42
 368 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 369              		.cfi_def_cfa_offset 32
 370              		.cfi_offset 3, -32
 371              		.cfi_offset 4, -28
 372              		.cfi_offset 5, -24
 373              		.cfi_offset 6, -20
 374              		.cfi_offset 7, -16
 375              		.cfi_offset 8, -12
 376              		.cfi_offset 9, -8
 377              		.cfi_offset 14, -4
ARM GAS  C:\Temp\ccDYIi5r.s 			page 16


 378 0004 0646     		mov	r6, r0
 190:TOF/App/app_tof.c ****   int8_t j;
 379              		.loc 1 190 3 is_stmt 1 view .LVU43
 191:TOF/App/app_tof.c ****   int8_t k;
 380              		.loc 1 191 3 view .LVU44
 192:TOF/App/app_tof.c ****   int8_t l;
 381              		.loc 1 192 3 view .LVU45
 193:TOF/App/app_tof.c ****   uint8_t zones_per_line;
 382              		.loc 1 193 3 view .LVU46
 194:TOF/App/app_tof.c **** 
 383              		.loc 1 194 3 view .LVU47
 196:TOF/App/app_tof.c ****                     (Profile.RangingProfile == RS_PROFILE_8x8_CONTINUOUS)) ? 8 : 4;
 384              		.loc 1 196 3 view .LVU48
 196:TOF/App/app_tof.c ****                     (Profile.RangingProfile == RS_PROFILE_8x8_CONTINUOUS)) ? 8 : 4;
 385              		.loc 1 196 29 is_stmt 0 view .LVU49
 386 0006 684B     		ldr	r3, .L53
 387 0008 1B68     		ldr	r3, [r3]
 196:TOF/App/app_tof.c ****                     (Profile.RangingProfile == RS_PROFILE_8x8_CONTINUOUS)) ? 8 : 4;
 388              		.loc 1 196 75 view .LVU50
 389 000a 033B     		subs	r3, r3, #3
 196:TOF/App/app_tof.c ****                     (Profile.RangingProfile == RS_PROFILE_8x8_CONTINUOUS)) ? 8 : 4;
 390              		.loc 1 196 18 view .LVU51
 391 000c 012B     		cmp	r3, #1
 392 000e 0DD9     		bls	.L49
 393 0010 0427     		movs	r7, #4
 394              	.L19:
 395              	.LVL25:
 199:TOF/App/app_tof.c **** 
 396              		.loc 1 199 3 is_stmt 1 discriminator 4 view .LVU52
 397 0012 FFF7FEFF 		bl	display_commands_banner
 398              	.LVL26:
 201:TOF/App/app_tof.c ****   for (l = 0; l < RANGING_SENSOR_NB_TARGET_PER_ZONE; l++)
 399              		.loc 1 201 3 discriminator 4 view .LVU53
 400 0016 6548     		ldr	r0, .L53+4
 401 0018 FFF7FEFF 		bl	puts
 402              	.LVL27:
 202:TOF/App/app_tof.c ****   {
 403              		.loc 1 202 3 discriminator 4 view .LVU54
 202:TOF/App/app_tof.c ****   {
 404              		.loc 1 202 10 is_stmt 0 discriminator 4 view .LVU55
 405 001c 0024     		movs	r4, #0
 406              	.LVL28:
 407              	.L20:
 202:TOF/App/app_tof.c ****   {
 408              		.loc 1 202 17 is_stmt 1 discriminator 1 view .LVU56
 409 001e 3CB1     		cbz	r4, .L23
 211:TOF/App/app_tof.c **** 
 410              		.loc 1 211 3 view .LVU57
 411 0020 6348     		ldr	r0, .L53+8
 412 0022 FFF7FEFF 		bl	puts
 413              	.LVL29:
 213:TOF/App/app_tof.c ****   {
 414              		.loc 1 213 3 view .LVU58
 213:TOF/App/app_tof.c ****   {
 415              		.loc 1 213 10 is_stmt 0 view .LVU59
 416 0026 4FF00008 		mov	r8, #0
 213:TOF/App/app_tof.c ****   {
ARM GAS  C:\Temp\ccDYIi5r.s 			page 17


 417              		.loc 1 213 3 view .LVU60
 418 002a 33E0     		b	.L24
 419              	.LVL30:
 420              	.L49:
 196:TOF/App/app_tof.c ****                     (Profile.RangingProfile == RS_PROFILE_8x8_CONTINUOUS)) ? 8 : 4;
 421              		.loc 1 196 18 view .LVU61
 422 002c 0827     		movs	r7, #8
 423 002e F0E7     		b	.L19
 424              	.LVL31:
 425              	.L23:
 204:TOF/App/app_tof.c ****     if ((Profile.EnableAmbient != 0) || (Profile.EnableSignal != 0))
 426              		.loc 1 204 5 is_stmt 1 view .LVU62
 427 0030 604A     		ldr	r2, .L53+12
 428 0032 6149     		ldr	r1, .L53+16
 429 0034 6148     		ldr	r0, .L53+20
 430 0036 FFF7FEFF 		bl	printf
 431              	.LVL32:
 205:TOF/App/app_tof.c ****     {
 432              		.loc 1 205 5 view .LVU63
 205:TOF/App/app_tof.c ****     {
 433              		.loc 1 205 17 is_stmt 0 view .LVU64
 434 003a 5B4B     		ldr	r3, .L53
 435 003c DB68     		ldr	r3, [r3, #12]
 205:TOF/App/app_tof.c ****     {
 436              		.loc 1 205 8 view .LVU65
 437 003e 13B9     		cbnz	r3, .L21
 205:TOF/App/app_tof.c ****     {
 438              		.loc 1 205 49 discriminator 1 view .LVU66
 439 0040 594B     		ldr	r3, .L53
 440 0042 1B69     		ldr	r3, [r3, #16]
 205:TOF/App/app_tof.c ****     {
 441              		.loc 1 205 38 discriminator 1 view .LVU67
 442 0044 23B1     		cbz	r3, .L22
 443              	.L21:
 207:TOF/App/app_tof.c ****     }
 444              		.loc 1 207 7 is_stmt 1 view .LVU68
 445 0046 5E4A     		ldr	r2, .L53+24
 446 0048 5E49     		ldr	r1, .L53+28
 447 004a 5F48     		ldr	r0, .L53+32
 448 004c FFF7FEFF 		bl	printf
 449              	.LVL33:
 450              	.L22:
 202:TOF/App/app_tof.c ****   {
 451              		.loc 1 202 55 discriminator 2 view .LVU69
 452 0050 0134     		adds	r4, r4, #1
 453              	.LVL34:
 202:TOF/App/app_tof.c ****   {
 454              		.loc 1 202 55 is_stmt 0 discriminator 2 view .LVU70
 455 0052 64B2     		sxtb	r4, r4
 456              	.LVL35:
 202:TOF/App/app_tof.c ****   {
 457              		.loc 1 202 55 discriminator 2 view .LVU71
 458 0054 E3E7     		b	.L20
 459              	.LVL36:
 460              	.L25:
 217:TOF/App/app_tof.c ****     }
 461              		.loc 1 217 7 is_stmt 1 discriminator 3 view .LVU72
ARM GAS  C:\Temp\ccDYIi5r.s 			page 18


 462 0056 5D48     		ldr	r0, .L53+36
 463 0058 FFF7FEFF 		bl	printf
 464              	.LVL37:
 215:TOF/App/app_tof.c ****     {
 465              		.loc 1 215 38 discriminator 3 view .LVU73
 466 005c 0134     		adds	r4, r4, #1
 467              	.LVL38:
 215:TOF/App/app_tof.c ****     {
 468              		.loc 1 215 38 is_stmt 0 discriminator 3 view .LVU74
 469 005e 64B2     		sxtb	r4, r4
 470              	.LVL39:
 471              	.L43:
 215:TOF/App/app_tof.c ****     {
 472              		.loc 1 215 19 is_stmt 1 discriminator 1 view .LVU75
 473 0060 3D46     		mov	r5, r7
 474 0062 BC42     		cmp	r4, r7
 475 0064 F7DB     		blt	.L25
 219:TOF/App/app_tof.c **** 
 476              		.loc 1 219 5 view .LVU76
 477 0066 0A20     		movs	r0, #10
 478 0068 FFF7FEFF 		bl	putchar
 479              	.LVL40:
 221:TOF/App/app_tof.c ****     {
 480              		.loc 1 221 5 view .LVU77
 221:TOF/App/app_tof.c ****     {
 481              		.loc 1 221 12 is_stmt 0 view .LVU78
 482 006c 0024     		movs	r4, #0
 221:TOF/App/app_tof.c ****     {
 483              		.loc 1 221 5 view .LVU79
 484 006e 04E0     		b	.L26
 485              	.LVL41:
 486              	.L27:
 223:TOF/App/app_tof.c ****     }
 487              		.loc 1 223 7 is_stmt 1 discriminator 3 view .LVU80
 488 0070 5748     		ldr	r0, .L53+40
 489 0072 FFF7FEFF 		bl	printf
 490              	.LVL42:
 221:TOF/App/app_tof.c ****     {
 491              		.loc 1 221 38 discriminator 3 view .LVU81
 492 0076 0134     		adds	r4, r4, #1
 493              	.LVL43:
 221:TOF/App/app_tof.c ****     {
 494              		.loc 1 221 38 is_stmt 0 discriminator 3 view .LVU82
 495 0078 64B2     		sxtb	r4, r4
 496              	.LVL44:
 497              	.L26:
 221:TOF/App/app_tof.c ****     {
 498              		.loc 1 221 19 is_stmt 1 discriminator 1 view .LVU83
 499 007a A542     		cmp	r5, r4
 500 007c F8DC     		bgt	.L27
 225:TOF/App/app_tof.c **** 
 501              		.loc 1 225 5 view .LVU84
 502 007e 5548     		ldr	r0, .L53+44
 503 0080 FFF7FEFF 		bl	puts
 504              	.LVL45:
 227:TOF/App/app_tof.c ****     {
 505              		.loc 1 227 5 view .LVU85
ARM GAS  C:\Temp\ccDYIi5r.s 			page 19


 227:TOF/App/app_tof.c ****     {
 506              		.loc 1 227 12 is_stmt 0 view .LVU86
 507 0084 4FF00009 		mov	r9, #0
 508              	.LVL46:
 509              	.L28:
 227:TOF/App/app_tof.c ****     {
 510              		.loc 1 227 19 is_stmt 1 discriminator 1 view .LVU87
 511 0088 B9F1000F 		cmp	r9, #0
 512 008c 07D0     		beq	.L42
 213:TOF/App/app_tof.c ****   {
 513              		.loc 1 213 44 discriminator 2 view .LVU88
 514 008e B844     		add	r8, r8, r7
 515              	.LVL47:
 213:TOF/App/app_tof.c ****   {
 516              		.loc 1 213 44 is_stmt 0 discriminator 2 view .LVU89
 517 0090 4FFA88F8 		sxtb	r8, r8
 518              	.LVL48:
 519              	.L24:
 213:TOF/App/app_tof.c ****   {
 520              		.loc 1 213 17 is_stmt 1 discriminator 1 view .LVU90
 213:TOF/App/app_tof.c ****   {
 521              		.loc 1 213 25 is_stmt 0 discriminator 1 view .LVU91
 522 0094 3368     		ldr	r3, [r6]
 213:TOF/App/app_tof.c ****   {
 523              		.loc 1 213 17 discriminator 1 view .LVU92
 524 0096 9845     		cmp	r8, r3
 525 0098 78D2     		bcs	.L50
 215:TOF/App/app_tof.c ****     {
 526              		.loc 1 215 12 view .LVU93
 527 009a 0024     		movs	r4, #0
 528 009c E0E7     		b	.L43
 529              	.LVL49:
 530              	.L42:
 230:TOF/App/app_tof.c ****       {
 531              		.loc 1 230 7 is_stmt 1 view .LVU94
 230:TOF/App/app_tof.c ****       {
 532              		.loc 1 230 14 is_stmt 0 view .LVU95
 533 009e 7D1E     		subs	r5, r7, #1
 534              	.LVL50:
 230:TOF/App/app_tof.c ****       {
 535              		.loc 1 230 14 view .LVU96
 536 00a0 2C46     		mov	r4, r5
 230:TOF/App/app_tof.c ****       {
 537              		.loc 1 230 7 view .LVU97
 538 00a2 06E0     		b	.L29
 539              	.LVL51:
 540              	.L30:
 237:TOF/App/app_tof.c ****       }
 541              		.loc 1 237 11 is_stmt 1 view .LVU98
 542 00a4 4C49     		ldr	r1, .L53+48
 543 00a6 0A46     		mov	r2, r1
 544 00a8 4C48     		ldr	r0, .L53+52
 545 00aa FFF7FEFF 		bl	printf
 546              	.LVL52:
 547              	.L31:
 230:TOF/App/app_tof.c ****       {
 548              		.loc 1 230 47 discriminator 2 view .LVU99
ARM GAS  C:\Temp\ccDYIi5r.s 			page 20


 549 00ae 013C     		subs	r4, r4, #1
 550              	.LVL53:
 230:TOF/App/app_tof.c ****       {
 551              		.loc 1 230 47 is_stmt 0 discriminator 2 view .LVU100
 552 00b0 64B2     		sxtb	r4, r4
 553              	.LVL54:
 554              	.L29:
 230:TOF/App/app_tof.c ****       {
 555              		.loc 1 230 40 is_stmt 1 discriminator 1 view .LVU101
 556 00b2 002C     		cmp	r4, #0
 557 00b4 16DB     		blt	.L51
 232:TOF/App/app_tof.c ****           printf("| \033[38;5;10m%5ld\033[0m  :  %5ld ",
 558              		.loc 1 232 9 view .LVU102
 232:TOF/App/app_tof.c ****           printf("| \033[38;5;10m%5ld\033[0m  :  %5ld ",
 559              		.loc 1 232 34 is_stmt 0 view .LVU103
 560 00b6 08EB0403 		add	r3, r8, r4
 232:TOF/App/app_tof.c ****           printf("| \033[38;5;10m%5ld\033[0m  :  %5ld ",
 561              		.loc 1 232 38 view .LVU104
 562 00ba 03EB8302 		add	r2, r3, r3, lsl #2
 563 00be 06EB8202 		add	r2, r6, r2, lsl #2
 564 00c2 1279     		ldrb	r2, [r2, #4]	@ zero_extendqisi2
 232:TOF/App/app_tof.c ****           printf("| \033[38;5;10m%5ld\033[0m  :  %5ld ",
 565              		.loc 1 232 12 view .LVU105
 566 00c4 002A     		cmp	r2, #0
 567 00c6 EDD0     		beq	.L30
 233:TOF/App/app_tof.c ****                  (long)Result->ZoneResult[j + k].Distance[l],
 568              		.loc 1 233 11 is_stmt 1 view .LVU106
 234:TOF/App/app_tof.c ****                  (long)Result->ZoneResult[j + k].Status[l]);
 569              		.loc 1 234 58 is_stmt 0 view .LVU107
 570 00c8 03EB8303 		add	r3, r3, r3, lsl #2
 571 00cc 4B44     		add	r3, r3, r9
 572 00ce 06EB8301 		add	r1, r6, r3, lsl #2
 235:TOF/App/app_tof.c ****         else
 573              		.loc 1 235 56 view .LVU108
 574 00d2 0233     		adds	r3, r3, #2
 575 00d4 06EB8303 		add	r3, r6, r3, lsl #2
 233:TOF/App/app_tof.c ****                  (long)Result->ZoneResult[j + k].Distance[l],
 576              		.loc 1 233 11 view .LVU109
 577 00d8 5A68     		ldr	r2, [r3, #4]
 578 00da 8968     		ldr	r1, [r1, #8]
 579 00dc 4048     		ldr	r0, .L53+56
 580 00de FFF7FEFF 		bl	printf
 581              	.LVL55:
 582 00e2 E4E7     		b	.L31
 583              	.L51:
 239:TOF/App/app_tof.c **** 
 584              		.loc 1 239 7 is_stmt 1 view .LVU110
 585 00e4 3B48     		ldr	r0, .L53+44
 586 00e6 FFF7FEFF 		bl	puts
 587              	.LVL56:
 241:TOF/App/app_tof.c ****       {
 588              		.loc 1 241 7 view .LVU111
 241:TOF/App/app_tof.c ****       {
 589              		.loc 1 241 19 is_stmt 0 view .LVU112
 590 00ea 2F4B     		ldr	r3, .L53
 591 00ec DB68     		ldr	r3, [r3, #12]
 241:TOF/App/app_tof.c ****       {
ARM GAS  C:\Temp\ccDYIi5r.s 			page 21


 592              		.loc 1 241 10 view .LVU113
 593 00ee 93B9     		cbnz	r3, .L40
 241:TOF/App/app_tof.c ****       {
 594              		.loc 1 241 51 discriminator 1 view .LVU114
 595 00f0 2D4B     		ldr	r3, .L53
 596 00f2 1B69     		ldr	r3, [r3, #16]
 241:TOF/App/app_tof.c ****       {
 597              		.loc 1 241 40 discriminator 1 view .LVU115
 598 00f4 7BB9     		cbnz	r3, .L40
 599              	.LVL57:
 600              	.L34:
 227:TOF/App/app_tof.c ****     {
 601              		.loc 1 227 57 is_stmt 1 discriminator 2 view .LVU116
 602 00f6 09F10109 		add	r9, r9, #1
 603              	.LVL58:
 227:TOF/App/app_tof.c ****     {
 604              		.loc 1 227 57 is_stmt 0 discriminator 2 view .LVU117
 605 00fa 4FFA89F9 		sxtb	r9, r9
 606              	.LVL59:
 227:TOF/App/app_tof.c ****     {
 607              		.loc 1 227 57 discriminator 2 view .LVU118
 608 00fe C3E7     		b	.L28
 609              	.LVL60:
 610              	.L36:
 253:TOF/App/app_tof.c **** 
 611              		.loc 1 253 15 is_stmt 1 view .LVU119
 612 0100 3549     		ldr	r1, .L53+48
 613 0102 3848     		ldr	r0, .L53+60
 614 0104 FFF7FEFF 		bl	printf
 615              	.LVL61:
 616 0108 22E0     		b	.L37
 617              	.L38:
 260:TOF/App/app_tof.c ****           }
 618              		.loc 1 260 15 view .LVU120
 619 010a 3349     		ldr	r1, .L53+48
 620 010c 3648     		ldr	r0, .L53+64
 621 010e FFF7FEFF 		bl	printf
 622              	.LVL62:
 623              	.L39:
 244:TOF/App/app_tof.c ****         {
 624              		.loc 1 244 49 discriminator 2 view .LVU121
 625 0112 013D     		subs	r5, r5, #1
 626              	.LVL63:
 244:TOF/App/app_tof.c ****         {
 627              		.loc 1 244 49 is_stmt 0 discriminator 2 view .LVU122
 628 0114 6DB2     		sxtb	r5, r5
 629              	.LVL64:
 630              	.L40:
 244:TOF/App/app_tof.c ****         {
 631              		.loc 1 244 42 is_stmt 1 discriminator 1 view .LVU123
 632 0116 002D     		cmp	r5, #0
 633 0118 34DB     		blt	.L52
 246:TOF/App/app_tof.c ****           {
 634              		.loc 1 246 11 view .LVU124
 246:TOF/App/app_tof.c ****           {
 635              		.loc 1 246 36 is_stmt 0 view .LVU125
 636 011a 08EB0504 		add	r4, r8, r5
ARM GAS  C:\Temp\ccDYIi5r.s 			page 22


 246:TOF/App/app_tof.c ****           {
 637              		.loc 1 246 40 view .LVU126
 638 011e 04EB8403 		add	r3, r4, r4, lsl #2
 639 0122 06EB8303 		add	r3, r6, r3, lsl #2
 640 0126 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 246:TOF/App/app_tof.c ****           {
 641              		.loc 1 246 14 view .LVU127
 642 0128 33B3     		cbz	r3, .L35
 248:TOF/App/app_tof.c ****             {
 643              		.loc 1 248 13 is_stmt 1 view .LVU128
 248:TOF/App/app_tof.c ****             {
 644              		.loc 1 248 24 is_stmt 0 view .LVU129
 645 012a 1F4B     		ldr	r3, .L53
 646 012c 1B69     		ldr	r3, [r3, #16]
 248:TOF/App/app_tof.c ****             {
 647              		.loc 1 248 16 view .LVU130
 648 012e 002B     		cmp	r3, #0
 649 0130 E6D0     		beq	.L36
 250:TOF/App/app_tof.c ****             }
 650              		.loc 1 250 15 is_stmt 1 view .LVU131
 250:TOF/App/app_tof.c ****             }
 651              		.loc 1 250 75 is_stmt 0 view .LVU132
 652 0132 04EB8403 		add	r3, r4, r4, lsl #2
 653 0136 4B44     		add	r3, r3, r9
 654 0138 0433     		adds	r3, r3, #4
 655 013a 06EB8303 		add	r3, r6, r3, lsl #2
 656 013e D3ED017A 		vldr.32	s15, [r3, #4]
 250:TOF/App/app_tof.c ****             }
 657              		.loc 1 250 15 view .LVU133
 658 0142 FDEEE77A 		vcvt.s32.f32	s15, s15
 659 0146 17EE901A 		vmov	r1, s15	@ int
 660 014a 2848     		ldr	r0, .L53+68
 661 014c FFF7FEFF 		bl	printf
 662              	.LVL65:
 663              	.L37:
 255:TOF/App/app_tof.c ****             {
 664              		.loc 1 255 13 is_stmt 1 view .LVU134
 255:TOF/App/app_tof.c ****             {
 665              		.loc 1 255 24 is_stmt 0 view .LVU135
 666 0150 154B     		ldr	r3, .L53
 667 0152 DB68     		ldr	r3, [r3, #12]
 255:TOF/App/app_tof.c ****             {
 668              		.loc 1 255 16 view .LVU136
 669 0154 002B     		cmp	r3, #0
 670 0156 D8D0     		beq	.L38
 257:TOF/App/app_tof.c ****             }
 671              		.loc 1 257 15 is_stmt 1 view .LVU137
 257:TOF/App/app_tof.c ****             }
 672              		.loc 1 257 70 is_stmt 0 view .LVU138
 673 0158 04EB8403 		add	r3, r4, r4, lsl #2
 674 015c 4B44     		add	r3, r3, r9
 675 015e 0233     		adds	r3, r3, #2
 676 0160 06EB8303 		add	r3, r6, r3, lsl #2
 677 0164 D3ED027A 		vldr.32	s15, [r3, #8]
 257:TOF/App/app_tof.c ****             }
 678              		.loc 1 257 15 view .LVU139
 679 0168 FDEEE77A 		vcvt.s32.f32	s15, s15
ARM GAS  C:\Temp\ccDYIi5r.s 			page 23


 680 016c 17EE901A 		vmov	r1, s15	@ int
 681 0170 1F48     		ldr	r0, .L53+72
 682 0172 FFF7FEFF 		bl	printf
 683              	.LVL66:
 684 0176 CCE7     		b	.L39
 685              	.L35:
 263:TOF/App/app_tof.c ****         }
 686              		.loc 1 263 13 is_stmt 1 view .LVU140
 687 0178 1749     		ldr	r1, .L53+48
 688 017a 0A46     		mov	r2, r1
 689 017c 1748     		ldr	r0, .L53+52
 690 017e FFF7FEFF 		bl	printf
 691              	.LVL67:
 692 0182 C6E7     		b	.L39
 693              	.L52:
 265:TOF/App/app_tof.c ****       }
 694              		.loc 1 265 9 view .LVU141
 695 0184 1348     		ldr	r0, .L53+44
 696 0186 FFF7FEFF 		bl	puts
 697              	.LVL68:
 698 018a B4E7     		b	.L34
 699              	.LVL69:
 700              	.L50:
 270:TOF/App/app_tof.c ****   {
 701              		.loc 1 270 10 is_stmt 0 view .LVU142
 702 018c 0024     		movs	r4, #0
 703 018e 04E0     		b	.L44
 704              	.LVL70:
 705              	.L45:
 272:TOF/App/app_tof.c ****   }
 706              		.loc 1 272 5 is_stmt 1 discriminator 3 view .LVU143
 707 0190 0E48     		ldr	r0, .L53+36
 708 0192 FFF7FEFF 		bl	printf
 709              	.LVL71:
 270:TOF/App/app_tof.c ****   {
 710              		.loc 1 270 36 discriminator 3 view .LVU144
 711 0196 0134     		adds	r4, r4, #1
 712              	.LVL72:
 270:TOF/App/app_tof.c ****   {
 713              		.loc 1 270 36 is_stmt 0 discriminator 3 view .LVU145
 714 0198 64B2     		sxtb	r4, r4
 715              	.LVL73:
 716              	.L44:
 270:TOF/App/app_tof.c ****   {
 717              		.loc 1 270 17 is_stmt 1 discriminator 1 view .LVU146
 718 019a BC42     		cmp	r4, r7
 719 019c F8DB     		blt	.L45
 274:TOF/App/app_tof.c **** }
 720              		.loc 1 274 3 view .LVU147
 721 019e 0A20     		movs	r0, #10
 722 01a0 FFF7FEFF 		bl	putchar
 723              	.LVL74:
 275:TOF/App/app_tof.c **** 
 724              		.loc 1 275 1 is_stmt 0 view .LVU148
 725 01a4 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 726              	.LVL75:
 727              	.L54:
ARM GAS  C:\Temp\ccDYIi5r.s 			page 24


 275:TOF/App/app_tof.c **** 
 728              		.loc 1 275 1 view .LVU149
 729              		.align	2
 730              	.L53:
 731 01a8 00000000 		.word	Profile
 732 01ac 00000000 		.word	.LC11
 733 01b0 7C000000 		.word	.LC18
 734 01b4 10000000 		.word	.LC12
 735 01b8 18000000 		.word	.LC13
 736 01bc 28000000 		.word	.LC14
 737 01c0 44000000 		.word	.LC15
 738 01c4 58000000 		.word	.LC16
 739 01c8 6C000000 		.word	.LC17
 740 01cc 80000000 		.word	.LC19
 741 01d0 94000000 		.word	.LC20
 742 01d4 A8000000 		.word	.LC21
 743 01d8 CC000000 		.word	.LC23
 744 01dc D0000000 		.word	.LC24
 745 01e0 AC000000 		.word	.LC22
 746 01e4 EC000000 		.word	.LC26
 747 01e8 00010000 		.word	.LC28
 748 01ec E0000000 		.word	.LC25
 749 01f0 F8000000 		.word	.LC27
 750              		.cfi_endproc
 751              	.LFE141:
 753              		.section	.text.toggle_resolution,"ax",%progbits
 754              		.align	1
 755              		.syntax unified
 756              		.thumb
 757              		.thumb_func
 759              	toggle_resolution:
 760              	.LFB142:
 278:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_Stop(VL53L8A1_DEV_CENTER);
 761              		.loc 1 278 1 is_stmt 1 view -0
 762              		.cfi_startproc
 763              		@ args = 0, pretend = 0, frame = 0
 764              		@ frame_needed = 0, uses_anonymous_args = 0
 765 0000 08B5     		push	{r3, lr}
 766              		.cfi_def_cfa_offset 8
 767              		.cfi_offset 3, -8
 768              		.cfi_offset 14, -4
 279:TOF/App/app_tof.c **** 
 769              		.loc 1 279 3 view .LVU151
 770 0002 0120     		movs	r0, #1
 771 0004 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_Stop
 772              	.LVL76:
 281:TOF/App/app_tof.c ****   {
 773              		.loc 1 281 3 view .LVU152
 281:TOF/App/app_tof.c ****   {
 774              		.loc 1 281 18 is_stmt 0 view .LVU153
 775 0008 104B     		ldr	r3, .L64
 776 000a 1B68     		ldr	r3, [r3]
 281:TOF/App/app_tof.c ****   {
 777              		.loc 1 281 3 view .LVU154
 778 000c 013B     		subs	r3, r3, #1
 779 000e 032B     		cmp	r3, #3
 780 0010 06D8     		bhi	.L56
ARM GAS  C:\Temp\ccDYIi5r.s 			page 25


 781 0012 DFE803F0 		tbb	[pc, r3]
 782              	.L58:
 783 0016 0E       		.byte	(.L61-.L58)/2
 784 0017 02       		.byte	(.L60-.L58)/2
 785 0018 16       		.byte	(.L59-.L58)/2
 786 0019 12       		.byte	(.L57-.L58)/2
 787              		.p2align 1
 788              	.L60:
 284:TOF/App/app_tof.c ****       break;
 789              		.loc 1 284 7 is_stmt 1 view .LVU155
 284:TOF/App/app_tof.c ****       break;
 790              		.loc 1 284 30 is_stmt 0 view .LVU156
 791 001a 0C4B     		ldr	r3, .L64
 792 001c 0422     		movs	r2, #4
 793 001e 1A60     		str	r2, [r3]
 285:TOF/App/app_tof.c **** 
 794              		.loc 1 285 7 is_stmt 1 view .LVU157
 795              	.L56:
 303:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_Start(VL53L8A1_DEV_CENTER, RS_MODE_ASYNC_CONTINUOUS);
 796              		.loc 1 303 3 view .LVU158
 797 0020 0A49     		ldr	r1, .L64
 798 0022 0120     		movs	r0, #1
 799 0024 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_ConfigProfile
 800              	.LVL77:
 304:TOF/App/app_tof.c **** }
 801              		.loc 1 304 3 view .LVU159
 802 0028 0321     		movs	r1, #3
 803 002a 0120     		movs	r0, #1
 804 002c FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_Start
 805              	.LVL78:
 305:TOF/App/app_tof.c **** 
 806              		.loc 1 305 1 is_stmt 0 view .LVU160
 807 0030 08BD     		pop	{r3, pc}
 808              	.L61:
 288:TOF/App/app_tof.c ****       break;
 809              		.loc 1 288 7 is_stmt 1 view .LVU161
 288:TOF/App/app_tof.c ****       break;
 810              		.loc 1 288 30 is_stmt 0 view .LVU162
 811 0032 064B     		ldr	r3, .L64
 812 0034 0322     		movs	r2, #3
 813 0036 1A60     		str	r2, [r3]
 289:TOF/App/app_tof.c **** 
 814              		.loc 1 289 7 is_stmt 1 view .LVU163
 815 0038 F2E7     		b	.L56
 816              	.L57:
 292:TOF/App/app_tof.c ****       break;
 817              		.loc 1 292 7 view .LVU164
 292:TOF/App/app_tof.c ****       break;
 818              		.loc 1 292 30 is_stmt 0 view .LVU165
 819 003a 044B     		ldr	r3, .L64
 820 003c 0222     		movs	r2, #2
 821 003e 1A60     		str	r2, [r3]
 293:TOF/App/app_tof.c **** 
 822              		.loc 1 293 7 is_stmt 1 view .LVU166
 823 0040 EEE7     		b	.L56
 824              	.L59:
 296:TOF/App/app_tof.c ****       break;
ARM GAS  C:\Temp\ccDYIi5r.s 			page 26


 825              		.loc 1 296 7 view .LVU167
 296:TOF/App/app_tof.c ****       break;
 826              		.loc 1 296 30 is_stmt 0 view .LVU168
 827 0042 024B     		ldr	r3, .L64
 828 0044 0122     		movs	r2, #1
 829 0046 1A60     		str	r2, [r3]
 297:TOF/App/app_tof.c **** 
 830              		.loc 1 297 7 is_stmt 1 view .LVU169
 831 0048 EAE7     		b	.L56
 832              	.L65:
 833 004a 00BF     		.align	2
 834              	.L64:
 835 004c 00000000 		.word	Profile
 836              		.cfi_endproc
 837              	.LFE142:
 839              		.section	.text.toggle_signal_and_ambient,"ax",%progbits
 840              		.align	1
 841              		.syntax unified
 842              		.thumb
 843              		.thumb_func
 845              	toggle_signal_and_ambient:
 846              	.LFB143:
 308:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_Stop(VL53L8A1_DEV_CENTER);
 847              		.loc 1 308 1 view -0
 848              		.cfi_startproc
 849              		@ args = 0, pretend = 0, frame = 0
 850              		@ frame_needed = 0, uses_anonymous_args = 0
 851 0000 08B5     		push	{r3, lr}
 852              		.cfi_def_cfa_offset 8
 853              		.cfi_offset 3, -8
 854              		.cfi_offset 14, -4
 309:TOF/App/app_tof.c **** 
 855              		.loc 1 309 3 view .LVU171
 856 0002 0120     		movs	r0, #1
 857 0004 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_Stop
 858              	.LVL79:
 311:TOF/App/app_tof.c ****   Profile.EnableSignal = (Profile.EnableSignal) ? 0U : 1U;
 859              		.loc 1 311 3 view .LVU172
 311:TOF/App/app_tof.c ****   Profile.EnableSignal = (Profile.EnableSignal) ? 0U : 1U;
 860              		.loc 1 311 35 is_stmt 0 view .LVU173
 861 0008 0949     		ldr	r1, .L68
 862 000a CB68     		ldr	r3, [r1, #12]
 311:TOF/App/app_tof.c ****   Profile.EnableSignal = (Profile.EnableSignal) ? 0U : 1U;
 863              		.loc 1 311 56 view .LVU174
 864 000c B3FA83F3 		clz	r3, r3
 865 0010 5B09     		lsrs	r3, r3, #5
 311:TOF/App/app_tof.c ****   Profile.EnableSignal = (Profile.EnableSignal) ? 0U : 1U;
 866              		.loc 1 311 25 view .LVU175
 867 0012 CB60     		str	r3, [r1, #12]
 312:TOF/App/app_tof.c **** 
 868              		.loc 1 312 3 is_stmt 1 view .LVU176
 312:TOF/App/app_tof.c **** 
 869              		.loc 1 312 34 is_stmt 0 view .LVU177
 870 0014 0B69     		ldr	r3, [r1, #16]
 312:TOF/App/app_tof.c **** 
 871              		.loc 1 312 54 view .LVU178
 872 0016 B3FA83F3 		clz	r3, r3
ARM GAS  C:\Temp\ccDYIi5r.s 			page 27


 873 001a 5B09     		lsrs	r3, r3, #5
 312:TOF/App/app_tof.c **** 
 874              		.loc 1 312 24 view .LVU179
 875 001c 0B61     		str	r3, [r1, #16]
 314:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_Start(VL53L8A1_DEV_CENTER, RS_MODE_ASYNC_CONTINUOUS);
 876              		.loc 1 314 3 is_stmt 1 view .LVU180
 877 001e 0120     		movs	r0, #1
 878 0020 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_ConfigProfile
 879              	.LVL80:
 315:TOF/App/app_tof.c **** }
 880              		.loc 1 315 3 view .LVU181
 881 0024 0321     		movs	r1, #3
 882 0026 0120     		movs	r0, #1
 883 0028 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_Start
 884              	.LVL81:
 316:TOF/App/app_tof.c **** 
 885              		.loc 1 316 1 is_stmt 0 view .LVU182
 886 002c 08BD     		pop	{r3, pc}
 887              	.L69:
 888 002e 00BF     		.align	2
 889              	.L68:
 890 0030 00000000 		.word	Profile
 891              		.cfi_endproc
 892              	.LFE143:
 894              		.section	.text.handle_cmd,"ax",%progbits
 895              		.align	1
 896              		.syntax unified
 897              		.thumb
 898              		.thumb_func
 900              	handle_cmd:
 901              	.LVL82:
 902              	.LFB146:
 339:TOF/App/app_tof.c ****   switch (cmd)
 903              		.loc 1 339 1 is_stmt 1 view -0
 904              		.cfi_startproc
 905              		@ args = 0, pretend = 0, frame = 0
 906              		@ frame_needed = 0, uses_anonymous_args = 0
 339:TOF/App/app_tof.c ****   switch (cmd)
 907              		.loc 1 339 1 is_stmt 0 view .LVU184
 908 0000 08B5     		push	{r3, lr}
 909              		.cfi_def_cfa_offset 8
 910              		.cfi_offset 3, -8
 911              		.cfi_offset 14, -4
 340:TOF/App/app_tof.c ****   {
 912              		.loc 1 340 3 is_stmt 1 view .LVU185
 913 0002 7228     		cmp	r0, #114
 914 0004 04D0     		beq	.L71
 915 0006 7328     		cmp	r0, #115
 916 0008 07D0     		beq	.L72
 917 000a 6328     		cmp	r0, #99
 918 000c 0AD0     		beq	.L76
 919              	.LVL83:
 920              	.L70:
 359:TOF/App/app_tof.c **** 
 921              		.loc 1 359 1 is_stmt 0 view .LVU186
 922 000e 08BD     		pop	{r3, pc}
 923              	.LVL84:
ARM GAS  C:\Temp\ccDYIi5r.s 			page 28


 924              	.L71:
 343:TOF/App/app_tof.c ****       clear_screen();
 925              		.loc 1 343 7 is_stmt 1 view .LVU187
 926 0010 FFF7FEFF 		bl	toggle_resolution
 927              	.LVL85:
 344:TOF/App/app_tof.c ****       break;
 928              		.loc 1 344 7 view .LVU188
 929 0014 FFF7FEFF 		bl	clear_screen
 930              	.LVL86:
 345:TOF/App/app_tof.c **** 
 931              		.loc 1 345 7 view .LVU189
 932 0018 F9E7     		b	.L70
 933              	.LVL87:
 934              	.L72:
 348:TOF/App/app_tof.c ****       clear_screen();
 935              		.loc 1 348 7 view .LVU190
 936 001a FFF7FEFF 		bl	toggle_signal_and_ambient
 937              	.LVL88:
 349:TOF/App/app_tof.c ****       break;
 938              		.loc 1 349 7 view .LVU191
 939 001e FFF7FEFF 		bl	clear_screen
 940              	.LVL89:
 350:TOF/App/app_tof.c **** 
 941              		.loc 1 350 7 view .LVU192
 942 0022 F4E7     		b	.L70
 943              	.LVL90:
 944              	.L76:
 353:TOF/App/app_tof.c ****       break;
 945              		.loc 1 353 7 view .LVU193
 946 0024 FFF7FEFF 		bl	clear_screen
 947              	.LVL91:
 354:TOF/App/app_tof.c **** 
 948              		.loc 1 354 7 view .LVU194
 359:TOF/App/app_tof.c **** 
 949              		.loc 1 359 1 is_stmt 0 view .LVU195
 950 0028 F1E7     		b	.L70
 951              		.cfi_endproc
 952              	.LFE146:
 954              		.section	.rodata.MX_53L8A1_SimpleRanging_Process.str1.4,"aMS",%progbits,1
 955              		.align	2
 956              	.LC29:
 957 0000 2D2D2D20 		.ascii	"--- XTALK CALIBRATION ---\000"
 957      5854414C 
 957      4B204341 
 957      4C494252 
 957      4154494F 
 958 001a 0000     		.align	2
 959              	.LC30:
 960 001c 50757420 		.ascii	"Put a target with %u %% reflectance at %u mm\012\000"
 960      61207461 
 960      72676574 
 960      20776974 
 960      68202575 
 961 004a 0000     		.align	2
 962              	.LC31:
 963 004c 50726573 		.ascii	"Press the user button to continue...\000"
 963      73207468 
ARM GAS  C:\Temp\ccDYIi5r.s 			page 29


 963      65207573 
 963      65722062 
 963      7574746F 
 964 0071 000000   		.align	2
 965              	.LC32:
 966 0074 2D2D2D20 		.ascii	"--- BEGIN XTALK CALIBRATION ---\000"
 966      42454749 
 966      4E205854 
 966      414C4B20 
 966      43414C49 
 967              		.align	2
 968              	.LC33:
 969 0094 2D2D2D20 		.ascii	"--- END OF XTALK CALIBRATION ---\000"
 969      454E4420 
 969      4F462058 
 969      54414C4B 
 969      2043414C 
 970 00b5 000000   		.align	2
 971              	.LC34:
 972 00b8 564C3533 		.ascii	"VL53L8A1_RANGING_SENSOR_Start failed\000"
 972      4C384131 
 972      5F52414E 
 972      47494E47 
 972      5F53454E 
 973              		.section	.text.MX_53L8A1_SimpleRanging_Process,"ax",%progbits
 974              		.align	1
 975              		.syntax unified
 976              		.thumb
 977              		.thumb_func
 979              	MX_53L8A1_SimpleRanging_Process:
 980              	.LFB140:
 128:TOF/App/app_tof.c ****   uint32_t Id;
 981              		.loc 1 128 1 is_stmt 1 view -0
 982              		.cfi_startproc
 983              		@ args = 0, pretend = 0, frame = 8
 984              		@ frame_needed = 0, uses_anonymous_args = 0
 985 0000 00B5     		push	{lr}
 986              		.cfi_def_cfa_offset 4
 987              		.cfi_offset 14, -4
 988 0002 83B0     		sub	sp, sp, #12
 989              		.cfi_def_cfa_offset 16
 129:TOF/App/app_tof.c **** 
 990              		.loc 1 129 3 view .LVU197
 132:TOF/App/app_tof.c ****   uint16_t cal_distance = 600; /* expressed in millimiters (mm) / range 600 mm - 3000 mm*/
 991              		.loc 1 132 3 view .LVU198
 992              	.LVL92:
 133:TOF/App/app_tof.c **** 
 993              		.loc 1 133 3 view .LVU199
 135:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_GetCapabilities(VL53L8A1_DEV_CENTER, &Cap);
 994              		.loc 1 135 3 view .LVU200
 995 0004 01A9     		add	r1, sp, #4
 996 0006 0120     		movs	r0, #1
 997 0008 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_ReadID
 998              	.LVL93:
 136:TOF/App/app_tof.c **** 
 999              		.loc 1 136 3 view .LVU201
 1000 000c 2A49     		ldr	r1, .L86
ARM GAS  C:\Temp\ccDYIi5r.s 			page 30


 1001 000e 0120     		movs	r0, #1
 1002 0010 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_GetCapabilities
 1003              	.LVL94:
 138:TOF/App/app_tof.c ****   Profile.TimingBudget = TIMING_BUDGET;
 1004              		.loc 1 138 3 view .LVU202
 138:TOF/App/app_tof.c ****   Profile.TimingBudget = TIMING_BUDGET;
 1005              		.loc 1 138 26 is_stmt 0 view .LVU203
 1006 0014 2949     		ldr	r1, .L86+4
 1007 0016 0120     		movs	r0, #1
 1008 0018 0860     		str	r0, [r1]
 139:TOF/App/app_tof.c ****   Profile.Frequency = RANGING_FREQUENCY; /* Ranging frequency Hz (shall be consistent with TimingBu
 1009              		.loc 1 139 3 is_stmt 1 view .LVU204
 139:TOF/App/app_tof.c ****   Profile.Frequency = RANGING_FREQUENCY; /* Ranging frequency Hz (shall be consistent with TimingBu
 1010              		.loc 1 139 24 is_stmt 0 view .LVU205
 1011 001a 1E23     		movs	r3, #30
 1012 001c 4B60     		str	r3, [r1, #4]
 140:TOF/App/app_tof.c ****   Profile.EnableAmbient = 0; /* Enable: 1, Disable: 0 */
 1013              		.loc 1 140 3 is_stmt 1 view .LVU206
 140:TOF/App/app_tof.c ****   Profile.EnableAmbient = 0; /* Enable: 1, Disable: 0 */
 1014              		.loc 1 140 21 is_stmt 0 view .LVU207
 1015 001e 0A23     		movs	r3, #10
 1016 0020 8B60     		str	r3, [r1, #8]
 141:TOF/App/app_tof.c ****   Profile.EnableSignal = 0; /* Enable: 1, Disable: 0 */
 1017              		.loc 1 141 3 is_stmt 1 view .LVU208
 141:TOF/App/app_tof.c ****   Profile.EnableSignal = 0; /* Enable: 1, Disable: 0 */
 1018              		.loc 1 141 25 is_stmt 0 view .LVU209
 1019 0022 0023     		movs	r3, #0
 1020 0024 CB60     		str	r3, [r1, #12]
 142:TOF/App/app_tof.c **** 
 1021              		.loc 1 142 3 is_stmt 1 view .LVU210
 142:TOF/App/app_tof.c **** 
 1022              		.loc 1 142 24 is_stmt 0 view .LVU211
 1023 0026 0B61     		str	r3, [r1, #16]
 145:TOF/App/app_tof.c **** 
 1024              		.loc 1 145 3 is_stmt 1 view .LVU212
 1025 0028 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_ConfigProfile
 1026              	.LVL95:
 147:TOF/App/app_tof.c ****   printf("Put a target with %u %% reflectance at %u mm\n", reflectance, cal_distance);
 1027              		.loc 1 147 3 view .LVU213
 1028 002c 2448     		ldr	r0, .L86+8
 1029 002e FFF7FEFF 		bl	puts
 1030              	.LVL96:
 148:TOF/App/app_tof.c ****   printf("Press the user button to continue...\n");
 1031              		.loc 1 148 3 view .LVU214
 1032 0032 4FF41672 		mov	r2, #600
 1033 0036 1021     		movs	r1, #16
 1034 0038 2248     		ldr	r0, .L86+12
 1035 003a FFF7FEFF 		bl	printf
 1036              	.LVL97:
 149:TOF/App/app_tof.c **** 
 1037              		.loc 1 149 3 view .LVU215
 1038 003e 2248     		ldr	r0, .L86+16
 1039 0040 FFF7FEFF 		bl	puts
 1040              	.LVL98:
 152:TOF/App/app_tof.c ****   PushButtonDetected = 0;
 1041              		.loc 1 152 3 view .LVU216
 1042              	.L78:
ARM GAS  C:\Temp\ccDYIi5r.s 			page 31


 152:TOF/App/app_tof.c ****   PushButtonDetected = 0;
 1043              		.loc 1 152 29 discriminator 1 view .LVU217
 1044 0044 214B     		ldr	r3, .L86+20
 1045 0046 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1046 0048 DBB2     		uxtb	r3, r3
 1047 004a 012B     		cmp	r3, #1
 1048 004c FAD1     		bne	.L78
 153:TOF/App/app_tof.c **** 
 1049              		.loc 1 153 3 view .LVU218
 153:TOF/App/app_tof.c **** 
 1050              		.loc 1 153 22 is_stmt 0 view .LVU219
 1051 004e 1F4B     		ldr	r3, .L86+20
 1052 0050 0022     		movs	r2, #0
 1053 0052 1A70     		strb	r2, [r3]
 155:TOF/App/app_tof.c ****   VL53L8A1_RANGING_SENSOR_XTalkCalibration(VL53L8A1_DEV_CENTER, reflectance, cal_distance);
 1054              		.loc 1 155 3 is_stmt 1 view .LVU220
 1055 0054 1E48     		ldr	r0, .L86+24
 1056 0056 FFF7FEFF 		bl	puts
 1057              	.LVL99:
 156:TOF/App/app_tof.c ****   printf("--- END OF XTALK CALIBRATION ---\n");
 1058              		.loc 1 156 3 view .LVU221
 1059 005a 4FF41672 		mov	r2, #600
 1060 005e 1021     		movs	r1, #16
 1061 0060 0120     		movs	r0, #1
 1062 0062 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_XTalkCalibration
 1063              	.LVL100:
 157:TOF/App/app_tof.c **** 
 1064              		.loc 1 157 3 view .LVU222
 1065 0066 1B48     		ldr	r0, .L86+28
 1066 0068 FFF7FEFF 		bl	puts
 1067              	.LVL101:
 159:TOF/App/app_tof.c **** 
 1068              		.loc 1 159 3 view .LVU223
 159:TOF/App/app_tof.c **** 
 1069              		.loc 1 159 12 is_stmt 0 view .LVU224
 1070 006c 0321     		movs	r1, #3
 1071 006e 0120     		movs	r0, #1
 1072 0070 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_Start
 1073              	.LVL102:
 159:TOF/App/app_tof.c **** 
 1074              		.loc 1 159 10 view .LVU225
 1075 0074 184B     		ldr	r3, .L86+32
 1076 0076 1860     		str	r0, [r3]
 161:TOF/App/app_tof.c ****   {
 1077              		.loc 1 161 3 is_stmt 1 view .LVU226
 161:TOF/App/app_tof.c ****   {
 1078              		.loc 1 161 6 is_stmt 0 view .LVU227
 1079 0078 58B9     		cbnz	r0, .L84
 1080              	.L82:
 167:TOF/App/app_tof.c ****   {
 1081              		.loc 1 167 3 is_stmt 1 view .LVU228
 170:TOF/App/app_tof.c ****     {
 1082              		.loc 1 170 5 view .LVU229
 170:TOF/App/app_tof.c ****     {
 1083              		.loc 1 170 27 is_stmt 0 view .LVU230
 1084 007a 184B     		ldr	r3, .L86+36
 1085 007c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Temp\ccDYIi5r.s 			page 32


 170:TOF/App/app_tof.c ****     {
 1086              		.loc 1 170 8 view .LVU231
 1087 007e 63B9     		cbnz	r3, .L85
 1088              	.L81:
 181:TOF/App/app_tof.c ****     {
 1089              		.loc 1 181 5 is_stmt 1 view .LVU232
 181:TOF/App/app_tof.c ****     {
 1090              		.loc 1 181 9 is_stmt 0 view .LVU233
 1091 0080 FFF7FEFF 		bl	com_has_data
 1092              	.LVL103:
 181:TOF/App/app_tof.c ****     {
 1093              		.loc 1 181 8 view .LVU234
 1094 0084 0028     		cmp	r0, #0
 1095 0086 F8D0     		beq	.L82
 183:TOF/App/app_tof.c ****     }
 1096              		.loc 1 183 7 is_stmt 1 view .LVU235
 1097 0088 FFF7FEFF 		bl	get_key
 1098              	.LVL104:
 1099 008c FFF7FEFF 		bl	handle_cmd
 1100              	.LVL105:
 1101 0090 F3E7     		b	.L82
 1102              	.L84:
 163:TOF/App/app_tof.c ****     while (1);
 1103              		.loc 1 163 5 view .LVU236
 1104 0092 1348     		ldr	r0, .L86+40
 1105 0094 FFF7FEFF 		bl	puts
 1106              	.LVL106:
 1107              	.L80:
 164:TOF/App/app_tof.c ****   }
 1108              		.loc 1 164 5 discriminator 1 view .LVU237
 164:TOF/App/app_tof.c ****   }
 1109              		.loc 1 164 11 discriminator 1 view .LVU238
 1110 0098 FEE7     		b	.L80
 1111              	.L85:
 172:TOF/App/app_tof.c **** 
 1112              		.loc 1 172 7 view .LVU239
 172:TOF/App/app_tof.c **** 
 1113              		.loc 1 172 25 is_stmt 0 view .LVU240
 1114 009a 104B     		ldr	r3, .L86+36
 1115 009c 0022     		movs	r2, #0
 1116 009e 1A70     		strb	r2, [r3]
 174:TOF/App/app_tof.c **** 
 1117              		.loc 1 174 7 is_stmt 1 view .LVU241
 174:TOF/App/app_tof.c **** 
 1118              		.loc 1 174 16 is_stmt 0 view .LVU242
 1119 00a0 1049     		ldr	r1, .L86+44
 1120 00a2 0120     		movs	r0, #1
 1121 00a4 FFF7FEFF 		bl	VL53L8A1_RANGING_SENSOR_GetDistance
 1122              	.LVL107:
 174:TOF/App/app_tof.c **** 
 1123              		.loc 1 174 14 view .LVU243
 1124 00a8 0B4B     		ldr	r3, .L86+32
 1125 00aa 1860     		str	r0, [r3]
 176:TOF/App/app_tof.c ****       {
 1126              		.loc 1 176 7 is_stmt 1 view .LVU244
 176:TOF/App/app_tof.c ****       {
 1127              		.loc 1 176 10 is_stmt 0 view .LVU245
ARM GAS  C:\Temp\ccDYIi5r.s 			page 33


 1128 00ac 0028     		cmp	r0, #0
 1129 00ae E7D1     		bne	.L81
 178:TOF/App/app_tof.c ****       }
 1130              		.loc 1 178 9 is_stmt 1 view .LVU246
 1131 00b0 0C48     		ldr	r0, .L86+44
 1132 00b2 FFF7FEFF 		bl	print_result
 1133              	.LVL108:
 1134 00b6 E3E7     		b	.L81
 1135              	.L87:
 1136              		.align	2
 1137              	.L86:
 1138 00b8 00000000 		.word	Cap
 1139 00bc 00000000 		.word	Profile
 1140 00c0 00000000 		.word	.LC29
 1141 00c4 1C000000 		.word	.LC30
 1142 00c8 4C000000 		.word	.LC31
 1143 00cc 00000000 		.word	PushButtonDetected
 1144 00d0 74000000 		.word	.LC32
 1145 00d4 94000000 		.word	.LC33
 1146 00d8 00000000 		.word	status
 1147 00dc 00000000 		.word	ToF_EventDetected
 1148 00e0 B8000000 		.word	.LC34
 1149 00e4 00000000 		.word	Result
 1150              		.cfi_endproc
 1151              	.LFE140:
 1153              		.section	.text.MX_TOF_Init,"ax",%progbits
 1154              		.align	1
 1155              		.global	MX_TOF_Init
 1156              		.syntax unified
 1157              		.thumb
 1158              		.thumb_func
 1160              	MX_TOF_Init:
 1161              	.LFB137:
  62:TOF/App/app_tof.c ****   /* USER CODE BEGIN SV */
 1162              		.loc 1 62 1 view -0
 1163              		.cfi_startproc
 1164              		@ args = 0, pretend = 0, frame = 0
 1165              		@ frame_needed = 0, uses_anonymous_args = 0
 1166 0000 08B5     		push	{r3, lr}
 1167              		.cfi_def_cfa_offset 8
 1168              		.cfi_offset 3, -8
 1169              		.cfi_offset 14, -4
  73:TOF/App/app_tof.c **** 
 1170              		.loc 1 73 3 view .LVU248
 1171 0002 FFF7FEFF 		bl	MX_53L8A1_SimpleRanging_Init
 1172              	.LVL109:
  78:TOF/App/app_tof.c **** 
 1173              		.loc 1 78 1 is_stmt 0 view .LVU249
 1174 0006 08BD     		pop	{r3, pc}
 1175              		.cfi_endproc
 1176              	.LFE137:
 1178              		.section	.text.MX_TOF_Process,"ax",%progbits
 1179              		.align	1
 1180              		.global	MX_TOF_Process
 1181              		.syntax unified
 1182              		.thumb
 1183              		.thumb_func
ARM GAS  C:\Temp\ccDYIi5r.s 			page 34


 1185              	MX_TOF_Process:
 1186              	.LFB138:
  84:TOF/App/app_tof.c ****   /* USER CODE BEGIN TOF_Process_PreTreatment */
 1187              		.loc 1 84 1 is_stmt 1 view -0
 1188              		.cfi_startproc
 1189              		@ Volatile: function does not return.
 1190              		@ args = 0, pretend = 0, frame = 0
 1191              		@ frame_needed = 0, uses_anonymous_args = 0
 1192 0000 08B5     		push	{r3, lr}
 1193              		.cfi_def_cfa_offset 8
 1194              		.cfi_offset 3, -8
 1195              		.cfi_offset 14, -4
  89:TOF/App/app_tof.c **** 
 1196              		.loc 1 89 3 view .LVU251
 1197 0002 FFF7FEFF 		bl	MX_53L8A1_SimpleRanging_Process
 1198              	.LVL110:
 1199              		.cfi_endproc
 1200              	.LFE138:
 1202              		.section	.text.BSP_PB_Callback,"ax",%progbits
 1203              		.align	1
 1204              		.global	BSP_PB_Callback
 1205              		.syntax unified
 1206              		.thumb
 1207              		.thumb_func
 1209              	BSP_PB_Callback:
 1210              	.LVL111:
 1211              	.LFB149:
 374:TOF/App/app_tof.c **** 
 375:TOF/App/app_tof.c **** void BSP_PB_Callback(Button_TypeDef Button)
 376:TOF/App/app_tof.c **** {
 1212              		.loc 1 376 1 view -0
 1213              		.cfi_startproc
 1214              		@ args = 0, pretend = 0, frame = 0
 1215              		@ frame_needed = 0, uses_anonymous_args = 0
 1216              		@ link register save eliminated.
 377:TOF/App/app_tof.c ****   PushButtonDetected = 1;
 1217              		.loc 1 377 3 view .LVU253
 1218              		.loc 1 377 22 is_stmt 0 view .LVU254
 1219 0000 014B     		ldr	r3, .L93
 1220 0002 0122     		movs	r2, #1
 1221 0004 1A70     		strb	r2, [r3]
 378:TOF/App/app_tof.c **** }
 1222              		.loc 1 378 1 view .LVU255
 1223 0006 7047     		bx	lr
 1224              	.L94:
 1225              		.align	2
 1226              	.L93:
 1227 0008 00000000 		.word	PushButtonDetected
 1228              		.cfi_endproc
 1229              	.LFE149:
 1231              		.global	ToF_EventDetected
 1232              		.section	.bss.ToF_EventDetected,"aw",%nobits
 1235              	ToF_EventDetected:
 1236 0000 00       		.space	1
 1237              		.section	.bss.PushButtonDetected,"aw",%nobits
 1240              	PushButtonDetected:
 1241 0000 00       		.space	1
ARM GAS  C:\Temp\ccDYIi5r.s 			page 35


 1242              		.section	.bss.status,"aw",%nobits
 1243              		.align	2
 1246              	status:
 1247 0000 00000000 		.space	4
 1248              		.section	.bss.Result,"aw",%nobits
 1249              		.align	2
 1252              	Result:
 1253 0000 00000000 		.space	1284
 1253      00000000 
 1253      00000000 
 1253      00000000 
 1253      00000000 
 1254              		.section	.bss.Profile,"aw",%nobits
 1255              		.align	2
 1258              	Profile:
 1259 0000 00000000 		.space	20
 1259      00000000 
 1259      00000000 
 1259      00000000 
 1259      00000000 
 1260              		.section	.bss.Cap,"aw",%nobits
 1261              		.align	2
 1264              	Cap:
 1265 0000 00000000 		.space	16
 1265      00000000 
 1265      00000000 
 1265      00000000 
 1266              		.text
 1267              	.Letext0:
 1268              		.file 2 "c:\\users\\jessejabezarendse\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-
 1269              		.file 3 "c:\\users\\jessejabezarendse\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-
 1270              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f411xe.h"
 1271              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1272              		.file 6 "Drivers/BSP/STM32F4xx_Nucleo/stm32f4xx_nucleo.h"
 1273              		.file 7 "c:\\users\\jessejabezarendse\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-
 1274              		.file 8 "Drivers/BSP/Components/vl53l8cx/modules/vl53l8cx_plugin_xtalk.h"
 1275              		.file 9 "Drivers/BSP/53L8A1/53l8a1_ranging_sensor.h"
 1276              		.file 10 "c:\\users\\jessejabezarendse\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for
 1277              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1278              		.file 12 "<built-in>"
ARM GAS  C:\Temp\ccDYIi5r.s 			page 36


DEFINED SYMBOLS
                            *ABS*:00000000 app_tof.c
  C:\Temp\ccDYIi5r.s:21     .text.get_key:00000000 $t
  C:\Temp\ccDYIi5r.s:26     .text.get_key:00000000 get_key
  C:\Temp\ccDYIi5r.s:43     .text.com_has_data:00000000 $t
  C:\Temp\ccDYIi5r.s:48     .text.com_has_data:00000000 com_has_data
  C:\Temp\ccDYIi5r.s:61     .rodata.clear_screen.str1.4:00000000 $d
  C:\Temp\ccDYIi5r.s:65     .text.clear_screen:00000000 $t
  C:\Temp\ccDYIi5r.s:70     .text.clear_screen:00000000 clear_screen
  C:\Temp\ccDYIi5r.s:90     .text.clear_screen:0000000c $d
  C:\Temp\ccDYIi5r.s:95     .rodata.MX_53L8A1_SimpleRanging_Init.str1.4:00000000 $d
  C:\Temp\ccDYIi5r.s:108    .text.MX_53L8A1_SimpleRanging_Init:00000000 $t
  C:\Temp\ccDYIi5r.s:113    .text.MX_53L8A1_SimpleRanging_Init:00000000 MX_53L8A1_SimpleRanging_Init
  C:\Temp\ccDYIi5r.s:207    .text.MX_53L8A1_SimpleRanging_Init:00000078 $d
  C:\Temp\ccDYIi5r.s:1246   .bss.status:00000000 status
  C:\Temp\ccDYIi5r.s:217    .rodata.display_commands_banner.str1.4:00000000 $d
  C:\Temp\ccDYIi5r.s:236    .text.display_commands_banner:00000000 $t
  C:\Temp\ccDYIi5r.s:241    .text.display_commands_banner:00000000 display_commands_banner
  C:\Temp\ccDYIi5r.s:289    .text.display_commands_banner:00000038 $d
  C:\Temp\ccDYIi5r.s:300    .rodata.print_result.str1.4:00000000 $d
  C:\Temp\ccDYIi5r.s:355    .text.print_result:00000000 $t
  C:\Temp\ccDYIi5r.s:360    .text.print_result:00000000 print_result
  C:\Temp\ccDYIi5r.s:731    .text.print_result:000001a8 $d
  C:\Temp\ccDYIi5r.s:1258   .bss.Profile:00000000 Profile
  C:\Temp\ccDYIi5r.s:754    .text.toggle_resolution:00000000 $t
  C:\Temp\ccDYIi5r.s:759    .text.toggle_resolution:00000000 toggle_resolution
  C:\Temp\ccDYIi5r.s:783    .text.toggle_resolution:00000016 $d
  C:\Temp\ccDYIi5r.s:787    .text.toggle_resolution:0000001a $t
  C:\Temp\ccDYIi5r.s:835    .text.toggle_resolution:0000004c $d
  C:\Temp\ccDYIi5r.s:840    .text.toggle_signal_and_ambient:00000000 $t
  C:\Temp\ccDYIi5r.s:845    .text.toggle_signal_and_ambient:00000000 toggle_signal_and_ambient
  C:\Temp\ccDYIi5r.s:890    .text.toggle_signal_and_ambient:00000030 $d
  C:\Temp\ccDYIi5r.s:895    .text.handle_cmd:00000000 $t
  C:\Temp\ccDYIi5r.s:900    .text.handle_cmd:00000000 handle_cmd
  C:\Temp\ccDYIi5r.s:955    .rodata.MX_53L8A1_SimpleRanging_Process.str1.4:00000000 $d
  C:\Temp\ccDYIi5r.s:974    .text.MX_53L8A1_SimpleRanging_Process:00000000 $t
  C:\Temp\ccDYIi5r.s:979    .text.MX_53L8A1_SimpleRanging_Process:00000000 MX_53L8A1_SimpleRanging_Process
  C:\Temp\ccDYIi5r.s:1138   .text.MX_53L8A1_SimpleRanging_Process:000000b8 $d
  C:\Temp\ccDYIi5r.s:1264   .bss.Cap:00000000 Cap
  C:\Temp\ccDYIi5r.s:1240   .bss.PushButtonDetected:00000000 PushButtonDetected
  C:\Temp\ccDYIi5r.s:1235   .bss.ToF_EventDetected:00000000 ToF_EventDetected
  C:\Temp\ccDYIi5r.s:1252   .bss.Result:00000000 Result
  C:\Temp\ccDYIi5r.s:1154   .text.MX_TOF_Init:00000000 $t
  C:\Temp\ccDYIi5r.s:1160   .text.MX_TOF_Init:00000000 MX_TOF_Init
  C:\Temp\ccDYIi5r.s:1179   .text.MX_TOF_Process:00000000 $t
  C:\Temp\ccDYIi5r.s:1185   .text.MX_TOF_Process:00000000 MX_TOF_Process
  C:\Temp\ccDYIi5r.s:1203   .text.BSP_PB_Callback:00000000 $t
  C:\Temp\ccDYIi5r.s:1209   .text.BSP_PB_Callback:00000000 BSP_PB_Callback
  C:\Temp\ccDYIi5r.s:1227   .text.BSP_PB_Callback:00000008 $d
  C:\Temp\ccDYIi5r.s:1236   .bss.ToF_EventDetected:00000000 $d
  C:\Temp\ccDYIi5r.s:1241   .bss.PushButtonDetected:00000000 $d
  C:\Temp\ccDYIi5r.s:1243   .bss.status:00000000 $d
  C:\Temp\ccDYIi5r.s:1249   .bss.Result:00000000 $d
  C:\Temp\ccDYIi5r.s:1255   .bss.Profile:00000000 $d
  C:\Temp\ccDYIi5r.s:1261   .bss.Cap:00000000 $d

UNDEFINED SYMBOLS
ARM GAS  C:\Temp\ccDYIi5r.s 			page 37


printf
BSP_PB_Init
HAL_GPIO_WritePin
HAL_Delay
puts
VL53L8A1_RANGING_SENSOR_Init
putchar
VL53L8A1_RANGING_SENSOR_Stop
VL53L8A1_RANGING_SENSOR_ConfigProfile
VL53L8A1_RANGING_SENSOR_Start
VL53L8A1_RANGING_SENSOR_ReadID
VL53L8A1_RANGING_SENSOR_GetCapabilities
VL53L8A1_RANGING_SENSOR_XTalkCalibration
VL53L8A1_RANGING_SENSOR_GetDistance
