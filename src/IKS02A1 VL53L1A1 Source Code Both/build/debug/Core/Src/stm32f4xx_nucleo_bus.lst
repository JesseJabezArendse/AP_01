ARM GAS  C:\Temp\ccZhLyxh.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"stm32f4xx_nucleo_bus.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "Core/Src/stm32f4xx_nucleo_bus.c"
  20              		.section	.text.I2C1_MspInit,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	I2C1_MspInit:
  27              	.LVL0:
  28              	.LFB147:
   1:Core/Src/stm32f4xx_nucleo_bus.c **** /* USER CODE BEGIN Header */
   2:Core/Src/stm32f4xx_nucleo_bus.c **** /**
   3:Core/Src/stm32f4xx_nucleo_bus.c ****   ******************************************************************************
   4:Core/Src/stm32f4xx_nucleo_bus.c ****   * @file           : stm32f4xx_nucleo_bus.c
   5:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief          : source file for the BSP BUS IO driver
   6:Core/Src/stm32f4xx_nucleo_bus.c ****   ******************************************************************************
   7:Core/Src/stm32f4xx_nucleo_bus.c ****   * @attention
   8:Core/Src/stm32f4xx_nucleo_bus.c ****   *
   9:Core/Src/stm32f4xx_nucleo_bus.c ****   * Copyright (c) 2024 STMicroelectronics.
  10:Core/Src/stm32f4xx_nucleo_bus.c ****   * All rights reserved.
  11:Core/Src/stm32f4xx_nucleo_bus.c ****   *
  12:Core/Src/stm32f4xx_nucleo_bus.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/stm32f4xx_nucleo_bus.c ****   * in the root directory of this software component.
  14:Core/Src/stm32f4xx_nucleo_bus.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/stm32f4xx_nucleo_bus.c ****   *
  16:Core/Src/stm32f4xx_nucleo_bus.c ****   ******************************************************************************
  17:Core/Src/stm32f4xx_nucleo_bus.c **** */
  18:Core/Src/stm32f4xx_nucleo_bus.c **** /* USER CODE END Header */
  19:Core/Src/stm32f4xx_nucleo_bus.c **** 
  20:Core/Src/stm32f4xx_nucleo_bus.c **** /* Includes ------------------------------------------------------------------*/
  21:Core/Src/stm32f4xx_nucleo_bus.c **** #include "stm32f4xx_nucleo_bus.h"
  22:Core/Src/stm32f4xx_nucleo_bus.c **** 
  23:Core/Src/stm32f4xx_nucleo_bus.c **** __weak HAL_StatusTypeDef MX_I2C1_Init(I2C_HandleTypeDef* hi2c);
  24:Core/Src/stm32f4xx_nucleo_bus.c **** 
  25:Core/Src/stm32f4xx_nucleo_bus.c **** /** @addtogroup BSP
  26:Core/Src/stm32f4xx_nucleo_bus.c ****   * @{
  27:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  28:Core/Src/stm32f4xx_nucleo_bus.c **** 
  29:Core/Src/stm32f4xx_nucleo_bus.c **** /** @addtogroup STM32F4XX_NUCLEO
  30:Core/Src/stm32f4xx_nucleo_bus.c ****   * @{
ARM GAS  C:\Temp\ccZhLyxh.s 			page 2


  31:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  32:Core/Src/stm32f4xx_nucleo_bus.c **** 
  33:Core/Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_BUS STM32F4XX_NUCLEO BUS
  34:Core/Src/stm32f4xx_nucleo_bus.c ****   * @{
  35:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  36:Core/Src/stm32f4xx_nucleo_bus.c **** 
  37:Core/Src/stm32f4xx_nucleo_bus.c **** extern void Error_Handler(void);
  38:Core/Src/stm32f4xx_nucleo_bus.c **** 
  39:Core/Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_BUS_Exported_Variables BUS Exported Variables
  40:Core/Src/stm32f4xx_nucleo_bus.c ****   * @{
  41:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  42:Core/Src/stm32f4xx_nucleo_bus.c **** 
  43:Core/Src/stm32f4xx_nucleo_bus.c **** I2C_HandleTypeDef hi2c1;
  44:Core/Src/stm32f4xx_nucleo_bus.c **** /**
  45:Core/Src/stm32f4xx_nucleo_bus.c ****   * @}
  46:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  47:Core/Src/stm32f4xx_nucleo_bus.c **** 
  48:Core/Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_BUS_Private_Variables BUS Private Variables
  49:Core/Src/stm32f4xx_nucleo_bus.c ****   * @{
  50:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  51:Core/Src/stm32f4xx_nucleo_bus.c **** 
  52:Core/Src/stm32f4xx_nucleo_bus.c **** #if (USE_HAL_I2C_REGISTER_CALLBACKS == 1U)
  53:Core/Src/stm32f4xx_nucleo_bus.c **** static uint32_t IsI2C1MspCbValid = 0;
  54:Core/Src/stm32f4xx_nucleo_bus.c **** #endif /* USE_HAL_I2C_REGISTER_CALLBACKS */
  55:Core/Src/stm32f4xx_nucleo_bus.c **** static uint32_t I2C1InitCounter = 0;
  56:Core/Src/stm32f4xx_nucleo_bus.c **** 
  57:Core/Src/stm32f4xx_nucleo_bus.c **** /**
  58:Core/Src/stm32f4xx_nucleo_bus.c ****   * @}
  59:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  60:Core/Src/stm32f4xx_nucleo_bus.c **** 
  61:Core/Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_BUS_Private_FunctionPrototypes  BUS Private Function
  62:Core/Src/stm32f4xx_nucleo_bus.c ****   * @{
  63:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  64:Core/Src/stm32f4xx_nucleo_bus.c **** 
  65:Core/Src/stm32f4xx_nucleo_bus.c **** static void I2C1_MspInit(I2C_HandleTypeDef* hI2c);
  66:Core/Src/stm32f4xx_nucleo_bus.c **** static void I2C1_MspDeInit(I2C_HandleTypeDef* hI2c);
  67:Core/Src/stm32f4xx_nucleo_bus.c **** #if (USE_CUBEMX_BSP_V2 == 1)
  68:Core/Src/stm32f4xx_nucleo_bus.c **** static uint32_t I2C_GetTiming(uint32_t clock_src_hz, uint32_t i2cfreq_hz);
  69:Core/Src/stm32f4xx_nucleo_bus.c **** static void Compute_PRESC_SCLDEL_SDADEL(uint32_t clock_src_freq, uint32_t I2C_Speed);
  70:Core/Src/stm32f4xx_nucleo_bus.c **** static uint32_t Compute_SCLL_SCLH (uint32_t clock_src_freq, uint32_t I2C_speed);
  71:Core/Src/stm32f4xx_nucleo_bus.c **** #endif
  72:Core/Src/stm32f4xx_nucleo_bus.c **** 
  73:Core/Src/stm32f4xx_nucleo_bus.c **** /**
  74:Core/Src/stm32f4xx_nucleo_bus.c ****   * @}
  75:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  76:Core/Src/stm32f4xx_nucleo_bus.c **** 
  77:Core/Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_LOW_LEVEL_Private_Functions STM32F4XX_NUCLEO LOW LEVEL Private Funct
  78:Core/Src/stm32f4xx_nucleo_bus.c ****   * @{
  79:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  80:Core/Src/stm32f4xx_nucleo_bus.c **** 
  81:Core/Src/stm32f4xx_nucleo_bus.c **** /** @defgroup STM32F4XX_NUCLEO_BUS_Exported_Functions STM32F4XX_NUCLEO_BUS Exported Functions
  82:Core/Src/stm32f4xx_nucleo_bus.c ****   * @{
  83:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  84:Core/Src/stm32f4xx_nucleo_bus.c **** 
  85:Core/Src/stm32f4xx_nucleo_bus.c **** /* BUS IO driver over I2C Peripheral */
  86:Core/Src/stm32f4xx_nucleo_bus.c **** /*******************************************************************************
  87:Core/Src/stm32f4xx_nucleo_bus.c ****                             BUS OPERATIONS OVER I2C
ARM GAS  C:\Temp\ccZhLyxh.s 			page 3


  88:Core/Src/stm32f4xx_nucleo_bus.c **** *******************************************************************************/
  89:Core/Src/stm32f4xx_nucleo_bus.c **** /**
  90:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Initialize I2C HAL
  91:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
  92:Core/Src/stm32f4xx_nucleo_bus.c ****   */
  93:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_I2C1_Init(void)
  94:Core/Src/stm32f4xx_nucleo_bus.c **** {
  95:Core/Src/stm32f4xx_nucleo_bus.c **** 
  96:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
  97:Core/Src/stm32f4xx_nucleo_bus.c **** 
  98:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c1.Instance  = I2C1;
  99:Core/Src/stm32f4xx_nucleo_bus.c **** 
 100:Core/Src/stm32f4xx_nucleo_bus.c ****   if(I2C1InitCounter++ == 0)
 101:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 102:Core/Src/stm32f4xx_nucleo_bus.c ****     if (HAL_I2C_GetState(&hi2c1) == HAL_I2C_STATE_RESET)
 103:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 104:Core/Src/stm32f4xx_nucleo_bus.c ****     #if (USE_HAL_I2C_REGISTER_CALLBACKS == 0U)
 105:Core/Src/stm32f4xx_nucleo_bus.c ****       /* Init the I2C Msp */
 106:Core/Src/stm32f4xx_nucleo_bus.c ****       I2C1_MspInit(&hi2c1);
 107:Core/Src/stm32f4xx_nucleo_bus.c ****     #else
 108:Core/Src/stm32f4xx_nucleo_bus.c ****       if(IsI2C1MspCbValid == 0U)
 109:Core/Src/stm32f4xx_nucleo_bus.c ****       {
 110:Core/Src/stm32f4xx_nucleo_bus.c ****         if(BSP_I2C1_RegisterDefaultMspCallbacks() != BSP_ERROR_NONE)
 111:Core/Src/stm32f4xx_nucleo_bus.c ****         {
 112:Core/Src/stm32f4xx_nucleo_bus.c ****           return BSP_ERROR_MSP_FAILURE;
 113:Core/Src/stm32f4xx_nucleo_bus.c ****         }
 114:Core/Src/stm32f4xx_nucleo_bus.c ****       }
 115:Core/Src/stm32f4xx_nucleo_bus.c ****     #endif
 116:Core/Src/stm32f4xx_nucleo_bus.c ****       if(ret == BSP_ERROR_NONE)
 117:Core/Src/stm32f4xx_nucleo_bus.c ****       {
 118:Core/Src/stm32f4xx_nucleo_bus.c ****         /* Init the I2C */
 119:Core/Src/stm32f4xx_nucleo_bus.c ****         if(MX_I2C1_Init(&hi2c1) != HAL_OK)
 120:Core/Src/stm32f4xx_nucleo_bus.c ****         {
 121:Core/Src/stm32f4xx_nucleo_bus.c ****           ret = BSP_ERROR_BUS_FAILURE;
 122:Core/Src/stm32f4xx_nucleo_bus.c ****         }
 123:Core/Src/stm32f4xx_nucleo_bus.c ****         else
 124:Core/Src/stm32f4xx_nucleo_bus.c ****         {
 125:Core/Src/stm32f4xx_nucleo_bus.c ****           ret = BSP_ERROR_NONE;
 126:Core/Src/stm32f4xx_nucleo_bus.c ****         }
 127:Core/Src/stm32f4xx_nucleo_bus.c ****       }
 128:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 129:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 130:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 131:Core/Src/stm32f4xx_nucleo_bus.c **** }
 132:Core/Src/stm32f4xx_nucleo_bus.c **** 
 133:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 134:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  DeInitialize I2C HAL.
 135:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 136:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 137:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_I2C1_DeInit(void)
 138:Core/Src/stm32f4xx_nucleo_bus.c **** {
 139:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 140:Core/Src/stm32f4xx_nucleo_bus.c **** 
 141:Core/Src/stm32f4xx_nucleo_bus.c ****   if (I2C1InitCounter > 0)
 142:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 143:Core/Src/stm32f4xx_nucleo_bus.c ****     if (--I2C1InitCounter == 0)
 144:Core/Src/stm32f4xx_nucleo_bus.c ****     {
ARM GAS  C:\Temp\ccZhLyxh.s 			page 4


 145:Core/Src/stm32f4xx_nucleo_bus.c ****   #if (USE_HAL_I2C_REGISTER_CALLBACKS == 0U)
 146:Core/Src/stm32f4xx_nucleo_bus.c ****       /* DeInit the I2C */
 147:Core/Src/stm32f4xx_nucleo_bus.c ****       I2C1_MspDeInit(&hi2c1);
 148:Core/Src/stm32f4xx_nucleo_bus.c ****   #endif
 149:Core/Src/stm32f4xx_nucleo_bus.c ****       /* DeInit the I2C */
 150:Core/Src/stm32f4xx_nucleo_bus.c ****       if (HAL_I2C_DeInit(&hi2c1) != HAL_OK)
 151:Core/Src/stm32f4xx_nucleo_bus.c ****       {
 152:Core/Src/stm32f4xx_nucleo_bus.c ****         ret = BSP_ERROR_BUS_FAILURE;
 153:Core/Src/stm32f4xx_nucleo_bus.c ****       }
 154:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 155:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 156:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 157:Core/Src/stm32f4xx_nucleo_bus.c **** }
 158:Core/Src/stm32f4xx_nucleo_bus.c **** 
 159:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 160:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Check whether the I2C bus is ready.
 161:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param DevAddr : I2C device address
 162:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param Trials : Check trials number
 163:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 164:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 165:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_I2C1_IsReady(uint16_t DevAddr, uint32_t Trials)
 166:Core/Src/stm32f4xx_nucleo_bus.c **** {
 167:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 168:Core/Src/stm32f4xx_nucleo_bus.c **** 
 169:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_IsDeviceReady(&hi2c1, DevAddr, Trials, BUS_I2C1_POLL_TIMEOUT) != HAL_OK)
 170:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 171:Core/Src/stm32f4xx_nucleo_bus.c ****     ret = BSP_ERROR_BUSY;
 172:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 173:Core/Src/stm32f4xx_nucleo_bus.c **** 
 174:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 175:Core/Src/stm32f4xx_nucleo_bus.c **** }
 176:Core/Src/stm32f4xx_nucleo_bus.c **** 
 177:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 178:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Write a value in a register of the device through BUS.
 179:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  DevAddr Device address on Bus.
 180:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Reg    The target register address to write
 181:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  pData  Pointer to data buffer to write
 182:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Length Data Length
 183:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 184:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 185:Core/Src/stm32f4xx_nucleo_bus.c **** 
 186:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_I2C1_WriteReg(uint16_t DevAddr, uint16_t Reg, uint8_t *pData, uint16_t Length)
 187:Core/Src/stm32f4xx_nucleo_bus.c **** {
 188:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 189:Core/Src/stm32f4xx_nucleo_bus.c **** 
 190:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_Mem_Write(&hi2c1, DevAddr,Reg, I2C_MEMADD_SIZE_8BIT,pData, Length, BUS_I2C1_POLL_TIME
 191:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 192:Core/Src/stm32f4xx_nucleo_bus.c ****     if (HAL_I2C_GetError(&hi2c1) == HAL_I2C_ERROR_AF)
 193:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 194:Core/Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_BUS_ACKNOWLEDGE_FAILURE;
 195:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 196:Core/Src/stm32f4xx_nucleo_bus.c ****     else
 197:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 198:Core/Src/stm32f4xx_nucleo_bus.c ****       ret =  BSP_ERROR_PERIPH_FAILURE;
 199:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 200:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 201:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
ARM GAS  C:\Temp\ccZhLyxh.s 			page 5


 202:Core/Src/stm32f4xx_nucleo_bus.c **** }
 203:Core/Src/stm32f4xx_nucleo_bus.c **** 
 204:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 205:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Read a register of the device through BUS
 206:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  DevAddr Device address on Bus.
 207:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Reg    The target register address to read
 208:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  pData  Pointer to data buffer to read
 209:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Length Data Length
 210:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 211:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 212:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t  BSP_I2C1_ReadReg(uint16_t DevAddr, uint16_t Reg, uint8_t *pData, uint16_t Length)
 213:Core/Src/stm32f4xx_nucleo_bus.c **** {
 214:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 215:Core/Src/stm32f4xx_nucleo_bus.c **** 
 216:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_Mem_Read(&hi2c1, DevAddr, Reg, I2C_MEMADD_SIZE_8BIT, pData, Length, BUS_I2C1_POLL_TIM
 217:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 218:Core/Src/stm32f4xx_nucleo_bus.c ****     if (HAL_I2C_GetError(&hi2c1) == HAL_I2C_ERROR_AF)
 219:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 220:Core/Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_BUS_ACKNOWLEDGE_FAILURE;
 221:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 222:Core/Src/stm32f4xx_nucleo_bus.c ****     else
 223:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 224:Core/Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_PERIPH_FAILURE;
 225:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 226:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 227:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 228:Core/Src/stm32f4xx_nucleo_bus.c **** }
 229:Core/Src/stm32f4xx_nucleo_bus.c **** 
 230:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 231:Core/Src/stm32f4xx_nucleo_bus.c **** 
 232:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Write a value in a register of the device through BUS.
 233:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  DevAddr Device address on Bus.
 234:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Reg    The target register address to write
 235:Core/Src/stm32f4xx_nucleo_bus.c **** 
 236:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  pData  Pointer to data buffer to write
 237:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Length Data Length
 238:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP statu
 239:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 240:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_I2C1_WriteReg16(uint16_t DevAddr, uint16_t Reg, uint8_t *pData, uint16_t Length)
 241:Core/Src/stm32f4xx_nucleo_bus.c **** {
 242:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 243:Core/Src/stm32f4xx_nucleo_bus.c **** 
 244:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_Mem_Write(&hi2c1, DevAddr, Reg, I2C_MEMADD_SIZE_16BIT, pData, Length, BUS_I2C1_POLL_T
 245:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 246:Core/Src/stm32f4xx_nucleo_bus.c ****     if (HAL_I2C_GetError(&hi2c1) == HAL_I2C_ERROR_AF)
 247:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 248:Core/Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_BUS_ACKNOWLEDGE_FAILURE;
 249:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 250:Core/Src/stm32f4xx_nucleo_bus.c ****     else
 251:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 252:Core/Src/stm32f4xx_nucleo_bus.c ****       ret =  BSP_ERROR_PERIPH_FAILURE;
 253:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 254:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 255:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 256:Core/Src/stm32f4xx_nucleo_bus.c **** }
 257:Core/Src/stm32f4xx_nucleo_bus.c **** 
 258:Core/Src/stm32f4xx_nucleo_bus.c **** /**
ARM GAS  C:\Temp\ccZhLyxh.s 			page 6


 259:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Read registers through a bus (16 bits)
 260:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  DevAddr: Device address on BUS
 261:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Reg: The target register address to read
 262:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Length Data Length
 263:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 264:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 265:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t  BSP_I2C1_ReadReg16(uint16_t DevAddr, uint16_t Reg, uint8_t *pData, uint16_t Length)
 266:Core/Src/stm32f4xx_nucleo_bus.c **** {
 267:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 268:Core/Src/stm32f4xx_nucleo_bus.c **** 
 269:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_Mem_Read(&hi2c1, DevAddr, Reg, I2C_MEMADD_SIZE_16BIT, pData, Length, BUS_I2C1_POLL_TI
 270:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 271:Core/Src/stm32f4xx_nucleo_bus.c ****     if (HAL_I2C_GetError(&hi2c1) != HAL_I2C_ERROR_AF)
 272:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 273:Core/Src/stm32f4xx_nucleo_bus.c ****       ret =  BSP_ERROR_BUS_ACKNOWLEDGE_FAILURE;
 274:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 275:Core/Src/stm32f4xx_nucleo_bus.c ****     else
 276:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 277:Core/Src/stm32f4xx_nucleo_bus.c ****       ret =  BSP_ERROR_PERIPH_FAILURE;
 278:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 279:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 280:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 281:Core/Src/stm32f4xx_nucleo_bus.c **** }
 282:Core/Src/stm32f4xx_nucleo_bus.c **** 
 283:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 284:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Send an amount width data through bus (Simplex)
 285:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  DevAddr: Device address on Bus.
 286:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  pData: Data pointer
 287:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Length: Data length
 288:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 289:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 290:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_I2C1_Send(uint16_t DevAddr, uint8_t *pData, uint16_t Length) {
 291:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 292:Core/Src/stm32f4xx_nucleo_bus.c **** 
 293:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_Master_Transmit(&hi2c1, DevAddr, pData, Length, BUS_I2C1_POLL_TIMEOUT) != HAL_OK)
 294:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 295:Core/Src/stm32f4xx_nucleo_bus.c ****     if (HAL_I2C_GetError(&hi2c1) != HAL_I2C_ERROR_AF)
 296:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 297:Core/Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_BUS_ACKNOWLEDGE_FAILURE;
 298:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 299:Core/Src/stm32f4xx_nucleo_bus.c ****     else
 300:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 301:Core/Src/stm32f4xx_nucleo_bus.c ****       ret =  BSP_ERROR_PERIPH_FAILURE;
 302:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 303:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 304:Core/Src/stm32f4xx_nucleo_bus.c **** 
 305:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 306:Core/Src/stm32f4xx_nucleo_bus.c **** }
 307:Core/Src/stm32f4xx_nucleo_bus.c **** 
 308:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 309:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Receive an amount of data through a bus (Simplex)
 310:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  DevAddr: Device address on Bus.
 311:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  pData: Data pointer
 312:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Length: Data length
 313:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 314:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 315:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_I2C1_Recv(uint16_t DevAddr, uint8_t *pData, uint16_t Length) {
ARM GAS  C:\Temp\ccZhLyxh.s 			page 7


 316:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 317:Core/Src/stm32f4xx_nucleo_bus.c **** 
 318:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_Master_Receive(&hi2c1, DevAddr, pData, Length, BUS_I2C1_POLL_TIMEOUT) != HAL_OK)
 319:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 320:Core/Src/stm32f4xx_nucleo_bus.c ****     if (HAL_I2C_GetError(&hi2c1) != HAL_I2C_ERROR_AF)
 321:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 322:Core/Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_BUS_ACKNOWLEDGE_FAILURE;
 323:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 324:Core/Src/stm32f4xx_nucleo_bus.c ****     else
 325:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 326:Core/Src/stm32f4xx_nucleo_bus.c ****       ret =  BSP_ERROR_PERIPH_FAILURE;
 327:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 328:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 329:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 330:Core/Src/stm32f4xx_nucleo_bus.c **** }
 331:Core/Src/stm32f4xx_nucleo_bus.c **** 
 332:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 333:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Write Data through I2C BUS with DMA.
 334:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  pData: Pointer to data buffer to send
 335:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Length: Length of data in byte
 336:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 337:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 338:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_I2C1_Send_DMA(uint16_t DevAddr, uint8_t *pData, uint16_t Length)
 339:Core/Src/stm32f4xx_nucleo_bus.c **** {
 340:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 341:Core/Src/stm32f4xx_nucleo_bus.c **** 
 342:Core/Src/stm32f4xx_nucleo_bus.c ****   if(HAL_I2C_Master_Transmit_DMA(&hi2c1, DevAddr, pData, Length) != HAL_OK)
 343:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 344:Core/Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_UNKNOWN_FAILURE;
 345:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 346:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 347:Core/Src/stm32f4xx_nucleo_bus.c **** }
 348:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 349:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Receive Data from I2C BUS with DMA
 350:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  pData: Pointer to data buffer to receive
 351:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param  Length: Length of data in byte
 352:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 353:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 354:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t  BSP_I2C1_Recv_DMA(uint16_t DevAddr, uint8_t *pData, uint16_t Length)
 355:Core/Src/stm32f4xx_nucleo_bus.c **** {
 356:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 357:Core/Src/stm32f4xx_nucleo_bus.c **** 
 358:Core/Src/stm32f4xx_nucleo_bus.c ****   if(HAL_I2C_Master_Receive_DMA(&hi2c1, DevAddr, pData, Length) != HAL_OK)
 359:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 360:Core/Src/stm32f4xx_nucleo_bus.c ****       ret = BSP_ERROR_UNKNOWN_FAILURE;
 361:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 362:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 363:Core/Src/stm32f4xx_nucleo_bus.c **** }
 364:Core/Src/stm32f4xx_nucleo_bus.c **** 
 365:Core/Src/stm32f4xx_nucleo_bus.c **** #if (USE_HAL_I2C_REGISTER_CALLBACKS == 1U)
 366:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 367:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief Register Default BSP I2C1 Bus Msp Callbacks
 368:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 369:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 370:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_I2C1_RegisterDefaultMspCallbacks (void)
 371:Core/Src/stm32f4xx_nucleo_bus.c **** {
 372:Core/Src/stm32f4xx_nucleo_bus.c **** 
ARM GAS  C:\Temp\ccZhLyxh.s 			page 8


 373:Core/Src/stm32f4xx_nucleo_bus.c ****   __HAL_I2C_RESET_HANDLE_STATE(&hi2c1);
 374:Core/Src/stm32f4xx_nucleo_bus.c **** 
 375:Core/Src/stm32f4xx_nucleo_bus.c ****   /* Register MspInit Callback */
 376:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_RegisterCallback(&hi2c1, HAL_I2C_MSPINIT_CB_ID, I2C1_MspInit)  != HAL_OK)
 377:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 378:Core/Src/stm32f4xx_nucleo_bus.c ****     return BSP_ERROR_PERIPH_FAILURE;
 379:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 380:Core/Src/stm32f4xx_nucleo_bus.c **** 
 381:Core/Src/stm32f4xx_nucleo_bus.c ****   /* Register MspDeInit Callback */
 382:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_RegisterCallback(&hi2c1, HAL_I2C_MSPDEINIT_CB_ID, I2C1_MspDeInit) != HAL_OK)
 383:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 384:Core/Src/stm32f4xx_nucleo_bus.c ****     return BSP_ERROR_PERIPH_FAILURE;
 385:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 386:Core/Src/stm32f4xx_nucleo_bus.c ****   IsI2C1MspCbValid = 1;
 387:Core/Src/stm32f4xx_nucleo_bus.c **** 
 388:Core/Src/stm32f4xx_nucleo_bus.c ****   return BSP_ERROR_NONE;
 389:Core/Src/stm32f4xx_nucleo_bus.c **** }
 390:Core/Src/stm32f4xx_nucleo_bus.c **** 
 391:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 392:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief BSP I2C1 Bus Msp Callback registering
 393:Core/Src/stm32f4xx_nucleo_bus.c ****   * @param Callbacks     pointer to I2C1 MspInit/MspDeInit callback functions
 394:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval BSP status
 395:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 396:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_I2C1_RegisterMspCallbacks (BSP_I2C_Cb_t *Callbacks)
 397:Core/Src/stm32f4xx_nucleo_bus.c **** {
 398:Core/Src/stm32f4xx_nucleo_bus.c ****   /* Prevent unused argument(s) compilation warning */
 399:Core/Src/stm32f4xx_nucleo_bus.c ****   __HAL_I2C_RESET_HANDLE_STATE(&hi2c1);
 400:Core/Src/stm32f4xx_nucleo_bus.c **** 
 401:Core/Src/stm32f4xx_nucleo_bus.c ****    /* Register MspInit Callback */
 402:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_RegisterCallback(&hi2c1, HAL_I2C_MSPINIT_CB_ID, Callbacks->pMspInitCb)  != HAL_OK)
 403:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 404:Core/Src/stm32f4xx_nucleo_bus.c ****     return BSP_ERROR_PERIPH_FAILURE;
 405:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 406:Core/Src/stm32f4xx_nucleo_bus.c **** 
 407:Core/Src/stm32f4xx_nucleo_bus.c ****   /* Register MspDeInit Callback */
 408:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_RegisterCallback(&hi2c1, HAL_I2C_MSPDEINIT_CB_ID, Callbacks->pMspDeInitCb) != HAL_OK)
 409:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 410:Core/Src/stm32f4xx_nucleo_bus.c ****     return BSP_ERROR_PERIPH_FAILURE;
 411:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 412:Core/Src/stm32f4xx_nucleo_bus.c **** 
 413:Core/Src/stm32f4xx_nucleo_bus.c ****   IsI2C1MspCbValid = 1;
 414:Core/Src/stm32f4xx_nucleo_bus.c **** 
 415:Core/Src/stm32f4xx_nucleo_bus.c ****   return BSP_ERROR_NONE;
 416:Core/Src/stm32f4xx_nucleo_bus.c **** }
 417:Core/Src/stm32f4xx_nucleo_bus.c **** #endif /* USE_HAL_I2C_REGISTER_CALLBACKS */
 418:Core/Src/stm32f4xx_nucleo_bus.c **** 
 419:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 420:Core/Src/stm32f4xx_nucleo_bus.c ****   * @brief  Return system tick in ms
 421:Core/Src/stm32f4xx_nucleo_bus.c ****   * @retval Current HAL time base time stamp
 422:Core/Src/stm32f4xx_nucleo_bus.c ****   */
 423:Core/Src/stm32f4xx_nucleo_bus.c **** int32_t BSP_GetTick(void) {
 424:Core/Src/stm32f4xx_nucleo_bus.c ****   return HAL_GetTick();
 425:Core/Src/stm32f4xx_nucleo_bus.c **** }
 426:Core/Src/stm32f4xx_nucleo_bus.c **** 
 427:Core/Src/stm32f4xx_nucleo_bus.c **** /* I2C1 init function */
 428:Core/Src/stm32f4xx_nucleo_bus.c **** 
 429:Core/Src/stm32f4xx_nucleo_bus.c **** __weak HAL_StatusTypeDef MX_I2C1_Init(I2C_HandleTypeDef* hi2c)
ARM GAS  C:\Temp\ccZhLyxh.s 			page 9


 430:Core/Src/stm32f4xx_nucleo_bus.c **** {
 431:Core/Src/stm32f4xx_nucleo_bus.c ****   HAL_StatusTypeDef ret = HAL_OK;
 432:Core/Src/stm32f4xx_nucleo_bus.c **** 
 433:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Instance = I2C1;
 434:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.ClockSpeed = 400000;
 435:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.DutyCycle = I2C_DUTYCYCLE_2;
 436:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.OwnAddress1 = 0;
 437:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 438:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 439:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.OwnAddress2 = 0;
 440:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 441:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 442:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_Init(hi2c) != HAL_OK)
 443:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 444:Core/Src/stm32f4xx_nucleo_bus.c ****     ret = HAL_ERROR;
 445:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 446:Core/Src/stm32f4xx_nucleo_bus.c **** 
 447:Core/Src/stm32f4xx_nucleo_bus.c ****   return ret;
 448:Core/Src/stm32f4xx_nucleo_bus.c **** }
 449:Core/Src/stm32f4xx_nucleo_bus.c **** DMA_HandleTypeDef hdma_i2c1_rx;
 450:Core/Src/stm32f4xx_nucleo_bus.c **** DMA_HandleTypeDef hdma_i2c1_tx;
 451:Core/Src/stm32f4xx_nucleo_bus.c **** 
 452:Core/Src/stm32f4xx_nucleo_bus.c **** static void I2C1_MspInit(I2C_HandleTypeDef* i2cHandle)
 453:Core/Src/stm32f4xx_nucleo_bus.c **** {
  29              		.loc 1 453 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 32
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 453 1 is_stmt 0 view .LVU1
  34 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
  35              		.cfi_def_cfa_offset 32
  36              		.cfi_offset 4, -32
  37              		.cfi_offset 5, -28
  38              		.cfi_offset 6, -24
  39              		.cfi_offset 7, -20
  40              		.cfi_offset 8, -16
  41              		.cfi_offset 9, -12
  42              		.cfi_offset 10, -8
  43              		.cfi_offset 14, -4
  44 0004 88B0     		sub	sp, sp, #32
  45              		.cfi_def_cfa_offset 64
  46 0006 0646     		mov	r6, r0
 454:Core/Src/stm32f4xx_nucleo_bus.c ****   GPIO_InitTypeDef GPIO_InitStruct;
  47              		.loc 1 454 3 is_stmt 1 view .LVU2
 455:Core/Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE BEGIN I2C1_MspInit 0 */
 456:Core/Src/stm32f4xx_nucleo_bus.c **** 
 457:Core/Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE END I2C1_MspInit 0 */
 458:Core/Src/stm32f4xx_nucleo_bus.c **** 
 459:Core/Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_GPIOB_CLK_ENABLE();
  48              		.loc 1 459 5 view .LVU3
  49              	.LBB2:
  50              		.loc 1 459 5 view .LVU4
  51 0008 0024     		movs	r4, #0
  52 000a 0194     		str	r4, [sp, #4]
  53              		.loc 1 459 5 view .LVU5
  54 000c 304D     		ldr	r5, .L3
  55 000e 2B6B     		ldr	r3, [r5, #48]
ARM GAS  C:\Temp\ccZhLyxh.s 			page 10


  56 0010 43F00203 		orr	r3, r3, #2
  57 0014 2B63     		str	r3, [r5, #48]
  58              		.loc 1 459 5 view .LVU6
  59 0016 2B6B     		ldr	r3, [r5, #48]
  60 0018 03F00203 		and	r3, r3, #2
  61 001c 0193     		str	r3, [sp, #4]
  62              		.loc 1 459 5 view .LVU7
  63 001e 019B     		ldr	r3, [sp, #4]
  64              	.LBE2:
  65              		.loc 1 459 5 view .LVU8
 460:Core/Src/stm32f4xx_nucleo_bus.c ****     /**I2C1 GPIO Configuration
 461:Core/Src/stm32f4xx_nucleo_bus.c ****     PB8     ------> I2C1_SCL
 462:Core/Src/stm32f4xx_nucleo_bus.c ****     PB9     ------> I2C1_SDA
 463:Core/Src/stm32f4xx_nucleo_bus.c ****     */
 464:Core/Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pin = BUS_I2C1_SCL_GPIO_PIN;
  66              		.loc 1 464 5 view .LVU9
  67              		.loc 1 464 25 is_stmt 0 view .LVU10
  68 0020 4FF48073 		mov	r3, #256
  69 0024 0393     		str	r3, [sp, #12]
 465:Core/Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;
  70              		.loc 1 465 5 is_stmt 1 view .LVU11
  71              		.loc 1 465 26 is_stmt 0 view .LVU12
  72 0026 4FF0120A 		mov	r10, #18
  73 002a CDF810A0 		str	r10, [sp, #16]
 466:Core/Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
  74              		.loc 1 466 5 is_stmt 1 view .LVU13
  75              		.loc 1 466 26 is_stmt 0 view .LVU14
  76 002e 0594     		str	r4, [sp, #20]
 467:Core/Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
  77              		.loc 1 467 5 is_stmt 1 view .LVU15
  78              		.loc 1 467 27 is_stmt 0 view .LVU16
  79 0030 4FF00309 		mov	r9, #3
  80 0034 CDF81890 		str	r9, [sp, #24]
 468:Core/Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Alternate = BUS_I2C1_SCL_GPIO_AF;
  81              		.loc 1 468 5 is_stmt 1 view .LVU17
  82              		.loc 1 468 31 is_stmt 0 view .LVU18
  83 0038 4FF00408 		mov	r8, #4
  84 003c CDF81C80 		str	r8, [sp, #28]
 469:Core/Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_Init(BUS_I2C1_SCL_GPIO_PORT, &GPIO_InitStruct);
  85              		.loc 1 469 5 is_stmt 1 view .LVU19
  86 0040 244F     		ldr	r7, .L3+4
  87 0042 03A9     		add	r1, sp, #12
  88 0044 3846     		mov	r0, r7
  89              	.LVL1:
  90              		.loc 1 469 5 is_stmt 0 view .LVU20
  91 0046 FFF7FEFF 		bl	HAL_GPIO_Init
  92              	.LVL2:
 470:Core/Src/stm32f4xx_nucleo_bus.c **** 
 471:Core/Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pin = BUS_I2C1_SDA_GPIO_PIN;
  93              		.loc 1 471 5 is_stmt 1 view .LVU21
  94              		.loc 1 471 25 is_stmt 0 view .LVU22
  95 004a 4FF40073 		mov	r3, #512
  96 004e 0393     		str	r3, [sp, #12]
 472:Core/Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_OD;
  97              		.loc 1 472 5 is_stmt 1 view .LVU23
  98              		.loc 1 472 26 is_stmt 0 view .LVU24
  99 0050 CDF810A0 		str	r10, [sp, #16]
ARM GAS  C:\Temp\ccZhLyxh.s 			page 11


 473:Core/Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 100              		.loc 1 473 5 is_stmt 1 view .LVU25
 101              		.loc 1 473 26 is_stmt 0 view .LVU26
 102 0054 0594     		str	r4, [sp, #20]
 474:Core/Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
 103              		.loc 1 474 5 is_stmt 1 view .LVU27
 104              		.loc 1 474 27 is_stmt 0 view .LVU28
 105 0056 CDF81890 		str	r9, [sp, #24]
 475:Core/Src/stm32f4xx_nucleo_bus.c ****     GPIO_InitStruct.Alternate = BUS_I2C1_SDA_GPIO_AF;
 106              		.loc 1 475 5 is_stmt 1 view .LVU29
 107              		.loc 1 475 31 is_stmt 0 view .LVU30
 108 005a CDF81C80 		str	r8, [sp, #28]
 476:Core/Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_Init(BUS_I2C1_SDA_GPIO_PORT, &GPIO_InitStruct);
 109              		.loc 1 476 5 is_stmt 1 view .LVU31
 110 005e 03A9     		add	r1, sp, #12
 111 0060 3846     		mov	r0, r7
 112 0062 FFF7FEFF 		bl	HAL_GPIO_Init
 113              	.LVL3:
 477:Core/Src/stm32f4xx_nucleo_bus.c **** 
 478:Core/Src/stm32f4xx_nucleo_bus.c ****     /* Peripheral clock enable */
 479:Core/Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_I2C1_CLK_ENABLE();
 114              		.loc 1 479 5 view .LVU32
 115              	.LBB3:
 116              		.loc 1 479 5 view .LVU33
 117 0066 0294     		str	r4, [sp, #8]
 118              		.loc 1 479 5 view .LVU34
 119 0068 2B6C     		ldr	r3, [r5, #64]
 120 006a 43F40013 		orr	r3, r3, #2097152
 121 006e 2B64     		str	r3, [r5, #64]
 122              		.loc 1 479 5 view .LVU35
 123 0070 2B6C     		ldr	r3, [r5, #64]
 124 0072 03F40013 		and	r3, r3, #2097152
 125 0076 0293     		str	r3, [sp, #8]
 126              		.loc 1 479 5 view .LVU36
 127 0078 029B     		ldr	r3, [sp, #8]
 128              	.LBE3:
 129              		.loc 1 479 5 view .LVU37
 480:Core/Src/stm32f4xx_nucleo_bus.c **** 
 481:Core/Src/stm32f4xx_nucleo_bus.c ****     /* Peripheral DMA init*/
 482:Core/Src/stm32f4xx_nucleo_bus.c **** 
 483:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_rx.Instance = DMA1_Stream0;
 130              		.loc 1 483 5 view .LVU38
 131              		.loc 1 483 27 is_stmt 0 view .LVU39
 132 007a 174D     		ldr	r5, .L3+8
 133 007c 174B     		ldr	r3, .L3+12
 134 007e 2B60     		str	r3, [r5]
 484:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_rx.Init.Channel = DMA_CHANNEL_1;
 135              		.loc 1 484 5 is_stmt 1 view .LVU40
 136              		.loc 1 484 31 is_stmt 0 view .LVU41
 137 0080 4FF00073 		mov	r3, #33554432
 138 0084 6B60     		str	r3, [r5, #4]
 485:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_rx.Init.Direction = DMA_PERIPH_TO_MEMORY;
 139              		.loc 1 485 5 is_stmt 1 view .LVU42
 140              		.loc 1 485 33 is_stmt 0 view .LVU43
 141 0086 AC60     		str	r4, [r5, #8]
 486:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_rx.Init.PeriphInc = DMA_PINC_DISABLE;
 142              		.loc 1 486 5 is_stmt 1 view .LVU44
ARM GAS  C:\Temp\ccZhLyxh.s 			page 12


 143              		.loc 1 486 33 is_stmt 0 view .LVU45
 144 0088 EC60     		str	r4, [r5, #12]
 487:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_rx.Init.MemInc = DMA_MINC_ENABLE;
 145              		.loc 1 487 5 is_stmt 1 view .LVU46
 146              		.loc 1 487 30 is_stmt 0 view .LVU47
 147 008a 4FF48067 		mov	r7, #1024
 148 008e 2F61     		str	r7, [r5, #16]
 488:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_rx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 149              		.loc 1 488 5 is_stmt 1 view .LVU48
 150              		.loc 1 488 43 is_stmt 0 view .LVU49
 151 0090 6C61     		str	r4, [r5, #20]
 489:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_rx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 152              		.loc 1 489 5 is_stmt 1 view .LVU50
 153              		.loc 1 489 40 is_stmt 0 view .LVU51
 154 0092 AC61     		str	r4, [r5, #24]
 490:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_rx.Init.Mode = DMA_NORMAL;
 155              		.loc 1 490 5 is_stmt 1 view .LVU52
 156              		.loc 1 490 28 is_stmt 0 view .LVU53
 157 0094 EC61     		str	r4, [r5, #28]
 491:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_rx.Init.Priority = DMA_PRIORITY_LOW;
 158              		.loc 1 491 5 is_stmt 1 view .LVU54
 159              		.loc 1 491 32 is_stmt 0 view .LVU55
 160 0096 2C62     		str	r4, [r5, #32]
 492:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_rx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 161              		.loc 1 492 5 is_stmt 1 view .LVU56
 162              		.loc 1 492 32 is_stmt 0 view .LVU57
 163 0098 6C62     		str	r4, [r5, #36]
 493:Core/Src/stm32f4xx_nucleo_bus.c ****     HAL_DMA_Init(&hdma_i2c1_rx);
 164              		.loc 1 493 5 is_stmt 1 view .LVU58
 165 009a 2846     		mov	r0, r5
 166 009c FFF7FEFF 		bl	HAL_DMA_Init
 167              	.LVL4:
 494:Core/Src/stm32f4xx_nucleo_bus.c **** 
 495:Core/Src/stm32f4xx_nucleo_bus.c ****   __HAL_LINKDMA(i2cHandle,hdmarx,hdma_i2c1_rx);
 168              		.loc 1 495 3 view .LVU59
 169              		.loc 1 495 3 view .LVU60
 170 00a0 B563     		str	r5, [r6, #56]
 171              		.loc 1 495 3 view .LVU61
 172 00a2 AE63     		str	r6, [r5, #56]
 173              		.loc 1 495 3 view .LVU62
 496:Core/Src/stm32f4xx_nucleo_bus.c **** 
 497:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_tx.Instance = DMA1_Stream1;
 174              		.loc 1 497 5 view .LVU63
 175              		.loc 1 497 27 is_stmt 0 view .LVU64
 176 00a4 0E4D     		ldr	r5, .L3+16
 177 00a6 0F4B     		ldr	r3, .L3+20
 178 00a8 2B60     		str	r3, [r5]
 498:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_tx.Init.Channel = DMA_CHANNEL_0;
 179              		.loc 1 498 5 is_stmt 1 view .LVU65
 180              		.loc 1 498 31 is_stmt 0 view .LVU66
 181 00aa 6C60     		str	r4, [r5, #4]
 499:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_tx.Init.Direction = DMA_MEMORY_TO_PERIPH;
 182              		.loc 1 499 5 is_stmt 1 view .LVU67
 183              		.loc 1 499 33 is_stmt 0 view .LVU68
 184 00ac 4023     		movs	r3, #64
 185 00ae AB60     		str	r3, [r5, #8]
 500:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_tx.Init.PeriphInc = DMA_PINC_DISABLE;
ARM GAS  C:\Temp\ccZhLyxh.s 			page 13


 186              		.loc 1 500 5 is_stmt 1 view .LVU69
 187              		.loc 1 500 33 is_stmt 0 view .LVU70
 188 00b0 EC60     		str	r4, [r5, #12]
 501:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_tx.Init.MemInc = DMA_MINC_ENABLE;
 189              		.loc 1 501 5 is_stmt 1 view .LVU71
 190              		.loc 1 501 30 is_stmt 0 view .LVU72
 191 00b2 2F61     		str	r7, [r5, #16]
 502:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_tx.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 192              		.loc 1 502 5 is_stmt 1 view .LVU73
 193              		.loc 1 502 43 is_stmt 0 view .LVU74
 194 00b4 6C61     		str	r4, [r5, #20]
 503:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_tx.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 195              		.loc 1 503 5 is_stmt 1 view .LVU75
 196              		.loc 1 503 40 is_stmt 0 view .LVU76
 197 00b6 AC61     		str	r4, [r5, #24]
 504:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_tx.Init.Mode = DMA_NORMAL;
 198              		.loc 1 504 5 is_stmt 1 view .LVU77
 199              		.loc 1 504 28 is_stmt 0 view .LVU78
 200 00b8 EC61     		str	r4, [r5, #28]
 505:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_tx.Init.Priority = DMA_PRIORITY_LOW;
 201              		.loc 1 505 5 is_stmt 1 view .LVU79
 202              		.loc 1 505 32 is_stmt 0 view .LVU80
 203 00ba 2C62     		str	r4, [r5, #32]
 506:Core/Src/stm32f4xx_nucleo_bus.c ****     hdma_i2c1_tx.Init.FIFOMode = DMA_FIFOMODE_DISABLE;
 204              		.loc 1 506 5 is_stmt 1 view .LVU81
 205              		.loc 1 506 32 is_stmt 0 view .LVU82
 206 00bc 6C62     		str	r4, [r5, #36]
 507:Core/Src/stm32f4xx_nucleo_bus.c ****     HAL_DMA_Init(&hdma_i2c1_tx);
 207              		.loc 1 507 5 is_stmt 1 view .LVU83
 208 00be 2846     		mov	r0, r5
 209 00c0 FFF7FEFF 		bl	HAL_DMA_Init
 210              	.LVL5:
 508:Core/Src/stm32f4xx_nucleo_bus.c **** 
 509:Core/Src/stm32f4xx_nucleo_bus.c ****   __HAL_LINKDMA(i2cHandle,hdmatx,hdma_i2c1_tx);
 211              		.loc 1 509 3 view .LVU84
 212              		.loc 1 509 3 view .LVU85
 213 00c4 7563     		str	r5, [r6, #52]
 214              		.loc 1 509 3 view .LVU86
 215 00c6 AE63     		str	r6, [r5, #56]
 216              		.loc 1 509 3 view .LVU87
 510:Core/Src/stm32f4xx_nucleo_bus.c **** 
 511:Core/Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE BEGIN I2C1_MspInit 1 */
 512:Core/Src/stm32f4xx_nucleo_bus.c **** 
 513:Core/Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE END I2C1_MspInit 1 */
 514:Core/Src/stm32f4xx_nucleo_bus.c **** }
 217              		.loc 1 514 1 is_stmt 0 view .LVU88
 218 00c8 08B0     		add	sp, sp, #32
 219              		.cfi_def_cfa_offset 32
 220              		@ sp needed
 221 00ca BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 222              	.LVL6:
 223              	.L4:
 224              		.loc 1 514 1 view .LVU89
 225 00ce 00BF     		.align	2
 226              	.L3:
 227 00d0 00380240 		.word	1073887232
 228 00d4 00040240 		.word	1073873920
ARM GAS  C:\Temp\ccZhLyxh.s 			page 14


 229 00d8 00000000 		.word	hdma_i2c1_rx
 230 00dc 10600240 		.word	1073897488
 231 00e0 00000000 		.word	hdma_i2c1_tx
 232 00e4 28600240 		.word	1073897512
 233              		.cfi_endproc
 234              	.LFE147:
 236              		.section	.text.I2C1_MspDeInit,"ax",%progbits
 237              		.align	1
 238              		.syntax unified
 239              		.thumb
 240              		.thumb_func
 242              	I2C1_MspDeInit:
 243              	.LVL7:
 244              	.LFB148:
 515:Core/Src/stm32f4xx_nucleo_bus.c **** 
 516:Core/Src/stm32f4xx_nucleo_bus.c **** static void I2C1_MspDeInit(I2C_HandleTypeDef* i2cHandle)
 517:Core/Src/stm32f4xx_nucleo_bus.c **** {
 245              		.loc 1 517 1 is_stmt 1 view -0
 246              		.cfi_startproc
 247              		@ args = 0, pretend = 0, frame = 0
 248              		@ frame_needed = 0, uses_anonymous_args = 0
 249              		.loc 1 517 1 is_stmt 0 view .LVU91
 250 0000 38B5     		push	{r3, r4, r5, lr}
 251              		.cfi_def_cfa_offset 16
 252              		.cfi_offset 3, -16
 253              		.cfi_offset 4, -12
 254              		.cfi_offset 5, -8
 255              		.cfi_offset 14, -4
 256 0002 0446     		mov	r4, r0
 518:Core/Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE BEGIN I2C1_MspDeInit 0 */
 519:Core/Src/stm32f4xx_nucleo_bus.c **** 
 520:Core/Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE END I2C1_MspDeInit 0 */
 521:Core/Src/stm32f4xx_nucleo_bus.c ****     /* Peripheral clock disable */
 522:Core/Src/stm32f4xx_nucleo_bus.c ****     __HAL_RCC_I2C1_CLK_DISABLE();
 257              		.loc 1 522 5 is_stmt 1 view .LVU92
 258 0004 0B4A     		ldr	r2, .L7
 259 0006 136C     		ldr	r3, [r2, #64]
 260 0008 23F40013 		bic	r3, r3, #2097152
 261 000c 1364     		str	r3, [r2, #64]
 523:Core/Src/stm32f4xx_nucleo_bus.c **** 
 524:Core/Src/stm32f4xx_nucleo_bus.c ****     /**I2C1 GPIO Configuration
 525:Core/Src/stm32f4xx_nucleo_bus.c ****     PB8     ------> I2C1_SCL
 526:Core/Src/stm32f4xx_nucleo_bus.c ****     PB9     ------> I2C1_SDA
 527:Core/Src/stm32f4xx_nucleo_bus.c ****     */
 528:Core/Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_DeInit(BUS_I2C1_SCL_GPIO_PORT, BUS_I2C1_SCL_GPIO_PIN);
 262              		.loc 1 528 5 view .LVU93
 263 000e 0A4D     		ldr	r5, .L7+4
 264 0010 4FF48071 		mov	r1, #256
 265 0014 2846     		mov	r0, r5
 266              	.LVL8:
 267              		.loc 1 528 5 is_stmt 0 view .LVU94
 268 0016 FFF7FEFF 		bl	HAL_GPIO_DeInit
 269              	.LVL9:
 529:Core/Src/stm32f4xx_nucleo_bus.c **** 
 530:Core/Src/stm32f4xx_nucleo_bus.c ****     HAL_GPIO_DeInit(BUS_I2C1_SDA_GPIO_PORT, BUS_I2C1_SDA_GPIO_PIN);
 270              		.loc 1 530 5 is_stmt 1 view .LVU95
 271 001a 4FF40071 		mov	r1, #512
ARM GAS  C:\Temp\ccZhLyxh.s 			page 15


 272 001e 2846     		mov	r0, r5
 273 0020 FFF7FEFF 		bl	HAL_GPIO_DeInit
 274              	.LVL10:
 531:Core/Src/stm32f4xx_nucleo_bus.c **** 
 532:Core/Src/stm32f4xx_nucleo_bus.c ****     /* Peripheral DMA DeInit*/
 533:Core/Src/stm32f4xx_nucleo_bus.c ****     HAL_DMA_DeInit(i2cHandle->hdmarx);
 275              		.loc 1 533 5 view .LVU96
 276 0024 A06B     		ldr	r0, [r4, #56]
 277 0026 FFF7FEFF 		bl	HAL_DMA_DeInit
 278              	.LVL11:
 534:Core/Src/stm32f4xx_nucleo_bus.c ****     HAL_DMA_DeInit(i2cHandle->hdmatx);
 279              		.loc 1 534 5 view .LVU97
 280 002a 606B     		ldr	r0, [r4, #52]
 281 002c FFF7FEFF 		bl	HAL_DMA_DeInit
 282              	.LVL12:
 535:Core/Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE BEGIN I2C1_MspDeInit 1 */
 536:Core/Src/stm32f4xx_nucleo_bus.c **** 
 537:Core/Src/stm32f4xx_nucleo_bus.c ****   /* USER CODE END I2C1_MspDeInit 1 */
 538:Core/Src/stm32f4xx_nucleo_bus.c **** }
 283              		.loc 1 538 1 is_stmt 0 view .LVU98
 284 0030 38BD     		pop	{r3, r4, r5, pc}
 285              	.LVL13:
 286              	.L8:
 287              		.loc 1 538 1 view .LVU99
 288 0032 00BF     		.align	2
 289              	.L7:
 290 0034 00380240 		.word	1073887232
 291 0038 00040240 		.word	1073873920
 292              		.cfi_endproc
 293              	.LFE148:
 295              		.section	.text.BSP_I2C1_DeInit,"ax",%progbits
 296              		.align	1
 297              		.global	BSP_I2C1_DeInit
 298              		.syntax unified
 299              		.thumb
 300              		.thumb_func
 302              	BSP_I2C1_DeInit:
 303              	.LFB135:
 138:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 304              		.loc 1 138 1 is_stmt 1 view -0
 305              		.cfi_startproc
 306              		@ args = 0, pretend = 0, frame = 0
 307              		@ frame_needed = 0, uses_anonymous_args = 0
 139:Core/Src/stm32f4xx_nucleo_bus.c **** 
 308              		.loc 1 139 3 view .LVU101
 309              	.LVL14:
 141:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 310              		.loc 1 141 3 view .LVU102
 141:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 311              		.loc 1 141 23 is_stmt 0 view .LVU103
 312 0000 0B4B     		ldr	r3, .L19
 313 0002 1B68     		ldr	r3, [r3]
 141:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 314              		.loc 1 141 6 view .LVU104
 315 0004 7BB1     		cbz	r3, .L11
 143:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 316              		.loc 1 143 5 is_stmt 1 view .LVU105
ARM GAS  C:\Temp\ccZhLyxh.s 			page 16


 143:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 317              		.loc 1 143 9 is_stmt 0 view .LVU106
 318 0006 013B     		subs	r3, r3, #1
 143:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 319              		.loc 1 143 8 view .LVU107
 320 0008 094A     		ldr	r2, .L19
 321 000a 1360     		str	r3, [r2]
 322 000c 0BB1     		cbz	r3, .L18
 139:Core/Src/stm32f4xx_nucleo_bus.c **** 
 323              		.loc 1 139 11 view .LVU108
 324 000e 0020     		movs	r0, #0
 157:Core/Src/stm32f4xx_nucleo_bus.c **** 
 325              		.loc 1 157 1 view .LVU109
 326 0010 7047     		bx	lr
 327              	.L18:
 138:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 328              		.loc 1 138 1 view .LVU110
 329 0012 10B5     		push	{r4, lr}
 330              		.cfi_def_cfa_offset 8
 331              		.cfi_offset 4, -8
 332              		.cfi_offset 14, -4
 147:Core/Src/stm32f4xx_nucleo_bus.c ****   #endif
 333              		.loc 1 147 7 is_stmt 1 view .LVU111
 334 0014 074C     		ldr	r4, .L19+4
 335 0016 2046     		mov	r0, r4
 336 0018 FFF7FEFF 		bl	I2C1_MspDeInit
 337              	.LVL15:
 150:Core/Src/stm32f4xx_nucleo_bus.c ****       {
 338              		.loc 1 150 7 view .LVU112
 150:Core/Src/stm32f4xx_nucleo_bus.c ****       {
 339              		.loc 1 150 11 is_stmt 0 view .LVU113
 340 001c 2046     		mov	r0, r4
 341 001e FFF7FEFF 		bl	HAL_I2C_DeInit
 342              	.LVL16:
 150:Core/Src/stm32f4xx_nucleo_bus.c ****       {
 343              		.loc 1 150 10 view .LVU114
 344 0022 10B9     		cbnz	r0, .L13
 345              	.LVL17:
 346              	.L9:
 157:Core/Src/stm32f4xx_nucleo_bus.c **** 
 347              		.loc 1 157 1 view .LVU115
 348 0024 10BD     		pop	{r4, pc}
 349              	.LVL18:
 350              	.L11:
 351              		.cfi_def_cfa_offset 0
 352              		.cfi_restore 4
 353              		.cfi_restore 14
 139:Core/Src/stm32f4xx_nucleo_bus.c **** 
 354              		.loc 1 139 11 view .LVU116
 355 0026 0020     		movs	r0, #0
 356 0028 7047     		bx	lr
 357              	.L13:
 358              		.cfi_def_cfa_offset 8
 359              		.cfi_offset 4, -8
 360              		.cfi_offset 14, -4
 152:Core/Src/stm32f4xx_nucleo_bus.c ****       }
 361              		.loc 1 152 13 view .LVU117
ARM GAS  C:\Temp\ccZhLyxh.s 			page 17


 362 002a 6FF00700 		mvn	r0, #7
 363              	.LVL19:
 156:Core/Src/stm32f4xx_nucleo_bus.c **** }
 364              		.loc 1 156 3 is_stmt 1 view .LVU118
 156:Core/Src/stm32f4xx_nucleo_bus.c **** }
 365              		.loc 1 156 10 is_stmt 0 view .LVU119
 366 002e F9E7     		b	.L9
 367              	.L20:
 368              		.align	2
 369              	.L19:
 370 0030 00000000 		.word	I2C1InitCounter
 371 0034 00000000 		.word	hi2c1
 372              		.cfi_endproc
 373              	.LFE135:
 375              		.section	.text.BSP_I2C1_IsReady,"ax",%progbits
 376              		.align	1
 377              		.global	BSP_I2C1_IsReady
 378              		.syntax unified
 379              		.thumb
 380              		.thumb_func
 382              	BSP_I2C1_IsReady:
 383              	.LVL20:
 384              	.LFB136:
 166:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 385              		.loc 1 166 1 is_stmt 1 view -0
 386              		.cfi_startproc
 387              		@ args = 0, pretend = 0, frame = 0
 388              		@ frame_needed = 0, uses_anonymous_args = 0
 166:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 389              		.loc 1 166 1 is_stmt 0 view .LVU121
 390 0000 08B5     		push	{r3, lr}
 391              		.cfi_def_cfa_offset 8
 392              		.cfi_offset 3, -8
 393              		.cfi_offset 14, -4
 394 0002 0A46     		mov	r2, r1
 167:Core/Src/stm32f4xx_nucleo_bus.c **** 
 395              		.loc 1 167 3 is_stmt 1 view .LVU122
 396              	.LVL21:
 169:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 397              		.loc 1 169 3 view .LVU123
 169:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 398              		.loc 1 169 7 is_stmt 0 view .LVU124
 399 0004 1023     		movs	r3, #16
 400 0006 0146     		mov	r1, r0
 401              	.LVL22:
 169:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 402              		.loc 1 169 7 view .LVU125
 403 0008 0348     		ldr	r0, .L26
 404              	.LVL23:
 169:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 405              		.loc 1 169 7 view .LVU126
 406 000a FFF7FEFF 		bl	HAL_I2C_IsDeviceReady
 407              	.LVL24:
 169:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 408              		.loc 1 169 6 view .LVU127
 409 000e 00B9     		cbnz	r0, .L25
 410              	.LVL25:
ARM GAS  C:\Temp\ccZhLyxh.s 			page 18


 411              	.L21:
 175:Core/Src/stm32f4xx_nucleo_bus.c **** 
 412              		.loc 1 175 1 view .LVU128
 413 0010 08BD     		pop	{r3, pc}
 414              	.LVL26:
 415              	.L25:
 171:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 416              		.loc 1 171 9 view .LVU129
 417 0012 6FF00200 		mvn	r0, #2
 418              	.LVL27:
 174:Core/Src/stm32f4xx_nucleo_bus.c **** }
 419              		.loc 1 174 3 is_stmt 1 view .LVU130
 174:Core/Src/stm32f4xx_nucleo_bus.c **** }
 420              		.loc 1 174 10 is_stmt 0 view .LVU131
 421 0016 FBE7     		b	.L21
 422              	.L27:
 423              		.align	2
 424              	.L26:
 425 0018 00000000 		.word	hi2c1
 426              		.cfi_endproc
 427              	.LFE136:
 429              		.section	.text.BSP_I2C1_WriteReg,"ax",%progbits
 430              		.align	1
 431              		.global	BSP_I2C1_WriteReg
 432              		.syntax unified
 433              		.thumb
 434              		.thumb_func
 436              	BSP_I2C1_WriteReg:
 437              	.LVL28:
 438              	.LFB137:
 187:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 439              		.loc 1 187 1 is_stmt 1 view -0
 440              		.cfi_startproc
 441              		@ args = 0, pretend = 0, frame = 0
 442              		@ frame_needed = 0, uses_anonymous_args = 0
 187:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 443              		.loc 1 187 1 is_stmt 0 view .LVU133
 444 0000 10B5     		push	{r4, lr}
 445              		.cfi_def_cfa_offset 8
 446              		.cfi_offset 4, -8
 447              		.cfi_offset 14, -4
 448 0002 84B0     		sub	sp, sp, #16
 449              		.cfi_def_cfa_offset 24
 188:Core/Src/stm32f4xx_nucleo_bus.c **** 
 450              		.loc 1 188 3 is_stmt 1 view .LVU134
 451              	.LVL29:
 190:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 452              		.loc 1 190 3 view .LVU135
 190:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 453              		.loc 1 190 7 is_stmt 0 view .LVU136
 454 0004 1024     		movs	r4, #16
 455 0006 0294     		str	r4, [sp, #8]
 456 0008 0193     		str	r3, [sp, #4]
 457 000a 0092     		str	r2, [sp]
 458 000c 0123     		movs	r3, #1
 459              	.LVL30:
 190:Core/Src/stm32f4xx_nucleo_bus.c ****   {
ARM GAS  C:\Temp\ccZhLyxh.s 			page 19


 460              		.loc 1 190 7 view .LVU137
 461 000e 0A46     		mov	r2, r1
 462              	.LVL31:
 190:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 463              		.loc 1 190 7 view .LVU138
 464 0010 0146     		mov	r1, r0
 465              	.LVL32:
 190:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 466              		.loc 1 190 7 view .LVU139
 467 0012 0948     		ldr	r0, .L35
 468              	.LVL33:
 190:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 469              		.loc 1 190 7 view .LVU140
 470 0014 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 471              	.LVL34:
 190:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 472              		.loc 1 190 6 view .LVU141
 473 0018 10B9     		cbnz	r0, .L33
 188:Core/Src/stm32f4xx_nucleo_bus.c **** 
 474              		.loc 1 188 11 view .LVU142
 475 001a 0020     		movs	r0, #0
 476              	.LVL35:
 477              	.L28:
 202:Core/Src/stm32f4xx_nucleo_bus.c **** 
 478              		.loc 1 202 1 view .LVU143
 479 001c 04B0     		add	sp, sp, #16
 480              		.cfi_remember_state
 481              		.cfi_def_cfa_offset 8
 482              		@ sp needed
 483 001e 10BD     		pop	{r4, pc}
 484              	.LVL36:
 485              	.L33:
 486              		.cfi_restore_state
 192:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 487              		.loc 1 192 5 is_stmt 1 view .LVU144
 192:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 488              		.loc 1 192 9 is_stmt 0 view .LVU145
 489 0020 0548     		ldr	r0, .L35
 490 0022 FFF7FEFF 		bl	HAL_I2C_GetError
 491              	.LVL37:
 192:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 492              		.loc 1 192 8 view .LVU146
 493 0026 0428     		cmp	r0, #4
 494 0028 02D0     		beq	.L34
 198:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 495              		.loc 1 198 11 view .LVU147
 496 002a 6FF00300 		mvn	r0, #3
 497              	.LVL38:
 201:Core/Src/stm32f4xx_nucleo_bus.c **** }
 498              		.loc 1 201 3 is_stmt 1 view .LVU148
 201:Core/Src/stm32f4xx_nucleo_bus.c **** }
 499              		.loc 1 201 10 is_stmt 0 view .LVU149
 500 002e F5E7     		b	.L28
 501              	.LVL39:
 502              	.L34:
 194:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 503              		.loc 1 194 11 view .LVU150
ARM GAS  C:\Temp\ccZhLyxh.s 			page 20


 504 0030 6FF06500 		mvn	r0, #101
 505 0034 F2E7     		b	.L28
 506              	.L36:
 507 0036 00BF     		.align	2
 508              	.L35:
 509 0038 00000000 		.word	hi2c1
 510              		.cfi_endproc
 511              	.LFE137:
 513              		.section	.text.BSP_I2C1_ReadReg,"ax",%progbits
 514              		.align	1
 515              		.global	BSP_I2C1_ReadReg
 516              		.syntax unified
 517              		.thumb
 518              		.thumb_func
 520              	BSP_I2C1_ReadReg:
 521              	.LVL40:
 522              	.LFB138:
 213:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 523              		.loc 1 213 1 is_stmt 1 view -0
 524              		.cfi_startproc
 525              		@ args = 0, pretend = 0, frame = 0
 526              		@ frame_needed = 0, uses_anonymous_args = 0
 213:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 527              		.loc 1 213 1 is_stmt 0 view .LVU152
 528 0000 10B5     		push	{r4, lr}
 529              		.cfi_def_cfa_offset 8
 530              		.cfi_offset 4, -8
 531              		.cfi_offset 14, -4
 532 0002 84B0     		sub	sp, sp, #16
 533              		.cfi_def_cfa_offset 24
 214:Core/Src/stm32f4xx_nucleo_bus.c **** 
 534              		.loc 1 214 3 is_stmt 1 view .LVU153
 535              	.LVL41:
 216:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 536              		.loc 1 216 3 view .LVU154
 216:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 537              		.loc 1 216 7 is_stmt 0 view .LVU155
 538 0004 1024     		movs	r4, #16
 539 0006 0294     		str	r4, [sp, #8]
 540 0008 0193     		str	r3, [sp, #4]
 541 000a 0092     		str	r2, [sp]
 542 000c 0123     		movs	r3, #1
 543              	.LVL42:
 216:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 544              		.loc 1 216 7 view .LVU156
 545 000e 0A46     		mov	r2, r1
 546              	.LVL43:
 216:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 547              		.loc 1 216 7 view .LVU157
 548 0010 0146     		mov	r1, r0
 549              	.LVL44:
 216:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 550              		.loc 1 216 7 view .LVU158
 551 0012 0948     		ldr	r0, .L44
 552              	.LVL45:
 216:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 553              		.loc 1 216 7 view .LVU159
ARM GAS  C:\Temp\ccZhLyxh.s 			page 21


 554 0014 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 555              	.LVL46:
 216:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 556              		.loc 1 216 6 view .LVU160
 557 0018 10B9     		cbnz	r0, .L42
 214:Core/Src/stm32f4xx_nucleo_bus.c **** 
 558              		.loc 1 214 11 view .LVU161
 559 001a 0020     		movs	r0, #0
 560              	.LVL47:
 561              	.L37:
 228:Core/Src/stm32f4xx_nucleo_bus.c **** 
 562              		.loc 1 228 1 view .LVU162
 563 001c 04B0     		add	sp, sp, #16
 564              		.cfi_remember_state
 565              		.cfi_def_cfa_offset 8
 566              		@ sp needed
 567 001e 10BD     		pop	{r4, pc}
 568              	.LVL48:
 569              	.L42:
 570              		.cfi_restore_state
 218:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 571              		.loc 1 218 5 is_stmt 1 view .LVU163
 218:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 572              		.loc 1 218 9 is_stmt 0 view .LVU164
 573 0020 0548     		ldr	r0, .L44
 574 0022 FFF7FEFF 		bl	HAL_I2C_GetError
 575              	.LVL49:
 218:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 576              		.loc 1 218 8 view .LVU165
 577 0026 0428     		cmp	r0, #4
 578 0028 02D0     		beq	.L43
 224:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 579              		.loc 1 224 11 view .LVU166
 580 002a 6FF00300 		mvn	r0, #3
 581              	.LVL50:
 227:Core/Src/stm32f4xx_nucleo_bus.c **** }
 582              		.loc 1 227 3 is_stmt 1 view .LVU167
 227:Core/Src/stm32f4xx_nucleo_bus.c **** }
 583              		.loc 1 227 10 is_stmt 0 view .LVU168
 584 002e F5E7     		b	.L37
 585              	.LVL51:
 586              	.L43:
 220:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 587              		.loc 1 220 11 view .LVU169
 588 0030 6FF06500 		mvn	r0, #101
 589 0034 F2E7     		b	.L37
 590              	.L45:
 591 0036 00BF     		.align	2
 592              	.L44:
 593 0038 00000000 		.word	hi2c1
 594              		.cfi_endproc
 595              	.LFE138:
 597              		.section	.text.BSP_I2C1_WriteReg16,"ax",%progbits
 598              		.align	1
 599              		.global	BSP_I2C1_WriteReg16
 600              		.syntax unified
 601              		.thumb
ARM GAS  C:\Temp\ccZhLyxh.s 			page 22


 602              		.thumb_func
 604              	BSP_I2C1_WriteReg16:
 605              	.LVL52:
 606              	.LFB139:
 241:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 607              		.loc 1 241 1 is_stmt 1 view -0
 608              		.cfi_startproc
 609              		@ args = 0, pretend = 0, frame = 0
 610              		@ frame_needed = 0, uses_anonymous_args = 0
 241:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 611              		.loc 1 241 1 is_stmt 0 view .LVU171
 612 0000 10B5     		push	{r4, lr}
 613              		.cfi_def_cfa_offset 8
 614              		.cfi_offset 4, -8
 615              		.cfi_offset 14, -4
 616 0002 84B0     		sub	sp, sp, #16
 617              		.cfi_def_cfa_offset 24
 618 0004 1C46     		mov	r4, r3
 242:Core/Src/stm32f4xx_nucleo_bus.c **** 
 619              		.loc 1 242 3 is_stmt 1 view .LVU172
 620              	.LVL53:
 244:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 621              		.loc 1 244 3 view .LVU173
 244:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 622              		.loc 1 244 7 is_stmt 0 view .LVU174
 623 0006 1023     		movs	r3, #16
 624              	.LVL54:
 244:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 625              		.loc 1 244 7 view .LVU175
 626 0008 0293     		str	r3, [sp, #8]
 627 000a 0194     		str	r4, [sp, #4]
 628 000c 0092     		str	r2, [sp]
 629 000e 0A46     		mov	r2, r1
 630              	.LVL55:
 244:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 631              		.loc 1 244 7 view .LVU176
 632 0010 0146     		mov	r1, r0
 633              	.LVL56:
 244:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 634              		.loc 1 244 7 view .LVU177
 635 0012 0948     		ldr	r0, .L53
 636              	.LVL57:
 244:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 637              		.loc 1 244 7 view .LVU178
 638 0014 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 639              	.LVL58:
 244:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 640              		.loc 1 244 6 view .LVU179
 641 0018 10B9     		cbnz	r0, .L51
 242:Core/Src/stm32f4xx_nucleo_bus.c **** 
 642              		.loc 1 242 11 view .LVU180
 643 001a 0020     		movs	r0, #0
 644              	.LVL59:
 645              	.L46:
 256:Core/Src/stm32f4xx_nucleo_bus.c **** 
 646              		.loc 1 256 1 view .LVU181
 647 001c 04B0     		add	sp, sp, #16
ARM GAS  C:\Temp\ccZhLyxh.s 			page 23


 648              		.cfi_remember_state
 649              		.cfi_def_cfa_offset 8
 650              		@ sp needed
 651 001e 10BD     		pop	{r4, pc}
 652              	.LVL60:
 653              	.L51:
 654              		.cfi_restore_state
 246:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 655              		.loc 1 246 5 is_stmt 1 view .LVU182
 246:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 656              		.loc 1 246 9 is_stmt 0 view .LVU183
 657 0020 0548     		ldr	r0, .L53
 658 0022 FFF7FEFF 		bl	HAL_I2C_GetError
 659              	.LVL61:
 246:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 660              		.loc 1 246 8 view .LVU184
 661 0026 0428     		cmp	r0, #4
 662 0028 02D0     		beq	.L52
 252:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 663              		.loc 1 252 11 view .LVU185
 664 002a 6FF00300 		mvn	r0, #3
 665              	.LVL62:
 255:Core/Src/stm32f4xx_nucleo_bus.c **** }
 666              		.loc 1 255 3 is_stmt 1 view .LVU186
 255:Core/Src/stm32f4xx_nucleo_bus.c **** }
 667              		.loc 1 255 10 is_stmt 0 view .LVU187
 668 002e F5E7     		b	.L46
 669              	.LVL63:
 670              	.L52:
 248:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 671              		.loc 1 248 11 view .LVU188
 672 0030 6FF06500 		mvn	r0, #101
 673 0034 F2E7     		b	.L46
 674              	.L54:
 675 0036 00BF     		.align	2
 676              	.L53:
 677 0038 00000000 		.word	hi2c1
 678              		.cfi_endproc
 679              	.LFE139:
 681              		.section	.text.BSP_I2C1_ReadReg16,"ax",%progbits
 682              		.align	1
 683              		.global	BSP_I2C1_ReadReg16
 684              		.syntax unified
 685              		.thumb
 686              		.thumb_func
 688              	BSP_I2C1_ReadReg16:
 689              	.LVL64:
 690              	.LFB140:
 266:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 691              		.loc 1 266 1 is_stmt 1 view -0
 692              		.cfi_startproc
 693              		@ args = 0, pretend = 0, frame = 0
 694              		@ frame_needed = 0, uses_anonymous_args = 0
 266:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 695              		.loc 1 266 1 is_stmt 0 view .LVU190
 696 0000 10B5     		push	{r4, lr}
 697              		.cfi_def_cfa_offset 8
ARM GAS  C:\Temp\ccZhLyxh.s 			page 24


 698              		.cfi_offset 4, -8
 699              		.cfi_offset 14, -4
 700 0002 84B0     		sub	sp, sp, #16
 701              		.cfi_def_cfa_offset 24
 702 0004 1C46     		mov	r4, r3
 267:Core/Src/stm32f4xx_nucleo_bus.c **** 
 703              		.loc 1 267 3 is_stmt 1 view .LVU191
 704              	.LVL65:
 269:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 705              		.loc 1 269 3 view .LVU192
 269:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 706              		.loc 1 269 7 is_stmt 0 view .LVU193
 707 0006 1023     		movs	r3, #16
 708              	.LVL66:
 269:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 709              		.loc 1 269 7 view .LVU194
 710 0008 0293     		str	r3, [sp, #8]
 711 000a 0194     		str	r4, [sp, #4]
 712 000c 0092     		str	r2, [sp]
 713 000e 0A46     		mov	r2, r1
 714              	.LVL67:
 269:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 715              		.loc 1 269 7 view .LVU195
 716 0010 0146     		mov	r1, r0
 717              	.LVL68:
 269:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 718              		.loc 1 269 7 view .LVU196
 719 0012 0948     		ldr	r0, .L61
 720              	.LVL69:
 269:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 721              		.loc 1 269 7 view .LVU197
 722 0014 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 723              	.LVL70:
 269:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 724              		.loc 1 269 6 view .LVU198
 725 0018 10B9     		cbnz	r0, .L60
 267:Core/Src/stm32f4xx_nucleo_bus.c **** 
 726              		.loc 1 267 11 view .LVU199
 727 001a 0020     		movs	r0, #0
 728              	.LVL71:
 729              	.L55:
 281:Core/Src/stm32f4xx_nucleo_bus.c **** 
 730              		.loc 1 281 1 view .LVU200
 731 001c 04B0     		add	sp, sp, #16
 732              		.cfi_remember_state
 733              		.cfi_def_cfa_offset 8
 734              		@ sp needed
 735 001e 10BD     		pop	{r4, pc}
 736              	.LVL72:
 737              	.L60:
 738              		.cfi_restore_state
 271:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 739              		.loc 1 271 5 is_stmt 1 view .LVU201
 271:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 740              		.loc 1 271 9 is_stmt 0 view .LVU202
 741 0020 0548     		ldr	r0, .L61
 742 0022 FFF7FEFF 		bl	HAL_I2C_GetError
ARM GAS  C:\Temp\ccZhLyxh.s 			page 25


 743              	.LVL73:
 271:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 744              		.loc 1 271 8 view .LVU203
 745 0026 0428     		cmp	r0, #4
 746 0028 02D0     		beq	.L58
 273:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 747              		.loc 1 273 11 view .LVU204
 748 002a 6FF06500 		mvn	r0, #101
 749 002e F5E7     		b	.L55
 750              	.L58:
 277:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 751              		.loc 1 277 11 view .LVU205
 752 0030 6FF00300 		mvn	r0, #3
 753              	.LVL74:
 280:Core/Src/stm32f4xx_nucleo_bus.c **** }
 754              		.loc 1 280 3 is_stmt 1 view .LVU206
 280:Core/Src/stm32f4xx_nucleo_bus.c **** }
 755              		.loc 1 280 10 is_stmt 0 view .LVU207
 756 0034 F2E7     		b	.L55
 757              	.L62:
 758 0036 00BF     		.align	2
 759              	.L61:
 760 0038 00000000 		.word	hi2c1
 761              		.cfi_endproc
 762              	.LFE140:
 764              		.section	.text.BSP_I2C1_Send,"ax",%progbits
 765              		.align	1
 766              		.global	BSP_I2C1_Send
 767              		.syntax unified
 768              		.thumb
 769              		.thumb_func
 771              	BSP_I2C1_Send:
 772              	.LVL75:
 773              	.LFB141:
 290:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 774              		.loc 1 290 74 is_stmt 1 view -0
 775              		.cfi_startproc
 776              		@ args = 0, pretend = 0, frame = 0
 777              		@ frame_needed = 0, uses_anonymous_args = 0
 290:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 778              		.loc 1 290 74 is_stmt 0 view .LVU209
 779 0000 00B5     		push	{lr}
 780              		.cfi_def_cfa_offset 4
 781              		.cfi_offset 14, -4
 782 0002 83B0     		sub	sp, sp, #12
 783              		.cfi_def_cfa_offset 16
 784 0004 1346     		mov	r3, r2
 291:Core/Src/stm32f4xx_nucleo_bus.c **** 
 785              		.loc 1 291 3 is_stmt 1 view .LVU210
 786              	.LVL76:
 293:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 787              		.loc 1 293 3 view .LVU211
 293:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 788              		.loc 1 293 7 is_stmt 0 view .LVU212
 789 0006 1022     		movs	r2, #16
 790              	.LVL77:
 293:Core/Src/stm32f4xx_nucleo_bus.c ****   {
ARM GAS  C:\Temp\ccZhLyxh.s 			page 26


 791              		.loc 1 293 7 view .LVU213
 792 0008 0092     		str	r2, [sp]
 793 000a 0A46     		mov	r2, r1
 794 000c 0146     		mov	r1, r0
 795              	.LVL78:
 293:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 796              		.loc 1 293 7 view .LVU214
 797 000e 0948     		ldr	r0, .L69
 798              	.LVL79:
 293:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 799              		.loc 1 293 7 view .LVU215
 800 0010 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 801              	.LVL80:
 293:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 802              		.loc 1 293 6 view .LVU216
 803 0014 18B9     		cbnz	r0, .L68
 291:Core/Src/stm32f4xx_nucleo_bus.c **** 
 804              		.loc 1 291 11 view .LVU217
 805 0016 0020     		movs	r0, #0
 806              	.LVL81:
 807              	.L63:
 306:Core/Src/stm32f4xx_nucleo_bus.c **** 
 808              		.loc 1 306 1 view .LVU218
 809 0018 03B0     		add	sp, sp, #12
 810              		.cfi_remember_state
 811              		.cfi_def_cfa_offset 4
 812              		@ sp needed
 813 001a 5DF804FB 		ldr	pc, [sp], #4
 814              	.LVL82:
 815              	.L68:
 816              		.cfi_restore_state
 295:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 817              		.loc 1 295 5 is_stmt 1 view .LVU219
 295:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 818              		.loc 1 295 9 is_stmt 0 view .LVU220
 819 001e 0548     		ldr	r0, .L69
 820 0020 FFF7FEFF 		bl	HAL_I2C_GetError
 821              	.LVL83:
 295:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 822              		.loc 1 295 8 view .LVU221
 823 0024 0428     		cmp	r0, #4
 824 0026 02D0     		beq	.L66
 297:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 825              		.loc 1 297 11 view .LVU222
 826 0028 6FF06500 		mvn	r0, #101
 827 002c F4E7     		b	.L63
 828              	.L66:
 301:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 829              		.loc 1 301 11 view .LVU223
 830 002e 6FF00300 		mvn	r0, #3
 831              	.LVL84:
 305:Core/Src/stm32f4xx_nucleo_bus.c **** }
 832              		.loc 1 305 3 is_stmt 1 view .LVU224
 305:Core/Src/stm32f4xx_nucleo_bus.c **** }
 833              		.loc 1 305 10 is_stmt 0 view .LVU225
 834 0032 F1E7     		b	.L63
 835              	.L70:
ARM GAS  C:\Temp\ccZhLyxh.s 			page 27


 836              		.align	2
 837              	.L69:
 838 0034 00000000 		.word	hi2c1
 839              		.cfi_endproc
 840              	.LFE141:
 842              		.section	.text.BSP_I2C1_Recv,"ax",%progbits
 843              		.align	1
 844              		.global	BSP_I2C1_Recv
 845              		.syntax unified
 846              		.thumb
 847              		.thumb_func
 849              	BSP_I2C1_Recv:
 850              	.LVL85:
 851              	.LFB142:
 315:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 852              		.loc 1 315 74 is_stmt 1 view -0
 853              		.cfi_startproc
 854              		@ args = 0, pretend = 0, frame = 0
 855              		@ frame_needed = 0, uses_anonymous_args = 0
 315:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 856              		.loc 1 315 74 is_stmt 0 view .LVU227
 857 0000 00B5     		push	{lr}
 858              		.cfi_def_cfa_offset 4
 859              		.cfi_offset 14, -4
 860 0002 83B0     		sub	sp, sp, #12
 861              		.cfi_def_cfa_offset 16
 862 0004 1346     		mov	r3, r2
 316:Core/Src/stm32f4xx_nucleo_bus.c **** 
 863              		.loc 1 316 3 is_stmt 1 view .LVU228
 864              	.LVL86:
 318:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 865              		.loc 1 318 3 view .LVU229
 318:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 866              		.loc 1 318 7 is_stmt 0 view .LVU230
 867 0006 1022     		movs	r2, #16
 868              	.LVL87:
 318:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 869              		.loc 1 318 7 view .LVU231
 870 0008 0092     		str	r2, [sp]
 871 000a 0A46     		mov	r2, r1
 872 000c 0146     		mov	r1, r0
 873              	.LVL88:
 318:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 874              		.loc 1 318 7 view .LVU232
 875 000e 0948     		ldr	r0, .L77
 876              	.LVL89:
 318:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 877              		.loc 1 318 7 view .LVU233
 878 0010 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 879              	.LVL90:
 318:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 880              		.loc 1 318 6 view .LVU234
 881 0014 18B9     		cbnz	r0, .L76
 316:Core/Src/stm32f4xx_nucleo_bus.c **** 
 882              		.loc 1 316 11 view .LVU235
 883 0016 0020     		movs	r0, #0
 884              	.LVL91:
ARM GAS  C:\Temp\ccZhLyxh.s 			page 28


 885              	.L71:
 330:Core/Src/stm32f4xx_nucleo_bus.c **** 
 886              		.loc 1 330 1 view .LVU236
 887 0018 03B0     		add	sp, sp, #12
 888              		.cfi_remember_state
 889              		.cfi_def_cfa_offset 4
 890              		@ sp needed
 891 001a 5DF804FB 		ldr	pc, [sp], #4
 892              	.LVL92:
 893              	.L76:
 894              		.cfi_restore_state
 320:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 895              		.loc 1 320 5 is_stmt 1 view .LVU237
 320:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 896              		.loc 1 320 9 is_stmt 0 view .LVU238
 897 001e 0548     		ldr	r0, .L77
 898 0020 FFF7FEFF 		bl	HAL_I2C_GetError
 899              	.LVL93:
 320:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 900              		.loc 1 320 8 view .LVU239
 901 0024 0428     		cmp	r0, #4
 902 0026 02D0     		beq	.L74
 322:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 903              		.loc 1 322 11 view .LVU240
 904 0028 6FF06500 		mvn	r0, #101
 905 002c F4E7     		b	.L71
 906              	.L74:
 326:Core/Src/stm32f4xx_nucleo_bus.c ****     }
 907              		.loc 1 326 11 view .LVU241
 908 002e 6FF00300 		mvn	r0, #3
 909              	.LVL94:
 329:Core/Src/stm32f4xx_nucleo_bus.c **** }
 910              		.loc 1 329 3 is_stmt 1 view .LVU242
 329:Core/Src/stm32f4xx_nucleo_bus.c **** }
 911              		.loc 1 329 10 is_stmt 0 view .LVU243
 912 0032 F1E7     		b	.L71
 913              	.L78:
 914              		.align	2
 915              	.L77:
 916 0034 00000000 		.word	hi2c1
 917              		.cfi_endproc
 918              	.LFE142:
 920              		.section	.text.BSP_I2C1_Send_DMA,"ax",%progbits
 921              		.align	1
 922              		.global	BSP_I2C1_Send_DMA
 923              		.syntax unified
 924              		.thumb
 925              		.thumb_func
 927              	BSP_I2C1_Send_DMA:
 928              	.LVL95:
 929              	.LFB143:
 339:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 930              		.loc 1 339 1 is_stmt 1 view -0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 339:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
ARM GAS  C:\Temp\ccZhLyxh.s 			page 29


 934              		.loc 1 339 1 is_stmt 0 view .LVU245
 935 0000 08B5     		push	{r3, lr}
 936              		.cfi_def_cfa_offset 8
 937              		.cfi_offset 3, -8
 938              		.cfi_offset 14, -4
 939 0002 1346     		mov	r3, r2
 340:Core/Src/stm32f4xx_nucleo_bus.c **** 
 940              		.loc 1 340 3 is_stmt 1 view .LVU246
 941              	.LVL96:
 342:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 942              		.loc 1 342 3 view .LVU247
 342:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 943              		.loc 1 342 6 is_stmt 0 view .LVU248
 944 0004 0A46     		mov	r2, r1
 945              	.LVL97:
 342:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 946              		.loc 1 342 6 view .LVU249
 947 0006 0146     		mov	r1, r0
 948              	.LVL98:
 342:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 949              		.loc 1 342 6 view .LVU250
 950 0008 0348     		ldr	r0, .L84
 951              	.LVL99:
 342:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 952              		.loc 1 342 6 view .LVU251
 953 000a FFF7FEFF 		bl	HAL_I2C_Master_Transmit_DMA
 954              	.LVL100:
 342:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 955              		.loc 1 342 5 view .LVU252
 956 000e 00B9     		cbnz	r0, .L83
 957              	.LVL101:
 958              	.L79:
 347:Core/Src/stm32f4xx_nucleo_bus.c **** /**
 959              		.loc 1 347 1 view .LVU253
 960 0010 08BD     		pop	{r3, pc}
 961              	.LVL102:
 962              	.L83:
 344:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 963              		.loc 1 344 11 view .LVU254
 964 0012 6FF00500 		mvn	r0, #5
 965              	.LVL103:
 346:Core/Src/stm32f4xx_nucleo_bus.c **** }
 966              		.loc 1 346 3 is_stmt 1 view .LVU255
 346:Core/Src/stm32f4xx_nucleo_bus.c **** }
 967              		.loc 1 346 10 is_stmt 0 view .LVU256
 968 0016 FBE7     		b	.L79
 969              	.L85:
 970              		.align	2
 971              	.L84:
 972 0018 00000000 		.word	hi2c1
 973              		.cfi_endproc
 974              	.LFE143:
 976              		.section	.text.BSP_I2C1_Recv_DMA,"ax",%progbits
 977              		.align	1
 978              		.global	BSP_I2C1_Recv_DMA
 979              		.syntax unified
 980              		.thumb
ARM GAS  C:\Temp\ccZhLyxh.s 			page 30


 981              		.thumb_func
 983              	BSP_I2C1_Recv_DMA:
 984              	.LVL104:
 985              	.LFB144:
 355:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 986              		.loc 1 355 1 is_stmt 1 view -0
 987              		.cfi_startproc
 988              		@ args = 0, pretend = 0, frame = 0
 989              		@ frame_needed = 0, uses_anonymous_args = 0
 355:Core/Src/stm32f4xx_nucleo_bus.c ****   int32_t ret = BSP_ERROR_NONE;
 990              		.loc 1 355 1 is_stmt 0 view .LVU258
 991 0000 08B5     		push	{r3, lr}
 992              		.cfi_def_cfa_offset 8
 993              		.cfi_offset 3, -8
 994              		.cfi_offset 14, -4
 995 0002 1346     		mov	r3, r2
 356:Core/Src/stm32f4xx_nucleo_bus.c **** 
 996              		.loc 1 356 3 is_stmt 1 view .LVU259
 997              	.LVL105:
 358:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 998              		.loc 1 358 3 view .LVU260
 358:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 999              		.loc 1 358 6 is_stmt 0 view .LVU261
 1000 0004 0A46     		mov	r2, r1
 1001              	.LVL106:
 358:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 1002              		.loc 1 358 6 view .LVU262
 1003 0006 0146     		mov	r1, r0
 1004              	.LVL107:
 358:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 1005              		.loc 1 358 6 view .LVU263
 1006 0008 0348     		ldr	r0, .L91
 1007              	.LVL108:
 358:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 1008              		.loc 1 358 6 view .LVU264
 1009 000a FFF7FEFF 		bl	HAL_I2C_Master_Receive_DMA
 1010              	.LVL109:
 358:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 1011              		.loc 1 358 5 view .LVU265
 1012 000e 00B9     		cbnz	r0, .L90
 1013              	.LVL110:
 1014              	.L86:
 363:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1015              		.loc 1 363 1 view .LVU266
 1016 0010 08BD     		pop	{r3, pc}
 1017              	.LVL111:
 1018              	.L90:
 360:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 1019              		.loc 1 360 11 view .LVU267
 1020 0012 6FF00500 		mvn	r0, #5
 1021              	.LVL112:
 362:Core/Src/stm32f4xx_nucleo_bus.c **** }
 1022              		.loc 1 362 3 is_stmt 1 view .LVU268
 362:Core/Src/stm32f4xx_nucleo_bus.c **** }
 1023              		.loc 1 362 10 is_stmt 0 view .LVU269
 1024 0016 FBE7     		b	.L86
 1025              	.L92:
ARM GAS  C:\Temp\ccZhLyxh.s 			page 31


 1026              		.align	2
 1027              	.L91:
 1028 0018 00000000 		.word	hi2c1
 1029              		.cfi_endproc
 1030              	.LFE144:
 1032              		.section	.text.BSP_GetTick,"ax",%progbits
 1033              		.align	1
 1034              		.global	BSP_GetTick
 1035              		.syntax unified
 1036              		.thumb
 1037              		.thumb_func
 1039              	BSP_GetTick:
 1040              	.LFB145:
 423:Core/Src/stm32f4xx_nucleo_bus.c ****   return HAL_GetTick();
 1041              		.loc 1 423 27 is_stmt 1 view -0
 1042              		.cfi_startproc
 1043              		@ args = 0, pretend = 0, frame = 0
 1044              		@ frame_needed = 0, uses_anonymous_args = 0
 1045 0000 08B5     		push	{r3, lr}
 1046              		.cfi_def_cfa_offset 8
 1047              		.cfi_offset 3, -8
 1048              		.cfi_offset 14, -4
 424:Core/Src/stm32f4xx_nucleo_bus.c **** }
 1049              		.loc 1 424 3 view .LVU271
 424:Core/Src/stm32f4xx_nucleo_bus.c **** }
 1050              		.loc 1 424 10 is_stmt 0 view .LVU272
 1051 0002 FFF7FEFF 		bl	HAL_GetTick
 1052              	.LVL113:
 425:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1053              		.loc 1 425 1 view .LVU273
 1054 0006 08BD     		pop	{r3, pc}
 1055              		.cfi_endproc
 1056              	.LFE145:
 1058              		.section	.text.MX_I2C1_Init,"ax",%progbits
 1059              		.align	1
 1060              		.weak	MX_I2C1_Init
 1061              		.syntax unified
 1062              		.thumb
 1063              		.thumb_func
 1065              	MX_I2C1_Init:
 1066              	.LVL114:
 1067              	.LFB146:
 430:Core/Src/stm32f4xx_nucleo_bus.c ****   HAL_StatusTypeDef ret = HAL_OK;
 1068              		.loc 1 430 1 is_stmt 1 view -0
 1069              		.cfi_startproc
 1070              		@ args = 0, pretend = 0, frame = 0
 1071              		@ frame_needed = 0, uses_anonymous_args = 0
 430:Core/Src/stm32f4xx_nucleo_bus.c ****   HAL_StatusTypeDef ret = HAL_OK;
 1072              		.loc 1 430 1 is_stmt 0 view .LVU275
 1073 0000 08B5     		push	{r3, lr}
 1074              		.cfi_def_cfa_offset 8
 1075              		.cfi_offset 3, -8
 1076              		.cfi_offset 14, -4
 431:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1077              		.loc 1 431 3 is_stmt 1 view .LVU276
 1078              	.LVL115:
 433:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.ClockSpeed = 400000;
ARM GAS  C:\Temp\ccZhLyxh.s 			page 32


 1079              		.loc 1 433 3 view .LVU277
 433:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.ClockSpeed = 400000;
 1080              		.loc 1 433 18 is_stmt 0 view .LVU278
 1081 0002 094A     		ldr	r2, .L99
 1082 0004 0260     		str	r2, [r0]
 434:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.DutyCycle = I2C_DUTYCYCLE_2;
 1083              		.loc 1 434 3 is_stmt 1 view .LVU279
 434:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.DutyCycle = I2C_DUTYCYCLE_2;
 1084              		.loc 1 434 25 is_stmt 0 view .LVU280
 1085 0006 094A     		ldr	r2, .L99+4
 1086 0008 4260     		str	r2, [r0, #4]
 435:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.OwnAddress1 = 0;
 1087              		.loc 1 435 3 is_stmt 1 view .LVU281
 435:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.OwnAddress1 = 0;
 1088              		.loc 1 435 24 is_stmt 0 view .LVU282
 1089 000a 0022     		movs	r2, #0
 1090 000c 8260     		str	r2, [r0, #8]
 436:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 1091              		.loc 1 436 3 is_stmt 1 view .LVU283
 436:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.AddressingMode = I2C_ADDRESSINGMODE_7BIT;
 1092              		.loc 1 436 26 is_stmt 0 view .LVU284
 1093 000e C260     		str	r2, [r0, #12]
 437:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 1094              		.loc 1 437 3 is_stmt 1 view .LVU285
 437:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.DualAddressMode = I2C_DUALADDRESS_DISABLE;
 1095              		.loc 1 437 29 is_stmt 0 view .LVU286
 1096 0010 4FF48041 		mov	r1, #16384
 1097 0014 0161     		str	r1, [r0, #16]
 438:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.OwnAddress2 = 0;
 1098              		.loc 1 438 3 is_stmt 1 view .LVU287
 438:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.OwnAddress2 = 0;
 1099              		.loc 1 438 30 is_stmt 0 view .LVU288
 1100 0016 4261     		str	r2, [r0, #20]
 439:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 1101              		.loc 1 439 3 is_stmt 1 view .LVU289
 439:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.GeneralCallMode = I2C_GENERALCALL_DISABLE;
 1102              		.loc 1 439 26 is_stmt 0 view .LVU290
 1103 0018 8261     		str	r2, [r0, #24]
 440:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 1104              		.loc 1 440 3 is_stmt 1 view .LVU291
 440:Core/Src/stm32f4xx_nucleo_bus.c ****   hi2c->Init.NoStretchMode = I2C_NOSTRETCH_DISABLE;
 1105              		.loc 1 440 30 is_stmt 0 view .LVU292
 1106 001a C261     		str	r2, [r0, #28]
 441:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_Init(hi2c) != HAL_OK)
 1107              		.loc 1 441 3 is_stmt 1 view .LVU293
 441:Core/Src/stm32f4xx_nucleo_bus.c ****   if (HAL_I2C_Init(hi2c) != HAL_OK)
 1108              		.loc 1 441 28 is_stmt 0 view .LVU294
 1109 001c 0262     		str	r2, [r0, #32]
 442:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 1110              		.loc 1 442 3 is_stmt 1 view .LVU295
 442:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 1111              		.loc 1 442 7 is_stmt 0 view .LVU296
 1112 001e FFF7FEFF 		bl	HAL_I2C_Init
 1113              	.LVL116:
 442:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 1114              		.loc 1 442 6 view .LVU297
 1115 0022 00B1     		cbz	r0, .L96
ARM GAS  C:\Temp\ccZhLyxh.s 			page 33


 444:Core/Src/stm32f4xx_nucleo_bus.c ****   }
 1116              		.loc 1 444 9 view .LVU298
 1117 0024 0120     		movs	r0, #1
 1118              	.L96:
 1119              	.LVL117:
 447:Core/Src/stm32f4xx_nucleo_bus.c **** }
 1120              		.loc 1 447 3 is_stmt 1 view .LVU299
 448:Core/Src/stm32f4xx_nucleo_bus.c **** DMA_HandleTypeDef hdma_i2c1_rx;
 1121              		.loc 1 448 1 is_stmt 0 view .LVU300
 1122 0026 08BD     		pop	{r3, pc}
 1123              	.L100:
 1124              		.align	2
 1125              	.L99:
 1126 0028 00540040 		.word	1073763328
 1127 002c 801A0600 		.word	400000
 1128              		.cfi_endproc
 1129              	.LFE146:
 1131              		.section	.text.BSP_I2C1_Init,"ax",%progbits
 1132              		.align	1
 1133              		.global	BSP_I2C1_Init
 1134              		.syntax unified
 1135              		.thumb
 1136              		.thumb_func
 1138              	BSP_I2C1_Init:
 1139              	.LFB134:
  94:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1140              		.loc 1 94 1 is_stmt 1 view -0
 1141              		.cfi_startproc
 1142              		@ args = 0, pretend = 0, frame = 0
 1143              		@ frame_needed = 0, uses_anonymous_args = 0
  96:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1144              		.loc 1 96 3 view .LVU302
 1145              	.LVL118:
  98:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1146              		.loc 1 98 3 view .LVU303
  98:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1147              		.loc 1 98 19 is_stmt 0 view .LVU304
 1148 0000 0E4B     		ldr	r3, .L113
 1149 0002 0F4A     		ldr	r2, .L113+4
 1150 0004 1A60     		str	r2, [r3]
 100:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 1151              		.loc 1 100 3 is_stmt 1 view .LVU305
 100:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 1152              		.loc 1 100 21 is_stmt 0 view .LVU306
 1153 0006 0F4A     		ldr	r2, .L113+8
 1154 0008 1368     		ldr	r3, [r2]
 1155 000a 591C     		adds	r1, r3, #1
 1156 000c 1160     		str	r1, [r2]
 100:Core/Src/stm32f4xx_nucleo_bus.c ****   {
 1157              		.loc 1 100 5 view .LVU307
 1158 000e 0BB1     		cbz	r3, .L110
  96:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1159              		.loc 1 96 11 view .LVU308
 1160 0010 0020     		movs	r0, #0
 131:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1161              		.loc 1 131 1 view .LVU309
 1162 0012 7047     		bx	lr
ARM GAS  C:\Temp\ccZhLyxh.s 			page 34


 1163              	.L110:
  94:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1164              		.loc 1 94 1 view .LVU310
 1165 0014 10B5     		push	{r4, lr}
 1166              		.cfi_def_cfa_offset 8
 1167              		.cfi_offset 4, -8
 1168              		.cfi_offset 14, -4
 102:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 1169              		.loc 1 102 5 is_stmt 1 view .LVU311
 102:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 1170              		.loc 1 102 9 is_stmt 0 view .LVU312
 1171 0016 0948     		ldr	r0, .L113
 1172 0018 FFF7FEFF 		bl	HAL_I2C_GetState
 1173              	.LVL119:
 102:Core/Src/stm32f4xx_nucleo_bus.c ****     {
 1174              		.loc 1 102 8 view .LVU313
 1175 001c 08B1     		cbz	r0, .L111
  96:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1176              		.loc 1 96 11 view .LVU314
 1177 001e 0020     		movs	r0, #0
 1178              	.L101:
 131:Core/Src/stm32f4xx_nucleo_bus.c **** 
 1179              		.loc 1 131 1 view .LVU315
 1180 0020 10BD     		pop	{r4, pc}
 1181              	.L111:
 106:Core/Src/stm32f4xx_nucleo_bus.c ****     #else
 1182              		.loc 1 106 7 is_stmt 1 view .LVU316
 1183 0022 064C     		ldr	r4, .L113
 1184 0024 2046     		mov	r0, r4
 1185 0026 FFF7FEFF 		bl	I2C1_MspInit
 1186              	.LVL120:
 116:Core/Src/stm32f4xx_nucleo_bus.c ****       {
 1187              		.loc 1 116 7 view .LVU317
 119:Core/Src/stm32f4xx_nucleo_bus.c ****         {
 1188              		.loc 1 119 9 view .LVU318
 119:Core/Src/stm32f4xx_nucleo_bus.c ****         {
 1189              		.loc 1 119 12 is_stmt 0 view .LVU319
 1190 002a 2046     		mov	r0, r4
 1191 002c FFF7FEFF 		bl	MX_I2C1_Init
 1192              	.LVL121:
 119:Core/Src/stm32f4xx_nucleo_bus.c ****         {
 1193              		.loc 1 119 11 view .LVU320
 1194 0030 08B9     		cbnz	r0, .L112
 125:Core/Src/stm32f4xx_nucleo_bus.c ****         }
 1195              		.loc 1 125 15 view .LVU321
 1196 0032 0020     		movs	r0, #0
 130:Core/Src/stm32f4xx_nucleo_bus.c **** }
 1197              		.loc 1 130 3 is_stmt 1 view .LVU322
 130:Core/Src/stm32f4xx_nucleo_bus.c **** }
 1198              		.loc 1 130 10 is_stmt 0 view .LVU323
 1199 0034 F4E7     		b	.L101
 1200              	.L112:
 121:Core/Src/stm32f4xx_nucleo_bus.c ****         }
 1201              		.loc 1 121 15 view .LVU324
 1202 0036 6FF00700 		mvn	r0, #7
 1203 003a F1E7     		b	.L101
 1204              	.L114:
ARM GAS  C:\Temp\ccZhLyxh.s 			page 35


 1205              		.align	2
 1206              	.L113:
 1207 003c 00000000 		.word	hi2c1
 1208 0040 00540040 		.word	1073763328
 1209 0044 00000000 		.word	I2C1InitCounter
 1210              		.cfi_endproc
 1211              	.LFE134:
 1213              		.global	hdma_i2c1_tx
 1214              		.section	.bss.hdma_i2c1_tx,"aw",%nobits
 1215              		.align	2
 1218              	hdma_i2c1_tx:
 1219 0000 00000000 		.space	96
 1219      00000000 
 1219      00000000 
 1219      00000000 
 1219      00000000 
 1220              		.global	hdma_i2c1_rx
 1221              		.section	.bss.hdma_i2c1_rx,"aw",%nobits
 1222              		.align	2
 1225              	hdma_i2c1_rx:
 1226 0000 00000000 		.space	96
 1226      00000000 
 1226      00000000 
 1226      00000000 
 1226      00000000 
 1227              		.section	.bss.I2C1InitCounter,"aw",%nobits
 1228              		.align	2
 1231              	I2C1InitCounter:
 1232 0000 00000000 		.space	4
 1233              		.global	hi2c1
 1234              		.section	.bss.hi2c1,"aw",%nobits
 1235              		.align	2
 1238              	hi2c1:
 1239 0000 00000000 		.space	84
 1239      00000000 
 1239      00000000 
 1239      00000000 
 1239      00000000 
 1240              		.text
 1241              	.Letext0:
 1242              		.file 2 "c:\\users\\jessejabezarendse\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-
 1243              		.file 3 "c:\\users\\jessejabezarendse\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-
 1244              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f411xe.h"
 1245              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1246              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1247              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1248              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_i2c.h"
 1249              		.file 9 "Core/Inc/stm32f4xx_nucleo_bus.h"
 1250              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  C:\Temp\ccZhLyxh.s 			page 36


DEFINED SYMBOLS
                            *ABS*:00000000 stm32f4xx_nucleo_bus.c
  C:\Temp\ccZhLyxh.s:21     .text.I2C1_MspInit:00000000 $t
  C:\Temp\ccZhLyxh.s:26     .text.I2C1_MspInit:00000000 I2C1_MspInit
  C:\Temp\ccZhLyxh.s:227    .text.I2C1_MspInit:000000d0 $d
  C:\Temp\ccZhLyxh.s:1225   .bss.hdma_i2c1_rx:00000000 hdma_i2c1_rx
  C:\Temp\ccZhLyxh.s:1218   .bss.hdma_i2c1_tx:00000000 hdma_i2c1_tx
  C:\Temp\ccZhLyxh.s:237    .text.I2C1_MspDeInit:00000000 $t
  C:\Temp\ccZhLyxh.s:242    .text.I2C1_MspDeInit:00000000 I2C1_MspDeInit
  C:\Temp\ccZhLyxh.s:290    .text.I2C1_MspDeInit:00000034 $d
  C:\Temp\ccZhLyxh.s:296    .text.BSP_I2C1_DeInit:00000000 $t
  C:\Temp\ccZhLyxh.s:302    .text.BSP_I2C1_DeInit:00000000 BSP_I2C1_DeInit
  C:\Temp\ccZhLyxh.s:370    .text.BSP_I2C1_DeInit:00000030 $d
  C:\Temp\ccZhLyxh.s:1231   .bss.I2C1InitCounter:00000000 I2C1InitCounter
  C:\Temp\ccZhLyxh.s:1238   .bss.hi2c1:00000000 hi2c1
  C:\Temp\ccZhLyxh.s:376    .text.BSP_I2C1_IsReady:00000000 $t
  C:\Temp\ccZhLyxh.s:382    .text.BSP_I2C1_IsReady:00000000 BSP_I2C1_IsReady
  C:\Temp\ccZhLyxh.s:425    .text.BSP_I2C1_IsReady:00000018 $d
  C:\Temp\ccZhLyxh.s:430    .text.BSP_I2C1_WriteReg:00000000 $t
  C:\Temp\ccZhLyxh.s:436    .text.BSP_I2C1_WriteReg:00000000 BSP_I2C1_WriteReg
  C:\Temp\ccZhLyxh.s:509    .text.BSP_I2C1_WriteReg:00000038 $d
  C:\Temp\ccZhLyxh.s:514    .text.BSP_I2C1_ReadReg:00000000 $t
  C:\Temp\ccZhLyxh.s:520    .text.BSP_I2C1_ReadReg:00000000 BSP_I2C1_ReadReg
  C:\Temp\ccZhLyxh.s:593    .text.BSP_I2C1_ReadReg:00000038 $d
  C:\Temp\ccZhLyxh.s:598    .text.BSP_I2C1_WriteReg16:00000000 $t
  C:\Temp\ccZhLyxh.s:604    .text.BSP_I2C1_WriteReg16:00000000 BSP_I2C1_WriteReg16
  C:\Temp\ccZhLyxh.s:677    .text.BSP_I2C1_WriteReg16:00000038 $d
  C:\Temp\ccZhLyxh.s:682    .text.BSP_I2C1_ReadReg16:00000000 $t
  C:\Temp\ccZhLyxh.s:688    .text.BSP_I2C1_ReadReg16:00000000 BSP_I2C1_ReadReg16
  C:\Temp\ccZhLyxh.s:760    .text.BSP_I2C1_ReadReg16:00000038 $d
  C:\Temp\ccZhLyxh.s:765    .text.BSP_I2C1_Send:00000000 $t
  C:\Temp\ccZhLyxh.s:771    .text.BSP_I2C1_Send:00000000 BSP_I2C1_Send
  C:\Temp\ccZhLyxh.s:838    .text.BSP_I2C1_Send:00000034 $d
  C:\Temp\ccZhLyxh.s:843    .text.BSP_I2C1_Recv:00000000 $t
  C:\Temp\ccZhLyxh.s:849    .text.BSP_I2C1_Recv:00000000 BSP_I2C1_Recv
  C:\Temp\ccZhLyxh.s:916    .text.BSP_I2C1_Recv:00000034 $d
  C:\Temp\ccZhLyxh.s:921    .text.BSP_I2C1_Send_DMA:00000000 $t
  C:\Temp\ccZhLyxh.s:927    .text.BSP_I2C1_Send_DMA:00000000 BSP_I2C1_Send_DMA
  C:\Temp\ccZhLyxh.s:972    .text.BSP_I2C1_Send_DMA:00000018 $d
  C:\Temp\ccZhLyxh.s:977    .text.BSP_I2C1_Recv_DMA:00000000 $t
  C:\Temp\ccZhLyxh.s:983    .text.BSP_I2C1_Recv_DMA:00000000 BSP_I2C1_Recv_DMA
  C:\Temp\ccZhLyxh.s:1028   .text.BSP_I2C1_Recv_DMA:00000018 $d
  C:\Temp\ccZhLyxh.s:1033   .text.BSP_GetTick:00000000 $t
  C:\Temp\ccZhLyxh.s:1039   .text.BSP_GetTick:00000000 BSP_GetTick
  C:\Temp\ccZhLyxh.s:1059   .text.MX_I2C1_Init:00000000 $t
  C:\Temp\ccZhLyxh.s:1065   .text.MX_I2C1_Init:00000000 MX_I2C1_Init
  C:\Temp\ccZhLyxh.s:1126   .text.MX_I2C1_Init:00000028 $d
  C:\Temp\ccZhLyxh.s:1132   .text.BSP_I2C1_Init:00000000 $t
  C:\Temp\ccZhLyxh.s:1138   .text.BSP_I2C1_Init:00000000 BSP_I2C1_Init
  C:\Temp\ccZhLyxh.s:1207   .text.BSP_I2C1_Init:0000003c $d
  C:\Temp\ccZhLyxh.s:1215   .bss.hdma_i2c1_tx:00000000 $d
  C:\Temp\ccZhLyxh.s:1222   .bss.hdma_i2c1_rx:00000000 $d
  C:\Temp\ccZhLyxh.s:1228   .bss.I2C1InitCounter:00000000 $d
  C:\Temp\ccZhLyxh.s:1235   .bss.hi2c1:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_Init
ARM GAS  C:\Temp\ccZhLyxh.s 			page 37


HAL_DMA_Init
HAL_GPIO_DeInit
HAL_DMA_DeInit
HAL_I2C_DeInit
HAL_I2C_IsDeviceReady
HAL_I2C_Mem_Write
HAL_I2C_GetError
HAL_I2C_Mem_Read
HAL_I2C_Master_Transmit
HAL_I2C_Master_Receive
HAL_I2C_Master_Transmit_DMA
HAL_I2C_Master_Receive_DMA
HAL_GetTick
HAL_I2C_Init
HAL_I2C_GetState
