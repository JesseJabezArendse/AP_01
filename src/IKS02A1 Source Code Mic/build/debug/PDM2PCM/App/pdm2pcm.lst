ARM GAS  C:\Temp\ccmP4w0i.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"pdm2pcm.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "PDM2PCM/App/pdm2pcm.c"
  20              		.section	.text.MX_PDM2PCM_Init,"ax",%progbits
  21              		.align	1
  22              		.global	MX_PDM2PCM_Init
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	MX_PDM2PCM_Init:
  28              	.LFB134:
   1:PDM2PCM/App/pdm2pcm.c **** /* USER CODE BEGIN Header */
   2:PDM2PCM/App/pdm2pcm.c **** /**
   3:PDM2PCM/App/pdm2pcm.c ****  ******************************************************************************
   4:PDM2PCM/App/pdm2pcm.c ****   * File Name          : pdm2pcm.c
   5:PDM2PCM/App/pdm2pcm.c ****   * Description        : This file provides code for the configuration
   6:PDM2PCM/App/pdm2pcm.c ****   *                      of the pdm2pcm instances.
   7:PDM2PCM/App/pdm2pcm.c ****   ******************************************************************************
   8:PDM2PCM/App/pdm2pcm.c ****   * @attention
   9:PDM2PCM/App/pdm2pcm.c ****   *
  10:PDM2PCM/App/pdm2pcm.c ****   * Copyright (c) 2024 STMicroelectronics.
  11:PDM2PCM/App/pdm2pcm.c ****   * All rights reserved.
  12:PDM2PCM/App/pdm2pcm.c ****   *
  13:PDM2PCM/App/pdm2pcm.c ****   * This software is licensed under terms that can be found in the LICENSE file
  14:PDM2PCM/App/pdm2pcm.c ****   * in the root directory of this software component.
  15:PDM2PCM/App/pdm2pcm.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  16:PDM2PCM/App/pdm2pcm.c ****   *
  17:PDM2PCM/App/pdm2pcm.c ****   ******************************************************************************
  18:PDM2PCM/App/pdm2pcm.c ****   */
  19:PDM2PCM/App/pdm2pcm.c **** /* USER CODE END Header */
  20:PDM2PCM/App/pdm2pcm.c **** 
  21:PDM2PCM/App/pdm2pcm.c **** /* Includes ------------------------------------------------------------------*/
  22:PDM2PCM/App/pdm2pcm.c **** #include "pdm2pcm.h"
  23:PDM2PCM/App/pdm2pcm.c **** 
  24:PDM2PCM/App/pdm2pcm.c **** /* USER CODE BEGIN 0 */
  25:PDM2PCM/App/pdm2pcm.c **** 
  26:PDM2PCM/App/pdm2pcm.c **** /* USER CODE END 0 */
  27:PDM2PCM/App/pdm2pcm.c **** 
  28:PDM2PCM/App/pdm2pcm.c **** /* Global variables ---------------------------------------------------------*/
  29:PDM2PCM/App/pdm2pcm.c **** PDM_Filter_Handler_t PDM1_filter_handler;
  30:PDM2PCM/App/pdm2pcm.c **** PDM_Filter_Config_t PDM1_filter_config;
ARM GAS  C:\Temp\ccmP4w0i.s 			page 2


  31:PDM2PCM/App/pdm2pcm.c **** 
  32:PDM2PCM/App/pdm2pcm.c **** /* USER CODE BEGIN 1 */
  33:PDM2PCM/App/pdm2pcm.c **** extern uint16_t pcm_buffer_len;
  34:PDM2PCM/App/pdm2pcm.c **** /* USER CODE END 1 */
  35:PDM2PCM/App/pdm2pcm.c **** 
  36:PDM2PCM/App/pdm2pcm.c **** /* PDM2PCM Init function for IKS02A1 */
  37:PDM2PCM/App/pdm2pcm.c **** void MX_PDM2PCM_Init(void)
  38:PDM2PCM/App/pdm2pcm.c **** {
  29              		.loc 1 38 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 10B5     		push	{r4, lr}
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 4, -8
  36              		.cfi_offset 14, -4
  39:PDM2PCM/App/pdm2pcm.c ****   /* USER CODE BEGIN PDM2PCM_Init 0 */
  40:PDM2PCM/App/pdm2pcm.c **** 
  41:PDM2PCM/App/pdm2pcm.c ****   /* USER CODE END PDM2PCM_Init 0 */
  42:PDM2PCM/App/pdm2pcm.c **** 
  43:PDM2PCM/App/pdm2pcm.c ****   /* PDM filter handler configuration */
  44:PDM2PCM/App/pdm2pcm.c ****   PDM1_filter_handler.bit_order = PDM_FILTER_BIT_ORDER_MSB;  // Most significant bit first
  37              		.loc 1 44 3 view .LVU1
  38              		.loc 1 44 33 is_stmt 0 view .LVU2
  39 0002 0C4C     		ldr	r4, .L3
  40 0004 0123     		movs	r3, #1
  41 0006 2380     		strh	r3, [r4]	@ movhi
  45:PDM2PCM/App/pdm2pcm.c ****   PDM1_filter_handler.endianness = PDM_FILTER_ENDIANNESS_LE; // Big-endian
  42              		.loc 1 45 3 is_stmt 1 view .LVU3
  43              		.loc 1 45 34 is_stmt 0 view .LVU4
  44 0008 0022     		movs	r2, #0
  45 000a 6280     		strh	r2, [r4, #2]	@ movhi
  46:PDM2PCM/App/pdm2pcm.c ****   PDM1_filter_handler.high_pass_tap = 2122358088;            // High-pass filter coefficient
  46              		.loc 1 46 3 is_stmt 1 view .LVU5
  47              		.loc 1 46 37 is_stmt 0 view .LVU6
  48 000c 0A4A     		ldr	r2, .L3+4
  49 000e 6260     		str	r2, [r4, #4]
  47:PDM2PCM/App/pdm2pcm.c ****   PDM1_filter_handler.in_ptr_channels = 1;                  // Number of input PDM channels
  50              		.loc 1 47 3 is_stmt 1 view .LVU7
  51              		.loc 1 47 39 is_stmt 0 view .LVU8
  52 0010 2381     		strh	r3, [r4, #8]	@ movhi
  48:PDM2PCM/App/pdm2pcm.c ****   PDM1_filter_handler.out_ptr_channels = 1;                 // Number of output PCM channels
  53              		.loc 1 48 3 is_stmt 1 view .LVU9
  54              		.loc 1 48 40 is_stmt 0 view .LVU10
  55 0012 6381     		strh	r3, [r4, #10]	@ movhi
  49:PDM2PCM/App/pdm2pcm.c **** 
  50:PDM2PCM/App/pdm2pcm.c ****   /* Initialize the PDM filter handler */
  51:PDM2PCM/App/pdm2pcm.c ****   PDM_Filter_Init(&PDM1_filter_handler);
  56              		.loc 1 51 3 is_stmt 1 view .LVU11
  57 0014 2046     		mov	r0, r4
  58 0016 FFF7FEFF 		bl	PDM_Filter_Init
  59              	.LVL0:
  52:PDM2PCM/App/pdm2pcm.c **** 
  53:PDM2PCM/App/pdm2pcm.c ****   /* PDM filter configuration */
  54:PDM2PCM/App/pdm2pcm.c ****   PDM1_filter_config.decimation_factor = PDM_FILTER_DEC_FACTOR_128; // Decimation factor
  60              		.loc 1 54 3 view .LVU12
  61              		.loc 1 54 40 is_stmt 0 view .LVU13
ARM GAS  C:\Temp\ccmP4w0i.s 			page 3


  62 001a 0849     		ldr	r1, .L3+8
  63 001c 0423     		movs	r3, #4
  64 001e 0B80     		strh	r3, [r1]	@ movhi
  55:PDM2PCM/App/pdm2pcm.c ****   PDM1_filter_config.output_samples_number = 16;                   // PCM samples per frame
  65              		.loc 1 55 3 is_stmt 1 view .LVU14
  66              		.loc 1 55 44 is_stmt 0 view .LVU15
  67 0020 1023     		movs	r3, #16
  68 0022 4B80     		strh	r3, [r1, #2]	@ movhi
  56:PDM2PCM/App/pdm2pcm.c ****   PDM1_filter_config.mic_gain = -12;                                // Microphone gain (adjustable)
  69              		.loc 1 56 3 is_stmt 1 view .LVU16
  70              		.loc 1 56 31 is_stmt 0 view .LVU17
  71 0024 4FF6F473 		movw	r3, #65524
  72 0028 8B80     		strh	r3, [r1, #4]	@ movhi
  57:PDM2PCM/App/pdm2pcm.c **** 
  58:PDM2PCM/App/pdm2pcm.c ****   /* Set PDM filter configuration */
  59:PDM2PCM/App/pdm2pcm.c ****   PDM_Filter_setConfig(&PDM1_filter_handler, &PDM1_filter_config);
  73              		.loc 1 59 3 is_stmt 1 view .LVU18
  74 002a 2046     		mov	r0, r4
  75 002c FFF7FEFF 		bl	PDM_Filter_setConfig
  76              	.LVL1:
  60:PDM2PCM/App/pdm2pcm.c **** 
  61:PDM2PCM/App/pdm2pcm.c ****   /* USER CODE BEGIN PDM2PCM_Init 1 */
  62:PDM2PCM/App/pdm2pcm.c **** 
  63:PDM2PCM/App/pdm2pcm.c ****   /* USER CODE END PDM2PCM_Init 1 */
  64:PDM2PCM/App/pdm2pcm.c **** }
  77              		.loc 1 64 1 is_stmt 0 view .LVU19
  78 0030 10BD     		pop	{r4, pc}
  79              	.L4:
  80 0032 00BF     		.align	2
  81              	.L3:
  82 0034 00000000 		.word	PDM1_filter_handler
  83 0038 489D807E 		.word	2122358088
  84 003c 00000000 		.word	PDM1_filter_config
  85              		.cfi_endproc
  86              	.LFE134:
  88              		.section	.text.MX_PDM2PCM_Process,"ax",%progbits
  89              		.align	1
  90              		.global	MX_PDM2PCM_Process
  91              		.syntax unified
  92              		.thumb
  93              		.thumb_func
  95              	MX_PDM2PCM_Process:
  96              	.LVL2:
  97              	.LFB135:
  65:PDM2PCM/App/pdm2pcm.c **** 
  66:PDM2PCM/App/pdm2pcm.c **** /* USER CODE BEGIN 4 */
  67:PDM2PCM/App/pdm2pcm.c **** 
  68:PDM2PCM/App/pdm2pcm.c **** /*  process function */
  69:PDM2PCM/App/pdm2pcm.c **** uint8_t MX_PDM2PCM_Process(uint16_t *PDMBuf, uint16_t *PCMBuf)
  70:PDM2PCM/App/pdm2pcm.c **** {
  98              		.loc 1 70 1 is_stmt 1 view -0
  99              		.cfi_startproc
 100              		@ args = 0, pretend = 0, frame = 0
 101              		@ frame_needed = 0, uses_anonymous_args = 0
 102              		.loc 1 70 1 is_stmt 0 view .LVU21
 103 0000 08B5     		push	{r3, lr}
 104              		.cfi_def_cfa_offset 8
ARM GAS  C:\Temp\ccmP4w0i.s 			page 4


 105              		.cfi_offset 3, -8
 106              		.cfi_offset 14, -4
  71:PDM2PCM/App/pdm2pcm.c ****   /*
  72:PDM2PCM/App/pdm2pcm.c ****   uint8_t BSP_AUDIO_IN_PDMToPCM(uint16_t * PDMBuf, uint16_t * PCMBuf)
  73:PDM2PCM/App/pdm2pcm.c **** 
  74:PDM2PCM/App/pdm2pcm.c ****   Converts audio format from PDM to PCM.
  75:PDM2PCM/App/pdm2pcm.c ****   Parameters:
  76:PDM2PCM/App/pdm2pcm.c ****     PDMBuf : Pointer to PDM buffer data
  77:PDM2PCM/App/pdm2pcm.c ****     PCMBuf : Pointer to PCM buffer data
  78:PDM2PCM/App/pdm2pcm.c ****   Return values:
  79:PDM2PCM/App/pdm2pcm.c ****     AUDIO_OK in case of success, AUDIO_ERROR otherwise
  80:PDM2PCM/App/pdm2pcm.c ****   */
  81:PDM2PCM/App/pdm2pcm.c ****   /* this example return the default status AUDIO_ERROR */
  82:PDM2PCM/App/pdm2pcm.c **** 
  83:PDM2PCM/App/pdm2pcm.c ****   PDM_Filter((uint8_t*) PDMBuf, (uint16_t*) PCMBuf ,&PDM1_filter_handler);
 107              		.loc 1 83 3 is_stmt 1 view .LVU22
 108 0002 024A     		ldr	r2, .L7
 109 0004 FFF7FEFF 		bl	PDM_Filter
 110              	.LVL3:
  84:PDM2PCM/App/pdm2pcm.c **** 
  85:PDM2PCM/App/pdm2pcm.c ****   return (uint8_t) 1;
 111              		.loc 1 85 3 view .LVU23
  86:PDM2PCM/App/pdm2pcm.c **** }
 112              		.loc 1 86 1 is_stmt 0 view .LVU24
 113 0008 0120     		movs	r0, #1
 114 000a 08BD     		pop	{r3, pc}
 115              	.L8:
 116              		.align	2
 117              	.L7:
 118 000c 00000000 		.word	PDM1_filter_handler
 119              		.cfi_endproc
 120              	.LFE135:
 122              		.global	PDM1_filter_config
 123              		.section	.bss.PDM1_filter_config,"aw",%nobits
 124              		.align	2
 127              	PDM1_filter_config:
 128 0000 00000000 		.space	6
 128      0000
 129              		.global	PDM1_filter_handler
 130              		.section	.bss.PDM1_filter_handler,"aw",%nobits
 131              		.align	2
 134              	PDM1_filter_handler:
 135 0000 00000000 		.space	204
 135      00000000 
 135      00000000 
 135      00000000 
 135      00000000 
 136              		.text
 137              	.Letext0:
 138              		.file 2 "c:\\users\\jessejabezarendse\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-
 139              		.file 3 "c:\\users\\jessejabezarendse\\appdata\\roaming\\code\\user\\globalstorage\\bmd.stm32-for-
 140              		.file 4 "Middlewares/ST/STM32_Audio/Addons/PDM/Inc/pdm2pcm_glo.h"
 141              		.file 5 "PDM2PCM/App/pdm2pcm.h"
ARM GAS  C:\Temp\ccmP4w0i.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 pdm2pcm.c
  C:\Temp\ccmP4w0i.s:21     .text.MX_PDM2PCM_Init:00000000 $t
  C:\Temp\ccmP4w0i.s:27     .text.MX_PDM2PCM_Init:00000000 MX_PDM2PCM_Init
  C:\Temp\ccmP4w0i.s:82     .text.MX_PDM2PCM_Init:00000034 $d
  C:\Temp\ccmP4w0i.s:134    .bss.PDM1_filter_handler:00000000 PDM1_filter_handler
  C:\Temp\ccmP4w0i.s:127    .bss.PDM1_filter_config:00000000 PDM1_filter_config
  C:\Temp\ccmP4w0i.s:89     .text.MX_PDM2PCM_Process:00000000 $t
  C:\Temp\ccmP4w0i.s:95     .text.MX_PDM2PCM_Process:00000000 MX_PDM2PCM_Process
  C:\Temp\ccmP4w0i.s:118    .text.MX_PDM2PCM_Process:0000000c $d
  C:\Temp\ccmP4w0i.s:124    .bss.PDM1_filter_config:00000000 $d
  C:\Temp\ccmP4w0i.s:131    .bss.PDM1_filter_handler:00000000 $d

UNDEFINED SYMBOLS
PDM_Filter_Init
PDM_Filter_setConfig
PDM_Filter
